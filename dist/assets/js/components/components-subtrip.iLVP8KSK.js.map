{"version":3,"file":"components-subtrip.iLVP8KSK.js","sources":["../../../../src/components/subtrip/subtrip-utils/animations.ts","../../../../src/components/subtrip/subtrip-utils/useTranslatedData.ts","../../../../src/components/subtrip/subtrip-utils/data.ts","../../../../src/components/subtrip/subtrip-sections/ActivitySelection.tsx","../../../../src/components/subtrip/subtrip-utils/helpers.ts","../../../../src/components/subtrip/subtrip-sections/CalendarSelection.tsx","../../../../src/components/subtrip/subtrip-sections/LocationPicker.tsx","../../../../src/components/subtrip/subtrip-sections/ZapAnimation.tsx","../../../../src/components/subtrip/subtrip-sections/TripInterests.tsx","../../../../src/components/subtrip/subtrip-sections/TinderOptions.tsx","../../../../src/components/subtrip/subtrip-sections/TinderLocationBudget.tsx","../../../../src/components/subtrip/subtrip-sections/TravelLogistics.tsx","../../../../src/components/subtrip/subtrip-sections/AccommodationSelector.tsx","../../../../src/components/subtrip/subtrip-sections/PeopleBudget.tsx","../../../../src/components/subtrip/subtrip-sections/RoadTripVehicle.tsx","../../../../src/components/subtrip/subtrip-sections/RoadTripLocations.tsx","../../../../src/components/subtrip/subtrip-sections/RoadTripDetails.tsx","../../../../src/components/subtrip/subtrip-sections/RoadTripInterests.tsx","../../../../src/components/subtrip/subtrip-sections/PetQuestion.tsx","../../../../src/components/subtrip/subtrip-sections/ActivityTimeSelector.tsx","../../../../src/components/subtrip/subtrip-sections/StepIndicator.tsx","../../../../src/components/subtrip/subtrip-dialogs/CustomActivityDialog.tsx","../../../../src/components/subtrip/subtrip-dialogs/LoadingDialog.tsx","../../../../src/components/subtrip/subtrip-dialogs/FreeTripDialog.tsx","../../../../src/components/subtrip/subtrip-dialogs/ProfileCreationDialog.tsx","../../../../src/components/subtrip/subtrip-utils/freeTripValidation.ts"],"sourcesContent":["import { AnimationText } from '../subtrip-types';\nimport { useTranslation } from 'react-i18next';\n\nexport const pageVariants = {\n  initial: {\n    x: 20,\n    opacity: 0\n  },\n  animate: {\n    x: 0,\n    opacity: 1,\n    transition: {\n      duration: 0.15,\n      ease: \"easeOut\"\n    }\n  },\n  exit: {\n    x: -20,\n    opacity: 0,\n    transition: {\n      duration: 0.15,\n      ease: \"easeIn\"\n    }\n  }\n};\n\nexport const checkmarkVariants = {\n  initial: { scale: 0 },\n  animate: {\n    scale: 1,\n    transition: {\n      type: \"spring\",\n      stiffness: 400,\n      damping: 25\n    }\n  }\n};\n\nexport const useAnimationText = (): ((type: 'ZAPTRIP' | 'ZAPOUT' | 'ZAPROAD') => AnimationText) => {\n  const { t } = useTranslation('home');\n  \n  return (zapAnimationType: 'ZAPTRIP' | 'ZAPOUT' | 'ZAPROAD') => {\n    switch (zapAnimationType) {\n      case 'ZAPTRIP':\n        return {\n          prefix: t('letsgofora'),\n          main: \"ZAPTRIP\"\n        };\n      case 'ZAPOUT':\n        return {\n          prefix: t('letsgofora'),\n          main: \"ZAPOUT\"\n        };\n      case 'ZAPROAD':\n        return {\n          prefix: t('letsgofora'),\n          main: \"ZAPROAD\"\n        };\n    }\n  };\n}; ","import { useTranslation } from 'react-i18next';\nimport { \n  Search, \n  MapPin, \n  Heart, \n  Users, \n  Car, \n  Utensils,\n  FootprintsIcon,\n  Sun,\n  GamepadIcon,\n  Coffee,\n  Dice1,\n  Library,\n  GlassWater,\n  Landmark,\n  Gem,\n  Map as MapIcon,\n  Building,\n  UtensilsCrossed,\n  Frame as FrameIcon,\n  Snowflake,\n  Beer as BeerIcon,\n  ShoppingBag,\n  Mountain,\n  Plus,\n  Plane,\n  Train,\n  Bus,\n  Bike,\n  Tent,\n  Hotel,\n  Camera,\n  Music,\n  Palette,\n  Wine,\n  Waves,\n  TreePine,\n  Church,\n  Castle,\n  Ship,\n  Fish,\n  Flower2,\n  Leaf,\n  Umbrella,\n  Shirt,\n  Sparkles,\n  Ticket,\n  Drumstick,\n  Cookie,\n  Sandwich,\n  Soup,\n  Home as HomeIcon,\n  HeartPulse,\n  Music2,\n  MoonStar\n} from 'lucide-react';\nimport { TripInterestCategory, Currency } from '../subtrip-types';\n\nexport const useTranslatedData = () => {\n  const { t } = useTranslation('home');\n\n  const activities = [\n    { id: 'plan-trip' as const, label: 'ZapTrip', icon: MapPin },\n    { id: 'tinder-date' as const, label: 'ZapOut', icon: Heart },\n    { id: 'friends' as const, label: 'ZapOut', icon: Users },\n    { id: 'roadtrip' as const, label: 'ZapRoad', icon: Car }\n  ];\n\n  const tinderOptions = [\n    { id: 'must-see', label: t('tinderOptions.mustSee'), icon: Landmark },\n    { id: 'restaurant', label: t('tinderOptions.food'), icon: Utensils },\n    { id: 'hidden-gems', label: t('tinderOptions.hiddenGems'), icon: Gem },\n    { id: 'tours', label: t('tinderOptions.tours'), icon: MapIcon },\n    { id: 'historic', label: t('tinderOptions.historic'), icon: Building },\n    { id: 'photography-spots', label: t('tinderOptions.photographySpots'), icon: Camera },\n    { id: 'art', label: t('tinderOptions.art'), icon: FrameIcon },\n    { id: 'outdoor', label: t('tinderOptions.outdoor'), icon: Sun },\n    { id: 'seasonal-activities', label: t('tinderOptions.seasonalActivities'), icon: Snowflake },\n    { id: 'breweries', label: t('tinderOptions.breweries'), icon: BeerIcon },\n    { id: 'shopping', label: t('tinderOptions.shopping'), icon: ShoppingBag },\n    { id: 'adventure', label: t('tinderOptions.adventure'), icon: Mountain },\n    { id: 'nightlife', label: t('tinderOptions.nightlife'), icon: MoonStar },\n    { id: 'music', label: t('tinderOptions.music'), icon: Music2 },\n    { id: 'wellness', label: t('tinderOptions.wellness'), icon: HeartPulse },\n    { id: 'other', label: t('tinderOptions.other'), icon: Plus },\n  ];\n\n  const tripInterests: TripInterestCategory[] = [\n    // Culture & Heritage\n    { \n      category: 'culture',\n      items: [\n        { id: 'culture', label: t('tripInterests.culture'), icon: Landmark },\n        { id: 'museums', label: t('tripInterests.museums'), icon: Building },\n        { id: 'historical-sites', label: t('tripInterests.historicalSites'), icon: Castle },\n        { id: 'religious-sites', label: t('tripInterests.religiousSites'), icon: Church },\n        { id: 'local-traditions', label: t('tripInterests.localTraditions'), icon: Sparkles },\n      ]\n    },\n\n    // Food & Dining\n    {\n      category: 'food',\n      items: [\n        { id: 'food-drink', label: t('tripInterests.foodDrink'), icon: UtensilsCrossed },\n        { id: 'fine-dining', label: t('tripInterests.fineDining'), icon: Utensils },\n        { id: 'breweries', label: t('tripInterests.breweries'), icon: BeerIcon },\n        { id: 'street-food', label: t('tripInterests.streetFood'), icon: Drumstick },\n        { id: 'cafes', label: t('tripInterests.cafes'), icon: Coffee },\n        { id: 'wine-tasting', label: t('tripInterests.wineTasting'), icon: Wine },\n        { id: 'local-cuisine', label: t('tripInterests.localCuisine'), icon: Soup },\n        { id: 'food-tours', label: t('tripInterests.foodTours'), icon: Cookie },\n      ]\n    },\n\n    // Nature & Outdoors\n    {\n      category: 'nature',\n      items: [\n        { id: 'nature', label: t('tripInterests.nature'), icon: Mountain },\n        { id: 'hiking', label: t('tripInterests.hiking'), icon: FootprintsIcon },\n        { id: 'beaches', label: t('tripInterests.beaches'), icon: Waves },\n        { id: 'forests', label: t('tripInterests.forests'), icon: TreePine },\n        { id: 'gardens', label: t('tripInterests.gardens'), icon: Flower2 },\n        { id: 'wildlife', label: t('tripInterests.wildlife'), icon: Fish },\n        { id: 'eco-tourism', label: t('tripInterests.ecoTourism'), icon: Leaf },\n      ]\n    },\n\n    // Activities & Entertainment\n    {\n      category: 'activities',\n      items: [\n        { id: 'adventure', label: t('tripInterests.adventure'), icon: Mountain },\n        { id: 'water-sports', label: t('tripInterests.waterSports'), icon: Ship },\n        { id: 'cycling', label: t('tripInterests.cycling'), icon: Bike },\n        { id: 'nightlife', label: t('tripInterests.nightlife'), icon: BeerIcon },\n        { id: 'entertainment', label: t('tripInterests.entertainment'), icon: Ticket },\n        { id: 'festivals', label: t('tripInterests.festivals'), icon: Music },\n      ]\n    },\n\n    // Shopping & Markets\n    {\n      category: 'shopping',\n      items: [\n        { id: 'shopping', label: t('tripInterests.shopping'), icon: ShoppingBag },\n        { id: 'local-markets', label: t('tripInterests.localMarkets'), icon: ShoppingBag },\n        { id: 'fashion', label: t('tripInterests.fashion'), icon: Shirt },\n        { id: 'souvenirs', label: t('tripInterests.souvenirs'), icon: Gem },\n      ]\n    },\n\n    // Relaxation & Wellness\n    {\n      category: 'relaxation',\n      items: [\n        { id: 'relaxation', label: t('tripInterests.relaxation'), icon: Umbrella },\n        { id: 'beaches-relax', label: t('tripInterests.beachesRelax'), icon: Sun },\n        { id: 'thermal-springs', label: t('tripInterests.thermalSprings'), icon: GlassWater },\n      ]\n    },\n\n    // Arts & Photography\n    {\n      category: 'arts',\n      items: [\n        { id: 'arts', label: t('tripInterests.arts'), icon: FrameIcon },\n        { id: 'photography', label: t('tripInterests.photography'), icon: Camera },\n        { id: 'street-art', label: t('tripInterests.streetArt'), icon: Palette },\n      ]\n    },\n\n    // Local Experiences\n    {\n      category: 'localExperiences',\n      items: [\n        { id: 'local-experiences', label: t('tripInterests.localExperiences'), icon: Users },\n        { id: 'cooking-classes', label: t('tripInterests.cookingClasses'), icon: UtensilsCrossed },\n        { id: 'workshops', label: t('tripInterests.localWorkshops'), icon: Palette },\n        { id: 'guided-tours', label: t('tripInterests.guidedTours'), icon: MapIcon },\n      ]\n    },\n  ];\n\n  const transportOptions = [\n    { id: 'plane', label: t('transport.plane'), icon: Plane },\n    { id: 'train', label: t('transport.train'), icon: Train },\n    { id: 'bus', label: t('transport.bus'), icon: Bus },\n    { id: 'car', label: t('transport.car'), icon: Car }\n  ];\n\n  const accommodationOptions = [\n    { id: 'hotel', label: t('accommodation.hotel'), icon: Hotel, description: t('accommodation.hotelDesc') },\n    { id: 'airbnb', label: t('accommodation.airbnb'), icon: Building, description: t('accommodation.airbnbDesc') },\n    { id: 'hostel', label: t('accommodation.hostel'), icon: Users, description: t('accommodation.hostelDesc') },\n    { id: 'camping', label: t('accommodation.camping'), icon: Tent, description: t('accommodation.campingDesc') },\n    { id: 'resort', label: t('accommodation.resort'), icon: Umbrella, description: t('accommodation.resortDesc') },\n    { id: 'bnb', label: t('accommodation.bnb'), icon: Coffee, description: t('accommodation.bnbDesc') },\n  ];\n\n  const currencies: Currency[] = [\n    { value: \"USD\", label: \"USD - US Dollar\", symbol: \"$\" },\n    { value: \"EUR\", label: \"EUR - Euro\", symbol: \"€\" },\n    { value: \"GBP\", label: \"GBP - British Pound\", symbol: \"£\" },\n    { value: \"CAD\", label: \"CAD - Canadian Dollar\", symbol: \"$\" },\n    { value: \"AUD\", label: \"AUD - Australian Dollar\", symbol: \"$\" },\n    { value: \"JPY\", label: \"JPY - Japanese Yen\", symbol: \"¥\" },\n    { value: \"CNY\", label: \"CNY - Chinese Yuan\", symbol: \"¥\" },\n    { value: \"CHF\", label: \"CHF - Swiss Franc\", symbol: \"$\" },\n    { value: \"INR\", label: \"INR - Indian Rupee\", symbol: \"₹\" },\n    { value: \"BRL\", label: \"BRL - Brazilian Real\", symbol: \"$\" },\n  ];\n\n  const roadTripInterestCategories: TripInterestCategory[] = [\n    // Scenic & Nature\n    {\n      category: 'scenicNature',\n      items: [\n        { id: 'scenic-routes', label: t('roadTrip.interests.scenic'), icon: Mountain },\n        { id: 'photo-spots', label: t('roadTrip.interests.photo'), icon: Camera },\n        { id: 'landmarks', label: t('roadTrip.interests.landmarks'), icon: Landmark },\n        { id: 'nature', label: t('roadTrip.interests.nature'), icon: TreePine },\n        { id: 'beaches', label: t('roadTrip.interests.beaches'), icon: Waves },\n      ]\n    },\n    // Places\n    {\n      category: 'places',\n      items: [\n        { id: 'small-towns', label: t('roadTrip.interests.towns'), icon: HomeIcon },\n        { id: 'museums', label: t('roadTrip.interests.museums'), icon: Building },\n        { id: 'parks', label: t('roadTrip.interests.parks'), icon: Leaf },\n      ]\n    },\n    // Activities\n    {\n      category: 'activities',\n      items: [\n        { id: 'local-food', label: t('roadTrip.interests.food'), icon: UtensilsCrossed },\n        { id: 'camping', label: t('roadTrip.interests.camping'), icon: Tent },\n        { id: 'shopping', label: t('roadTrip.interests.shopping'), icon: ShoppingBag },\n        { id: 'entertainment', label: t('roadTrip.interests.entertainment'), icon: Music },\n      ]\n    }\n  ];\n\n  return {\n    activities,\n    tinderOptions,\n    tripInterests,\n    transportOptions,\n    accommodationOptions,\n    currencies,\n    roadTripInterestCategories\n  };\n}; ","import { \n  Search, \n  MapPin, \n  Heart, \n  Users, \n  Car, \n  Utensils,\n  FootprintsIcon,\n  Sun,\n  GamepadIcon,\n  Coffee,\n  Dice1,\n  Library,\n  GlassWater,\n  Landmark,\n  Gem,\n  Map as MapIcon,\n  Building,\n  UtensilsCrossed,\n  Frame as FrameIcon,\n  Snowflake,\n  Beer as BeerIcon,\n  ShoppingBag,\n  Mountain,\n  Plus,\n  Plane,\n  Train,\n  Bus,\n  Bike,\n  Tent,\n  Hotel,\n  Camera,\n  Music,\n  Palette,\n  Wine,\n  Waves,\n  TreePine,\n  Church,\n  Castle,\n  Ship,\n  Fish,\n  Flower2,\n  Leaf,\n  Umbrella,\n  Shirt,\n  Sparkles,\n  Ticket,\n  Drumstick,\n  Cookie,\n  Sandwich,\n  Soup,\n  Home as HomeIcon,\n  MoonStar,\n  HeartPulse,\n  Music2\n} from 'lucide-react';\nimport { TripInterestCategory, Currency } from '../subtrip-types';\nimport i18next from 'i18next';\n\n// Helper function to get translations\nconst t = (key: string) => i18next.t(key, { ns: 'home' });\n\nexport const activities = [\n  { id: 'plan-trip' as const, label: 'ZapTrip', icon: MapPin },\n  { id: 'tinder-date' as const, label: 'ZapOut', icon: Heart },\n  { id: 'friends' as const, label: 'ZapOut', icon: Users },\n  { id: 'roadtrip' as const, label: 'ZapRoad', icon: Car }\n];\n\nexport const tinderOptions = [\n  { id: 'must-see', label: t('tinderOptions.mustSee'), icon: Landmark },\n  { id: 'restaurant', label: t('tinderOptions.food'), icon: Utensils },\n  { id: 'hidden-gems', label: t('tinderOptions.hiddenGems'), icon: Gem },\n  { id: 'tours', label: t('tinderOptions.tours'), icon: MapIcon },\n  { id: 'historic', label: t('tinderOptions.historic'), icon: Building },\n  { id: 'photography-spots', label: t('tinderOptions.photographySpots'), icon: Camera },\n  { id: 'art', label: t('tinderOptions.art'), icon: FrameIcon },\n  { id: 'outdoor', label: t('tinderOptions.outdoor'), icon: Sun },\n  { id: 'seasonal-activities', label: t('tinderOptions.seasonalActivities'), icon: Snowflake },\n  { id: 'breweries', label: t('tinderOptions.breweries'), icon: BeerIcon },\n  { id: 'shopping', label: t('tinderOptions.shopping'), icon: ShoppingBag },\n  { id: 'adventure', label: t('tinderOptions.adventure'), icon: Mountain },\n  { id: 'nightlife', label: t('tinderOptions.nightlife'), icon: MoonStar },\n  { id: 'music', label: t('tinderOptions.music'), icon: Music2 },\n  { id: 'wellness', label: t('tinderOptions.wellness'), icon: HeartPulse },\n  { id: 'other', label: t('tinderOptions.other'), icon: Plus },\n];\n\nexport const tripInterests: TripInterestCategory[] = [\n  // Culture & Heritage\n  { \n    category: 'culture',\n    items: [\n      { id: 'culture', label: 'culture', icon: Landmark },\n      { id: 'museums', label: 'museums', icon: Building },\n      { id: 'historical-sites', label: 'historicalSites', icon: Castle },\n      { id: 'religious-sites', label: 'religiousSites', icon: Church },\n      { id: 'local-traditions', label: 'localTraditions', icon: Sparkles },\n    ]\n  },\n\n  // Food & Dining\n  {\n    category: 'food',\n    items: [\n      { id: 'food-drink', label: 'foodDrink', icon: UtensilsCrossed },\n      { id: 'fine-dining', label: 'fineDining', icon: Utensils },\n      { id: 'breweries', label: 'breweries', icon: BeerIcon },\n      { id: 'street-food', label: 'streetFood', icon: Drumstick },\n      { id: 'cafes', label: 'cafes', icon: Coffee },\n      { id: 'wine-tasting', label: 'wineTasting', icon: Wine },\n      { id: 'local-cuisine', label: 'localCuisine', icon: Soup },\n      { id: 'food-tours', label: 'foodTours', icon: Cookie },\n    ]\n  },\n\n  // Nature & Outdoors\n  {\n    category: 'nature',\n    items: [\n      { id: 'nature', label: 'nature', icon: Mountain },\n      { id: 'hiking', label: 'hiking', icon: FootprintsIcon },\n      { id: 'beaches', label: 'beaches', icon: Waves },\n      { id: 'forests', label: 'forests', icon: TreePine },\n      { id: 'gardens', label: 'gardens', icon: Flower2 },\n      { id: 'wildlife', label: 'wildlife', icon: Fish },\n      { id: 'eco-tourism', label: 'ecoTourism', icon: Leaf },\n    ]\n  },\n\n  // Activities & Entertainment\n  {\n    category: 'activities',\n    items: [\n      { id: 'adventure', label: 'adventure', icon: Mountain },\n      { id: 'water-sports', label: 'waterSports', icon: Ship },\n      { id: 'cycling', label: 'cycling', icon: Bike },\n      { id: 'nightlife', label: 'nightlife', icon: BeerIcon },\n      { id: 'entertainment', label: 'entertainment', icon: Ticket },\n      { id: 'festivals', label: 'festivals', icon: Music },\n    ]\n  },\n\n  // Shopping & Markets\n  {\n    category: 'shopping',\n    items: [\n      { id: 'shopping', label: 'shopping', icon: ShoppingBag },\n      { id: 'local-markets', label: 'localMarkets', icon: ShoppingBag },\n      { id: 'fashion', label: 'fashion', icon: Shirt },\n      { id: 'souvenirs', label: 'souvenirs', icon: Gem },\n    ]\n  },\n\n  // Relaxation & Wellness\n  {\n    category: 'relaxation',\n    items: [\n      { id: 'relaxation', label: 'relaxation', icon: Umbrella },\n      { id: 'beaches-relax', label: 'beachesRelax', icon: Sun },\n      { id: 'thermal-springs', label: 'thermalSprings', icon: GlassWater },\n    ]\n  },\n\n  // Arts & Photography\n  {\n    category: 'arts',\n    items: [\n      { id: 'arts', label: 'arts', icon: FrameIcon },\n      { id: 'photography', label: 'photography', icon: Camera },\n      { id: 'street-art', label: 'streetArt', icon: Palette },\n    ]\n  },\n\n  // Local Experiences\n  {\n    category: 'localExperiences',\n    items: [\n      { id: 'local-exp', label: 'localExperiences', icon: Users },\n      { id: 'cooking-classes', label: 'cookingClasses', icon: UtensilsCrossed },\n      { id: 'workshops', label: 'localWorkshops', icon: Palette },\n      { id: 'guided-tours', label: 'guidedTours', icon: MapIcon },\n    ]\n  },\n];\n\nexport const transportOptions = [\n  { id: 'plane', label: 'Plane', icon: Plane },\n  { id: 'train', label: 'Train', icon: Train },\n  { id: 'bus', label: 'Bus', icon: Bus },\n  { id: 'car', label: 'Car', icon: Car }\n];\n\nexport const accommodationOptions = [\n  { id: 'hotel', label: 'Hotel', icon: Hotel, description: 'Traditional hotel accommodation' },\n  { id: 'airbnb', label: 'Airbnb', icon: Building, description: 'Vacation rentals and homes' },\n  { id: 'hostel', label: 'Youth Hostel', icon: Users, description: 'Budget-friendly shared accommodation' },\n  { id: 'camping', label: 'Camping', icon: Tent, description: 'Outdoor camping experience' },\n  { id: 'resort', label: 'Resort', icon: Umbrella, description: 'All-inclusive resort stays' },\n  { id: 'bnb', label: 'Bed & Breakfast', icon: Coffee, description: 'Cozy B&B experience' },\n];\n\nexport const currencies: Currency[] = [\n  { value: \"USD\", label: \"USD - US Dollar\", symbol: \"$\" },\n  { value: \"EUR\", label: \"EUR - Euro\", symbol: \"€\" },\n  { value: \"GBP\", label: \"GBP - British Pound\", symbol: \"£\" },\n  { value: \"CAD\", label: \"CAD - Canadian Dollar\", symbol: \"$\" },\n  { value: \"AUD\", label: \"AUD - Australian Dollar\", symbol: \"$\" },\n  { value: \"JPY\", label: \"JPY - Japanese Yen\", symbol: \"¥\" },\n  { value: \"CNY\", label: \"CNY - Chinese Yuan\", symbol: \"¥\" },\n  { value: \"CHF\", label: \"CHF - Swiss Franc\", symbol: \"$\" },\n  { value: \"INR\", label: \"INR - Indian Rupee\", symbol: \"₹\" },\n  { value: \"BRL\", label: \"BRL - Brazilian Real\", symbol: \"$\" },\n];\n\n// Road trip specific interest categories\nexport const roadTripInterestCategories: TripInterestCategory[] = [\n  // Scenic & Nature\n  {\n    category: 'scenicNature',\n    items: [\n      { id: 'scenic-routes', label: 'scenic', icon: Mountain },\n      { id: 'photo-spots', label: 'photo', icon: Camera },\n      { id: 'landmarks', label: 'landmarks', icon: Landmark },\n      { id: 'nature', label: 'nature', icon: TreePine },\n      { id: 'beaches', label: 'beaches', icon: Waves },\n    ]\n  },\n  // Places\n  {\n    category: 'places',\n    items: [\n      { id: 'small-towns', label: 'towns', icon: HomeIcon },\n      { id: 'museums', label: 'museums', icon: Building },\n      { id: 'parks', label: 'parks', icon: Leaf },\n    ]\n  },\n  // Activities\n  {\n    category: 'activities',\n    items: [\n      { id: 'local-food', label: 'food', icon: UtensilsCrossed },\n      { id: 'camping', label: 'camping', icon: Tent },\n      { id: 'shopping', label: 'shopping', icon: ShoppingBag },\n      { id: 'entertainment', label: 'entertainment', icon: Music },\n    ]\n  }\n];\n\nexport { useTranslatedData as default } from './useTranslatedData'; ","import React, { forwardRef, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\nimport useTranslatedData from '../subtrip-utils/data';\nimport { Compass, Lock, PlaneTakeoff, CableCar, Car, Heart } from 'lucide-react';\nimport { useUserRole } from '@/hooks/useUserRole';\nimport { useNavigate } from 'react-router-dom';\nimport { useToast } from '@/hooks/use-toast';\nimport { setHomepageCreateTripCache } from '@/utils/cache';\nimport { supabase } from '@/integrations/supabase/client';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\ninterface ActivitySelectionProps {\n  selectedActivity: 'plan-trip' | 'tinder-date' | 'friends' | 'roadtrip' | null;\n  hasPets?: boolean | null;\n  onSelectActivity: (activity: 'plan-trip' | 'tinder-date' | 'friends' | 'roadtrip') => void;\n  onSetHasPets?: (value: boolean) => void;\n  onNext: (activityId?: 'plan-trip' | 'tinder-date' | 'friends' | 'roadtrip') => void;\n  embedded?: boolean;\n}\n\ntype ActivityType = 'plan-trip' | 'tinder-date' | 'friends' | 'roadtrip';\n\ninterface Activity {\n  id: string;\n  label: string;\n  icon: React.ElementType;\n  description: string;\n}\n\nconst ActivitySelection = forwardRef<HTMLDivElement, ActivitySelectionProps>(({\n  selectedActivity,\n  hasPets,\n  onSelectActivity,\n  onSetHasPets,\n  onNext,\n  embedded = false\n}, ref) => {\n  const { t } = useTranslation('home');\n  const { activities } = useTranslatedData();\n  const { userRole } = useUserRole();\n  const navigate = useNavigate();\n  const { toast } = useToast();\n\n  // Override the activities with our custom icons\n  const customActivities: Activity[] = [\n    {\n      id: 'plan-trip',\n      label: embedded ? t('activity.planTrip') : 'ZapTrip',\n      icon: PlaneTakeoff,\n      description: t('activity.description.plan-trip')\n    },\n    // Romantic Date option only shown when embedded\n    ...(embedded ? [{\n      id: 'romantic-date' as any,\n      label: embedded ? t('activity.tinderDate') : 'Romantic Date',\n      icon: Heart,\n      description: t('activity.description.tinder-date'),\n    }] : []),\n    {\n      id: 'friends',\n      label: embedded ? t('activity.friendsActivity') : 'ZapOut',\n      icon: CableCar,\n      description: t('activity.description.friends')\n    },\n    {\n      id: 'roadtrip',\n      label: embedded ? t('activity.roadTrip') : 'ZapRoad',\n      icon: Car,\n      description: t('activity.description.roadtrip')\n    }\n  ];\n\n  const canAccessActivity = (activityId: string) => {\n    // If user is not connected (no userRole), allow access to all activities\n    if (!userRole) return true;\n    // Allow access to all activities for users with 'nosubs' role\n    if (userRole === 'nosubs') return true;\n    switch (activityId) {\n      case 'plan-trip':\n        return ['admin', 'tier1', 'tier4'].includes(userRole);\n      case 'friends':\n        return ['admin', 'tier2', 'tier4'].includes(userRole);\n      case 'roadtrip':\n        return ['admin', 'tier3', 'tier4'].includes(userRole);\n      default:\n        return false;\n    }\n  };\n\n  const getRequiredTier = (activityId: string) => {\n    switch (activityId) {\n      case 'plan-trip':\n        return 'tier1';\n      case 'friends':\n        return 'tier2';\n      case 'roadtrip':\n        return 'tier3';\n      default:\n        return 'tier1';\n    }\n  };\n\n  const handleActivitySelect = async (activityId: 'plan-trip' | 'tinder-date' | 'friends' | 'roadtrip') => {\n    if (canAccessActivity(activityId)) {\n      // Set homepage create trip cache when activity is selected from homepage\n      if (embedded) {\n        try {\n          const { data: { user } } = await supabase.auth.getUser();\n          if (user) {\n            // User is authenticated - set cache with their user ID\n            const activityData = {\n              selectedActivity: activityId,\n              source: 'homepage',\n              activityLabel: customActivities.find(a => a.id === activityId)?.label,\n              startedAt: new Date().toISOString(),\n            };\n            setHomepageCreateTripCache(user.id, activityData);\n          } else {\n            // User is not authenticated - set temporary cache with session identifier\n            const tempUserId = 'temp-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);\n            const activityData = {\n              selectedActivity: activityId,\n              source: 'homepage',\n              activityLabel: customActivities.find(a => a.id === activityId)?.label,\n              startedAt: new Date().toISOString(),\n              isTemporary: true,\n            };\n            // Store in sessionStorage for non-authenticated users\n            sessionStorage.setItem('homepage-create-trip-temp', JSON.stringify(activityData));\n          }\n        } catch (error) {\n          console.error('Error setting homepage create trip cache:', error);\n          // Don't block the flow if cache fails\n        }\n      }\n      \n      onSelectActivity(activityId);\n      // Automatically proceed to next step after selecting an activity\n      // Pass the activityId directly to avoid state timing issues\n      onNext(activityId);\n    } else {\n      // Only show tier restrictions for connected users\n      if (userRole) {\n        if (userRole === 'nosubs') {\n          toast({\n            title: t('activity.freeTripsExhausted'),\n            description: t('activity.upgradeForMore'),\n            variant: \"destructive\"\n          });\n          navigate('/dashboard');\n        } else {\n          toast({\n            title: t('activity.accessDenied'),\n            description: activityId === 'plan-trip' \n              ? t('activity.tier1Required')\n              : t('activity.tier2Required'),\n            variant: \"destructive\"\n          });\n          navigate('/pricing');\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    // Debug activity translations\n    console.log('Activity translations:');\n    console.log('Plan Trip:', 'ZapTrip');\n    console.log('Friends Activity:', 'ZapOut');\n    console.log('Road Trip:', 'ZapRoad');\n    console.log('Activities from data:', customActivities.map(a => a.label));\n  }, []);\n\n  return (\n    <motion.div\n      ref={ref}\n      key=\"activity-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full max-w-6xl mx-auto\"\n    >\n      {!embedded && (\n        <div className=\"text-center mb-6 md:mb-12\">\n          <motion.h1 \n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ duration: 0.5, delay: 0.1 }}\n            className=\"text-xl sm:text-2xl md:text-5xl lg:text-6xl font-bold text-white mb-2 md:mb-3\"\n          >\n            {t('activity.title')}\n          </motion.h1>\n        </div>\n      )}\n\n\n\n      <motion.div \n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.3 }}\n        className={cn(\n          \"grid grid-cols-1 sm:grid-cols-2 gap-y-3 gap-x-2 md:gap-6 max-w-5xl mx-auto\",\n          embedded ? \"grid-cols-2 md:grid-cols-4\" : \"md:grid-cols-3\"\n        )}\n      >\n        {customActivities.map((activity, index) => {\n          const Icon = activity.icon;\n          const isAccessible = activity.id === 'romantic-date'\n            ? canAccessActivity('friends')\n            : canAccessActivity(activity.id);\n          const requiredTier = activity.id === 'romantic-date'\n            ? getRequiredTier('friends')\n            : getRequiredTier(activity.id);\n          \n          return (\n            <TooltipProvider key={activity.id}>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <motion.button\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.2 + index * 0.1 }}\n                    onClick={() => {\n                      if (activity.id === 'romantic-date') {\n                        handleActivitySelect('friends');\n                      } else {\n                        handleActivitySelect(activity.id as ActivityType);\n                      }\n                    }}\n                    className={cn(\n                      \"relative rounded-2xl border transition-all duration-300\",\n                      // Compact sizing when embedded (homepage)\n                      embedded\n                        ? \"p-3 sm:p-4 md:p-4 min-h-[120px] sm:min-h-[140px] md:min-h-[160px] gap-2 md:gap-4 max-w-[140px] sm:max-w-[160px] md:max-w-[190px]\"\n                        : \"p-4 sm:p-6 md:p-12 min-h-[140px] sm:min-h-[180px] md:min-h-[220px] gap-2 md:gap-8 max-w-xs\",\n                      \"flex flex-col items-center justify-center overflow-hidden group min-w-0 w-full mx-auto\",\n                      isAccessible \n                        ? \"hover:scale-[1.03]\"\n                        : userRole \n                          ? \"cursor-not-allowed\"\n                          : \"hover:scale-[1.03]\",\n                      (selectedActivity === activity.id || (activity.id === 'romantic-date' && selectedActivity === 'friends'))\n                        ? activity.id === 'plan-trip'\n                          ? \"bg-gradient-to-br from-sky-500/20 to-blue-500/5 border-sky-500 shadow-lg shadow-sky-500/10\"\n                          : activity.id === 'friends'\n                          ? \"bg-gradient-to-br from-emerald-500/20 to-teal-500/5 border-emerald-500 shadow-lg shadow-emerald-500/10\"\n                          : activity.id === 'romantic-date'\n                          ? \"bg-gradient-to-br from-rose-500/20 to-red-500/5 border-red-500 shadow-lg shadow-red-500/10\"\n                          : \"bg-gradient-to-br from-amber-500/20 to-yellow-500/5 border-amber-500 shadow-lg shadow-amber-500/10\"\n                        : isAccessible\n                          ? \"bg-white/95 backdrop-blur-sm border-white/20 hover:border-[#61936f]/50 hover:shadow-lg hover:shadow-[#61936f]/5\"\n                          : userRole\n                            ? \"bg-white/80 backdrop-blur-sm border-white/10 grayscale-[30%]\"\n                            : \"bg-white/95 backdrop-blur-sm border-white/20 hover:border-[#61936f]/50 hover:shadow-lg hover:shadow-[#61936f]/5\"\n                    )}\n                  >\n                    {/* Background gradient effect */}\n                    <div className={cn(\n                      \"absolute inset-0 bg-gradient-to-br opacity-0 transition-opacity duration-300\",\n                      activity.id === 'plan-trip'\n                        ? \"from-sky-500/10 to-blue-500/5\"\n                        : activity.id === 'friends'\n                        ? \"from-emerald-500/10 to-teal-500/5\"\n                        : activity.id === 'romantic-date'\n                        ? \"from-rose-500/10 to-red-500/5\"\n                        : \"from-amber-500/10 to-yellow-500/5\",\n                      (isAccessible || !userRole) && \"group-hover:opacity-100\"\n                    )} />\n\n                    {/* Lock overlay for inaccessible activities - only show for connected users */}\n                    {!isAccessible && userRole && (\n                      <div className=\"absolute inset-0 bg-[#030303]/5 backdrop-blur-[1px] flex items-center justify-center\">\n                        <div className=\"absolute top-2 right-2 bg-[#1d1d1e]/90 rounded-full p-1\">\n                          <Lock className=\"w-3 h-3 text-white\" />\n                        </div>\n                      </div>\n                    )}\n\n                    <div className={cn(\n                      \"relative rounded-2xl flex items-center justify-center\",\n                      embedded\n                        ? \"w-10 h-10 sm:w-12 sm:h-12 md:w-16 md:h-16\"\n                        : \"w-14 h-14 sm:w-20 sm:h-20 md:w-28 md:h-28\",\n                      \"transition-all duration-300 transform\",\n                      (isAccessible || !userRole) && \"group-hover:scale-110\",\n                      (selectedActivity === activity.id || (activity.id === 'romantic-date' && selectedActivity === 'friends'))\n                        ? activity.id === 'plan-trip'\n                          ? \"bg-sky-500 text-white shadow-lg shadow-sky-500/20\"\n                          : activity.id === 'friends'\n                          ? \"bg-emerald-500 text-white shadow-lg shadow-emerald-500/20\"\n                          : activity.id === 'romantic-date'\n                          ? \"bg-red-500 text-white shadow-lg shadow-red-500/20\"\n                          : \"bg-amber-500 text-white shadow-lg shadow-amber-500/20\"\n                        : isAccessible\n                          ? activity.id === 'plan-trip'\n                            ? \"bg-sky-500/10 text-sky-500 group-hover:bg-sky-500/20\"\n                            : activity.id === 'friends'\n                            ? \"bg-emerald-500/10 text-emerald-500 group-hover:bg-emerald-500/20\"\n                            : activity.id === 'romantic-date'\n                            ? \"bg-red-500/10 text-red-500 group-hover:bg-red-500/20\"\n                            : \"bg-amber-500/10 text-amber-500 group-hover:bg-amber-500/20\"\n                          : userRole\n                            ? \"bg-gray-100/80 text-gray-400\"\n                            : activity.id === 'plan-trip'\n                              ? \"bg-sky-500/10 text-sky-500 group-hover:bg-sky-500/20\"\n                              : activity.id === 'friends'\n                                ? \"bg-emerald-500/10 text-emerald-500 group-hover:bg-emerald-500/20\"\n                                : activity.id === 'romantic-date'\n                                  ? \"bg-red-500/10 text-red-500 group-hover:bg-red-500/20\"\n                                  : \"bg-amber-500/10 text-amber-500 group-hover:bg-amber-500/20\"\n                    )}>\n                      <Icon className=\"w-10 h-10 sm:w-14 sm:h-14 md:w-20 md:h-20\" />\n                    </div>\n\n                    <div className=\"relative flex flex-col items-center gap-1 md:gap-3 w-full\">\n                      <span className={cn(\n                        cn(\n                          embedded ? \"text-sm sm:text-base md:text-lg\" : \"text-base sm:text-lg md:text-2xl\",\n                          \"font-semibold text-center transition-colors duration-300\"\n                        ),\n                        (selectedActivity === activity.id || (activity.id === 'romantic-date' && selectedActivity === 'friends'))\n                          ? activity.id === 'plan-trip'\n                            ? \"text-sky-500\"\n                            : activity.id === 'friends'\n                            ? \"text-emerald-500\"\n                            : activity.id === 'romantic-date'\n                            ? \"text-red-500\"\n                            : \"text-amber-500\"\n                          : isAccessible\n                            ? activity.id === 'plan-trip'\n                              ? \"text-sky-500\"\n                              : activity.id === 'friends'\n                              ? \"text-emerald-500\"\n                              : activity.id === 'romantic-date'\n                              ? \"text-red-500\"\n                              : \"text-amber-500\"\n                            : userRole\n                              ? \"text-[#1d1d1e]/70\"\n                              : activity.id === 'plan-trip'\n                                ? \"text-sky-500\"\n                                : activity.id === 'friends'\n                                  ? \"text-emerald-500\"\n                                  : activity.id === 'romantic-date'\n                                    ? \"text-red-500\"\n                                    : \"text-amber-500\"\n                      )}>\n                        {activity.label}\n                      </span>\n                      {/* Always show description on mobile, only on desktop for md+ */}\n                      <span className={cn(\n                        embedded ? \"text-[10px] sm:text-xs text-center block md:hidden\" : \"text-xs sm:text-sm text-center block md:hidden\",\n                        (selectedActivity === activity.id || (activity.id === 'romantic-date' && selectedActivity === 'friends')) ? \"text-white\" : \"text-gray-500/80\"\n                      )}>\n                        {activity.description}\n                      </span>\n                      <span className={cn(\n                        embedded ? \"text-sm text-center hidden md:block\" : \"text-base text-center hidden md:block\",\n                        (selectedActivity === activity.id || (activity.id === 'romantic-date' && selectedActivity === 'friends')) ? \"text-white\" : \"text-gray-500/80\"\n                      )}>\n                        {activity.description}\n                      </span>\n                      {!isAccessible && userRole && (\n                        <div className=\"flex items-center gap-2 mt-1\">\n                          <span className=\"px-2 py-0.5 rounded-full bg-[#61936f]/10 text-xs font-medium text-[#61936f]\">\n                            {requiredTier === 'tier1' \n                              ? t('activity.tier1Required') \n                              : t('activity.tier2Required')}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </motion.button>\n                </TooltipTrigger>\n                {!isAccessible && userRole && (\n                  <TooltipContent>\n                    <p>{t('activity.accessDenied')}</p>\n                    <p className=\"text-xs text-[#61936f]\">\n                      {requiredTier === 'tier1' \n                        ? t('activity.tier1Required') \n                        : t('activity.tier2Required')}\n                    </p>\n                  </TooltipContent>\n                )}\n              </Tooltip>\n            </TooltipProvider>\n          );\n        })}\n      </motion.div>\n\n\n    </motion.div>\n  );\n});\n\nActivitySelection.displayName = 'ActivitySelection';\n\nexport default ActivitySelection; ","import { format } from \"date-fns\";\nimport { fr } from 'date-fns/locale';\nimport { Currency } from '../subtrip-types';\n\nexport const formatDateWithCapitalMonth = (date: Date) => {\n  const formatted = format(date, \"dd MMM yyyy\", { locale: fr });\n  return formatted.charAt(0).toUpperCase() + formatted.slice(1);\n};\n\nexport const findCurrencyByValue = (currencies: Currency[], value: string): Currency | undefined => {\n  return currencies.find(c => c.value === value);\n};\n\nexport const getCurrencySymbol = (currencies: Currency[], currencyCode: string): string => {\n  const currency = findCurrencyByValue(currencies, currencyCode);\n  return currency?.symbol || '$';\n};\n\n// Maps country codes to currencies (simplified version)\nexport const countryCurrencyMap: { [key: string]: { code: string, symbol: string } } = {\n  'US': { code: 'USD', symbol: '$' },\n  'GB': { code: 'GBP', symbol: '£' },\n  'EU': { code: 'EUR', symbol: '€' },\n  'CA': { code: 'CAD', symbol: '$' },\n  'AU': { code: 'AUD', symbol: '$' },\n  'JP': { code: 'JPY', symbol: '¥' },\n  'CN': { code: 'CNY', symbol: '¥' },\n  'CH': { code: 'CHF', symbol: '$' },\n  'IN': { code: 'INR', symbol: '₹' },\n  'BR': { code: 'BRL', symbol: '$' },\n};\n\nexport const getCountryCurrency = (countryCode: string | undefined): { code: string, symbol: string } => {\n  if (!countryCode || !countryCurrencyMap[countryCode]) {\n    return { code: 'USD', symbol: '$' };\n  }\n  return countryCurrencyMap[countryCode];\n};\n\nexport const getAnimationText = (zapAnimationType: 'ZAPTRIP' | 'ZAPOUT' | 'ZAPROAD') => {\n  switch (zapAnimationType) {\n    case 'ZAPTRIP':\n      return {\n        prefix: \"Let's go for a\",\n        main: \"ZAPTRIP\"\n      };\n    case 'ZAPOUT':\n      return {\n        prefix: \"Let's go for a\",\n        main: \"ZAPOUT\"\n      };\n    case 'ZAPROAD':\n      return {\n        prefix: \"Let's go for a\",\n        main: \"ZAPROAD\"\n      };\n  }\n};\n\nexport const fetchLocationImage = async (locationName: string) => {\n  try {\n    // First get location details from OpenAI to generate a good description\n    const response = await fetch('/api/location-details', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ location: locationName }),\n    });\n    \n    const locationDetails = await response.json();\n\n    // Then fetch a relevant image from Unsplash\n    const imageResponse = await fetch('/api/unsplash-image', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ query: locationName }),\n    });\n    \n    const imageData = await imageResponse.json();\n    return { locationDetails, imageUrl: imageData.url };\n  } catch (error) {\n    console.error('Error fetching location data:', error);\n    return null;\n  }\n};\n\nexport const getCurrentLocation = async (): Promise<{ name: string; coordinates: [number, number] } | null> => {\n  return new Promise((resolve, reject) => {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition(\n        async (position) => {\n          try {\n            const response = await fetch(\n              `https://api.mapbox.com/geocoding/v5/mapbox.places/${position.coords.longitude},${position.coords.latitude}.json?access_token=pk.eyJ1IjoibWlzdGVyZnJhenoiLCJhIjoiY203M2ZnM3BoMDhpMTJqcTNiYWpkamIzNyJ9.2SlcuEPIL2yCJw5TIPunVQ&types=place`\n            );\n            const data = await response.json();\n            if (data.features && data.features[0]) {\n              const locationName = data.features[0].place_name;\n              resolve({\n                name: locationName,\n                coordinates: [position.coords.latitude, position.coords.longitude]\n              });\n            } else {\n              resolve(null);\n            }\n          } catch (error) {\n            reject(error);\n          }\n        },\n        (error) => {\n          reject(error);\n        }\n      );\n    } else {\n      reject(new Error(\"Geolocation is not supported\"));\n    }\n  });\n}; ","import React, { forwardRef } from 'react';\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { useTranslation } from 'react-i18next';\nimport { formatDateWithCapitalMonth } from '../subtrip-utils/helpers';\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\nimport type { DateRange } from \"react-day-picker\";\nimport { ChevronLeft, CalendarIcon } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\n\n// Define trip type colors\nconst TRIP_COLORS = {\n  'plan-trip': '#61936f', // ZapTrip - Green\n  'roadtrip': '#61936f', // ZapRoad - Blue\n  'tinder-date': '#61936f', // ZapOut - Pink\n  'friends': '#61936f', // ZapOut - Pink\n} as const;\n\ninterface SingleDateCalendarProps {\n  selectedDate: Date | undefined;\n  setSelectedDate: (date: Date | undefined) => void;\n  selectedActivity: 'plan-trip' | 'tinder-date' | 'friends' | 'roadtrip' | null;\n}\n\nexport const SingleDateCalendar: React.FC<SingleDateCalendarProps> = ({ \n  selectedDate, \n  setSelectedDate,\n  selectedActivity \n}) => {\n  const { t } = useTranslation('home');\n  const [isCalendarOpen, setIsCalendarOpen] = React.useState(false);\n\n  const handleTodayClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const today = new Date();\n    setSelectedDate(today);\n    setIsCalendarOpen(false);\n  };\n\n  const tripColor = selectedActivity ? TRIP_COLORS[selectedActivity] : '#61936f';\n\n  return (\n    <div className=\"w-full space-y-4\">\n      <div className=\"flex items-center gap-4\">\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          className={cn(\n            \"text-white hover:opacity-90 min-w-[100px]\",\n            `bg-[${tripColor}]`\n          )}\n          onClick={handleTodayClick}\n        >\n          {t('calendar.today')}\n        </Button>\n\n        <Popover open={isCalendarOpen} onOpenChange={setIsCalendarOpen}>\n          <PopoverTrigger asChild>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              className={cn(\n                \"flex-1 justify-start text-left font-normal\",\n                !selectedDate && \"text-muted-foreground\"\n              )}\n            >\n              <CalendarIcon className=\"mr-2 h-4 w-4\" />\n              {selectedDate ? formatDateWithCapitalMonth(selectedDate) : t('calendar.selectDate.placeholder')}\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent \n            className=\"w-auto p-4\" \n            align=\"start\"\n            sideOffset={4}\n            onInteractOutside={(e) => {\n              e.preventDefault();\n            }}\n          >\n            <Calendar\n              mode=\"single\"\n              selected={selectedDate}\n              onSelect={(date) => {\n                setSelectedDate(date);\n                if (date) {\n                  setIsCalendarOpen(false);\n                }\n              }}\n              numberOfMonths={1}\n              disabled={(date) => date < new Date()}\n              showOutsideDays={true}\n              className=\"rounded-md border-none\"\n              classNames={{\n                months: \"w-full flex justify-center\",\n                month: \"w-full space-y-4\",\n                caption: \"flex justify-center pt-1 relative items-center text-base\",\n                caption_label: \"text-base font-medium\",\n                nav: \"space-x-1 flex items-center\",\n                nav_button: cn(\n                  buttonVariants({ variant: \"outline\" }),\n                  \"h-8 w-8 bg-transparent p-0 opacity-50 hover:opacity-100\"\n                ),\n                nav_button_previous: \"absolute left-1\",\n                nav_button_next: \"absolute right-1\",\n                table: \"w-full border-collapse space-y-1\",\n                head_row: \"flex w-full justify-between px-1\",\n                head_cell: \"text-muted-foreground rounded-md w-9 font-normal text-[0.875rem] text-center\",\n                row: \"flex w-full justify-between mt-2 px-1\",\n                cell: cn(\n                  \"relative p-0 text-center\",\n                  \"first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md\",\n                  \"focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent\"\n                ),\n                day: cn(\n                  buttonVariants({ variant: \"ghost\" }),\n                  \"h-9 w-9 p-0 font-normal text-[0.875rem] aria-selected:opacity-100\",\n                  \"hover:bg-accent hover:text-accent-foreground [&[aria-selected=true]]:hover:bg-[#61936f] [&[aria-selected=true]]:hover:text-white\",\n                  \"focus:bg-accent focus:text-accent-foreground focus:rounded-md\"\n                ),\n                day_selected: cn(\n                  \"text-white hover:text-white focus:text-white rounded-md\",\n                  `bg-[${tripColor}] hover:bg-[${tripColor}] focus:bg-[${tripColor}]`,\n                  \"!bg-[#61936f] hover:!bg-[#61936f] focus:!bg-[#61936f] !text-white\"\n                ),\n                day_today: \"bg-accent text-accent-foreground rounded-md\",\n                day_outside: \"text-muted-foreground opacity-50\",\n                day_disabled: \"text-muted-foreground opacity-50\",\n                day_range_middle: \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n                day_hidden: \"invisible\",\n              }}\n            />\n          </PopoverContent>\n        </Popover>\n      </div>\n    </div>\n  );\n};\n\ninterface RangeDateCalendarProps {\n  dateRange: DateRange | undefined;\n  setDateRange: (range: DateRange | undefined) => void;\n  selectedActivity: 'plan-trip' | 'tinder-date' | 'friends' | 'roadtrip' | null;\n}\n\nexport const RangeDateCalendar: React.FC<RangeDateCalendarProps> = ({ \n  dateRange, \n  setDateRange,\n  selectedActivity \n}) => {\n  const tripColor = selectedActivity ? TRIP_COLORS[selectedActivity] : '#61936f';\n  const { t } = useTranslation('home');\n  const [showWarning, setShowWarning] = React.useState(false);\n\n  // Custom handler to limit date range to 10 days for ZapTrip\n  const handleDateRangeSelect = (range: DateRange | undefined) => {\n    if (!range || !range.from || !range.to) {\n      setDateRange(range);\n      setShowWarning(false);\n      return;\n    }\n\n    // Calculate the difference in days (inclusive range)\n    const diffTime = Math.abs(range.to.getTime() - range.from.getTime());\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24)) + 1;\n\n    // For ZapTrip (plan-trip), limit to 10 days\n    if (selectedActivity === 'plan-trip' && diffDays > 10) {\n      // Show warning message\n      setShowWarning(true);\n      \n      // Don't update the date range if it exceeds 10 days\n      return;\n    }\n\n    setShowWarning(false);\n    setDateRange(range);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <Calendar\n        mode=\"range\"\n        selected={dateRange}\n        onSelect={handleDateRangeSelect}\n        numberOfMonths={2}\n        disabled={(date) => date < new Date()}\n        showOutsideDays={true}\n        className=\"w-full rounded-md border-none\"\n        classNames={{\n          months: \"w-full flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n          month: \"w-full space-y-4\",\n          caption: \"flex justify-center pt-1 relative items-center\",\n          caption_label: \"text-sm font-medium\",\n          nav: \"space-x-1 flex items-center\",\n          nav_button: cn(\n            buttonVariants({ variant: \"outline\" }),\n            \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n          ),\n          nav_button_previous: \"absolute left-1\",\n          nav_button_next: \"absolute right-1\",\n          table: \"w-full border-collapse space-y-1\",\n          head_row: \"flex w-full\",\n          head_cell: \"text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem]\",\n          row: \"flex w-full mt-2\",\n          cell: \"h-9 flex-1 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n          day: cn(\n            buttonVariants({ variant: \"ghost\" }),\n            \"h-9 w-full p-0 font-normal aria-selected:opacity-100\",\n            \"hover:bg-accent hover:text-accent-foreground [&[aria-selected=true]]:hover:bg-[#61936f] [&[aria-selected=true]]:hover:text-white\"\n          ),\n          day_selected: cn(\n            \"text-white hover:text-white focus:text-white\",\n            `bg-[${tripColor}] hover:bg-[${tripColor}] focus:bg-[${tripColor}]`\n           \n          ),\n          day_today: \"bg-accent text-accent-foreground\",\n          day_outside: \"text-muted-foreground opacity-50\",\n          day_disabled: \"text-muted-foreground opacity-50\",\n          day_range_middle: \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n          day_hidden: \"invisible\",\n        }}\n      />\n      \n      {/* Informational message for ZapTrip */}\n      {selectedActivity === 'plan-trip' && (\n        <div className=\"text-sm text-muted-foreground text-center\">\n          {t('calendar.maxDaysExceeded.zapTripLimit', 'ZapTrip is limited to a maximum of 10 days.')}\n        </div>\n      )}\n      \n      {/* Warning message when limit is exceeded */}\n      {showWarning && (\n        <div className=\"text-sm text-red-600 text-center bg-red-50 p-2 rounded-md border border-red-200\">\n          {t('calendar.maxDaysExceeded.title', 'Maximum days exceeded')}: {t('calendar.maxDaysExceeded.description', 'ZapTrip is limited to a maximum of 10 days.')}\n        </div>\n      )}\n    </div>\n  );\n};\n\ninterface CalendarSelectionProps {\n  selectedActivity: 'plan-trip' | 'tinder-date' | 'friends' | 'roadtrip' | null;\n  selectedDate: Date | undefined;\n  setSelectedDate: (date: Date | undefined) => void;\n  dateRange: DateRange | undefined;\n  setDateRange: (range: DateRange | undefined) => void;\n  onContinue: () => void;\n  onBack: () => void;\n  isFinalStep?: boolean;\n}\n\nconst CalendarSelection = forwardRef<HTMLDivElement, CalendarSelectionProps>(({\n  selectedActivity,\n  selectedDate,\n  setSelectedDate,\n  dateRange,\n  setDateRange,\n  onContinue,\n  onBack,\n  isFinalStep = false\n}, ref) => {\n  const { t } = useTranslation('home');\n  \n  const showContinueButton = React.useMemo(() => {\n    if (selectedActivity === 'tinder-date' || selectedActivity === 'friends') {\n      return Boolean(selectedDate);\n    }\n    return Boolean(dateRange?.from && dateRange?.to);\n  }, [selectedActivity, selectedDate, dateRange]);\n\n  const isZapOut = selectedActivity === 'tinder-date' || selectedActivity === 'friends';\n  const tripColor = selectedActivity ? TRIP_COLORS[selectedActivity] : '#61936f';\n\n  return (\n    <motion.div\n      ref={ref}\n      key=\"calendar-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className={cn(\n        \"w-full\",\n        isZapOut ? \"max-w-2xl\" : \"w-full\"\n      )}\n    >\n      <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-8 md:mb-10\">\n        {selectedActivity === 'tinder-date' \n          ? t('calendar.title.tinderDate')\n          : selectedActivity === 'friends'\n          ? t('calendar.title.friends')\n          : t('calendar.title.trip')}\n      </h1>\n\n      <div className={cn(\n        \"mx-auto\",\n        isZapOut ? \"max-w-md\" : \"max-w-4xl\",\n        \"w-full\"\n      )}>\n        <Card className={cn(\n          \"bg-white shadow-lg w-full\",\n          isZapOut ? \"p-3\" : \"p-6\"\n        )}>\n          <div className=\"flex flex-col space-y-4 w-full\">\n            {(selectedActivity === 'tinder-date' || selectedActivity === 'friends') ? (\n              selectedDate && (\n                <div className=\"text-lg font-medium text-[#1d1d1e] text-center\">\n                  {formatDateWithCapitalMonth(selectedDate)}\n                </div>\n              )\n            ) : (\n              dateRange?.from && dateRange?.to && (\n                <div className=\"text-lg font-medium text-[#1d1d1e] text-center\">\n                  {formatDateWithCapitalMonth(dateRange.from)} to{\" \"}\n                  {formatDateWithCapitalMonth(dateRange.to)}\n                </div>\n              )\n            )}\n\n            {(selectedActivity === 'tinder-date' || selectedActivity === 'friends') ? (\n              <SingleDateCalendar \n                selectedDate={selectedDate} \n                setSelectedDate={setSelectedDate}\n                selectedActivity={selectedActivity}\n              />\n            ) : (\n              <RangeDateCalendar \n                dateRange={dateRange} \n                setDateRange={setDateRange}\n                selectedActivity={selectedActivity}\n              />\n            )}\n\n            <div className=\"text-sm text-muted-foreground text-center\">\n              {selectedActivity === 'tinder-date' \n                ? t('calendar.selectDate.tinderDate')\n                : selectedActivity === 'friends'\n                ? t('calendar.selectDate.friends')\n                : t('calendar.selectDate.trip')\n              }\n            </div>\n          </div>\n        </Card>\n\n        <div className=\"mt-8 flex flex-col md:flex-row gap-4 justify-center\">\n          <Button\n            variant=\"ghost\"\n            className={cn(\n              \"hover:opacity-90\",\n              `text-[${tripColor}]`\n            )}\n            onClick={onBack}\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('Back')}\n          </Button>\n\n          {showContinueButton && (\n            <Button\n              className={cn(\n                \"text-white hover:opacity-90\",\n                `bg-[${tripColor}]`\n              )}\n              onClick={onContinue}\n            >\n              {isFinalStep && (selectedActivity === 'tinder-date' || selectedActivity === 'friends') \n                ? t('createZapOut') \n                : t('Continue')}\n            </Button>\n          )}\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nCalendarSelection.displayName = 'CalendarSelection';\n\nexport default CalendarSelection; ","import React, { forwardRef, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { LocationSearch } from \"@/components/trips/LocationSearch\";\nimport { ChevronLeft, Globe, MapPin, Sparkles } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\nimport { LocationDetails } from '../subtrip-types';\nimport { countryCurrencyMap } from '../subtrip-utils/helpers';\n\ninterface LocationPickerProps {\n  location: string;\n  isLoadingImage: boolean;\n  locationImage: string | null;\n  locationDetails: LocationDetails | null;\n  onLocationChange: (location: string, coordinates: [number, number]) => void;\n  onLocationSelect: (location: string, coordinates: [number, number]) => void;\n  onBack: () => void;\n  onContinue: () => void;\n  onCurrencyChange?: (currencyCode: string) => void;\n}\n\nconst LocationPicker = forwardRef<HTMLDivElement, LocationPickerProps>(({\n  location,\n  isLoadingImage,\n  locationImage,\n  locationDetails,\n  onLocationChange,\n  onLocationSelect,\n  onBack,\n  onContinue,\n  onCurrencyChange\n}, ref) => {\n  const { t } = useTranslation('home');\n  const lastCoordinatesRef = useRef<[number, number] | null>(null);\n\n  // Handle location selection that includes getting the country and updating currency\n  const handleLocationSelect = (newLocation: string, coordinates: [number, number]) => {\n    // Call the original onLocationSelect\n    onLocationSelect(newLocation, coordinates);\n    \n    // Store the coordinates for currency update\n    lastCoordinatesRef.current = coordinates;\n    \n    // Update currency based on location\n    if (coordinates && coordinates[0] !== 0 && coordinates[1] !== 0 && onCurrencyChange) {\n      // Get country from coordinates using reverse geocoding\n      fetch(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${coordinates[1]},${coordinates[0]}.json?access_token=pk.eyJ1IjoibWlzdGVyZnJhenoiLCJhIjoiY203M2ZnM3BoMDhpMTJqcTNiYWpkamIzNyJ9.2SlcuEPIL2yCJw5TIPunVQ&types=country`\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          if (data.features && data.features[0]) {\n            const countryCode = data.features[0].properties.short_code?.toUpperCase();\n            \n            if (countryCode && countryCurrencyMap[countryCode]) {\n              onCurrencyChange(countryCurrencyMap[countryCode].code);\n            }\n          }\n        })\n        .catch((error) => {\n          console.error('Error getting country currency:', error);\n        });\n    }\n  };\n\n  return (\n    <motion.div\n      ref={ref}\n      key=\"location-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full max-w-4xl mx-auto\"\n      style={{ position: 'relative', zIndex: 1 }}\n    >\n      <div className=\"text-center mb-6\">\n        <motion.div \n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n          className=\"inline-block mb-2 p-2 rounded-full bg-[#61936f]/10\"\n        >\n          <Globe className=\"h-5 w-5 text-[#61936f]\" />\n        </motion.div>\n        \n        <motion.h1 \n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.5, delay: 0.1 }}\n          className=\"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-2\"\n        >\n          {t('location.title')}\n        </motion.h1>\n      </div>\n\n      <div className=\"max-w-2xl mx-auto\">\n        <Card className=\"bg-white shadow-lg overflow-visible border-0 rounded-xl relative\">\n          <div className=\"p-4 relative z-30\">\n            <LocationSearch\n              value={location}\n              onChange={onLocationChange}\n              onSelect={handleLocationSelect}\n              className=\"w-full\"\n            />\n          </div>\n        </Card>\n\n        <motion.div \n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.3 }}\n          className=\"mt-6 flex flex-col md:flex-row gap-3 justify-center\"\n        >\n          <Button\n            variant=\"outline\"\n            className=\"text-[#62626a] hover:text-[#61936f] hover:bg-[#61936f]/10 border-[#e2e2e2]\"\n            onClick={onBack}\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('Back')}\n          </Button>\n\n          {location && (\n            <Button\n              className=\"bg-[#61936f] hover:bg-[#4a7256] text-white shadow-md hover:shadow-lg transition-all\"\n              onClick={onContinue}\n              disabled={!location}\n            >\n              {t('continue') || \"Continue\"}\n            </Button>\n          )}\n        </motion.div>\n      </div>\n    </motion.div>\n  );\n});\n\nLocationPicker.displayName = 'LocationPicker';\n\nexport default LocationPicker; ","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { useAnimationText } from '../subtrip-utils/animations';\n\ninterface ZapAnimationProps {\n  show: boolean;\n  type: 'ZAPTRIP' | 'ZAPOUT' | 'ZAPROAD';\n}\n\nconst ZapAnimation: React.FC<ZapAnimationProps> = ({ show, type }) => {\n  const getAnimationText = useAnimationText();\n  \n  if (!show) return null;\n  \n  const animationText = getAnimationText(type);\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.5 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 2 }}\n      className=\"fixed inset-0 z-50 flex items-center justify-center bg-[#61936f]/90 backdrop-blur-sm\"\n    >\n      <motion.div\n        initial={{ opacity: 0, y: 50 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ \n          duration: 0.3,\n          type: \"spring\",\n          stiffness: 200\n        }}\n        className=\"text-center\"\n      >\n        <motion.p\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.2, duration: 0.3 }}\n          className=\"text-2xl md:text-3xl font-light text-white mb-2\"\n        >\n          {animationText.prefix}\n        </motion.p>\n        <motion.h1 \n          className=\"text-7xl md:text-9xl font-black text-white\"\n          initial={{ letterSpacing: \"0px\" }}\n          animate={{ letterSpacing: \"10px\" }}\n          transition={{ duration: 0.5 }}\n        >\n          {animationText.main}\n        </motion.h1>\n        <motion.div\n          initial={{ width: \"0%\" }}\n          animate={{ width: \"100%\" }}\n          transition={{ duration: 1, delay: 0.3 }}\n          className=\"h-1 bg-white mx-auto mt-4 rounded-full\"\n        />\n      </motion.div>\n    </motion.div>\n  );\n};\n\nexport default ZapAnimation; ","import React, { forwardRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronDown, ChevronLeft, X } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\nimport { cn } from \"@/lib/utils\";\nimport useTranslatedData from '../subtrip-utils/data';\n\ninterface TripInterestsProps {\n  selectedTripInterests: string[];\n  onSelectInterest: (interestId: string) => void;\n  expandedCategory: string | null;\n  onToggleCategory: (category: string) => void;\n  maxSelections: number;\n  onBack: () => void;\n  onContinue: () => void;\n}\n\nconst TripInterests = forwardRef<HTMLDivElement, TripInterestsProps>(({\n  selectedTripInterests,\n  onSelectInterest,\n  expandedCategory,\n  onToggleCategory,\n  maxSelections,\n  onBack,\n  onContinue\n}, ref) => {\n  const { t } = useTranslation('home');\n  const { tripInterests } = useTranslatedData();\n\n  // Get selected interests with their icons and categories\n  const selectedInterestsWithDetails = selectedTripInterests.map(interestId => {\n    for (const category of tripInterests) {\n      const interest = category.items.find(item => item.id === interestId);\n      if (interest) {\n        return {\n          id: interestId,\n          label: t(`tripInterests.${interestId}`),\n          icon: interest.icon,\n          category: category.category\n        };\n      }\n    }\n    return null;\n  }).filter(Boolean);\n\n  // Split categories into two columns\n  const midPoint = Math.ceil(tripInterests.length / 2);\n  const leftColumn = tripInterests.slice(0, midPoint);\n  const rightColumn = tripInterests.slice(midPoint);\n\n  return (\n    <motion.div\n      ref={ref}\n      key=\"trip-interests-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full\"\n    >\n      <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 md:mb-6\">\n        {t('interests.title')}\n      </h1>\n      \n      <div className=\"max-w-4xl mx-auto\">\n        {/* Selected Interests Section */}\n        {selectedInterestsWithDetails.length > 0 && (\n          <div className=\"mb-6\">\n            <h2 className=\"text-lg font-semibold text-white mb-3\">\n              {t('interests.selectionCount', {\n                selected: selectedInterestsWithDetails.length,\n                max: maxSelections\n              })}\n            </h2>\n            <div className=\"flex flex-wrap gap-2\">\n              {selectedInterestsWithDetails.map((interest) => {\n                const Icon = interest.icon;\n                return (\n                  <motion.div\n                    key={interest.id}\n                    initial={{ scale: 0.8, opacity: 0 }}\n                    animate={{ scale: 1, opacity: 1 }}\n                    exit={{ scale: 0.8, opacity: 0 }}\n                    className=\"bg-[#61936f]/20 border border-[#61936f] rounded-full px-3 py-1.5 flex items-center gap-2\"\n                  >\n                    <Icon className=\"w-4 h-4 text-white\" />\n                    <span className=\"text-sm font-medium text-white\">\n                      {interest.label}\n                    </span>\n                    <button\n                      onClick={() => onSelectInterest(interest.id)}\n                      className=\"ml-1 hover:bg-white/10 rounded-full p-0.5\"\n                    >\n                      <X className=\"w-3 h-3 text-white\" />\n                    </button>\n                  </motion.div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n\n        {/* Categories Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n          {/* Left Column */}\n          <div className=\"space-y-4 md:space-y-6\">\n            {leftColumn.map((category) => (\n              <div\n                key={category.category}\n                className=\"bg-white/95 backdrop-blur-sm rounded-xl shadow-sm border border-gray-100 overflow-hidden\"\n              >\n                <button\n                  onClick={() => onToggleCategory(category.category)}\n                  className=\"w-full px-4 md:px-6 py-3 md:py-4 flex items-center justify-between bg-gray-50/50 hover:bg-gray-100/50 transition-colors\"\n                >\n                  <h3 className=\"text-base md:text-lg font-semibold text-gray-900\">\n                    {t(`tripInterests.${category.category}`)}\n                  </h3>\n                  <ChevronDown\n                    className={cn(\n                      \"w-5 h-5 text-gray-500 transition-transform duration-200\",\n                      expandedCategory === category.category ? \"rotate-180\" : \"\"\n                    )}\n                  />\n                </button>\n                \n                <AnimatePresence>\n                  {expandedCategory === category.category && (\n                    <motion.div\n                      initial={{ height: 0, opacity: 0 }}\n                      animate={{ height: \"auto\", opacity: 1 }}\n                      exit={{ height: 0, opacity: 0 }}\n                      transition={{ duration: 0.2 }}\n                      className=\"overflow-hidden\"\n                    >\n                      <div className=\"p-3 md:p-4\">\n                        <div className=\"flex flex-wrap gap-2\">\n                          {category.items.map((interest) => {\n                            const Icon = interest.icon;\n                            const isSelected = selectedTripInterests.includes(interest.id);\n                            const isDisabled = !isSelected && selectedTripInterests.length >= maxSelections;\n                            \n                            return (\n                              <button\n                                key={interest.id}\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  onSelectInterest(interest.id);\n                                }}\n                                disabled={isDisabled}\n                                className={cn(\n                                  \"px-3 md:px-4 py-1.5 md:py-2 rounded-full border-2 transition-all duration-200\",\n                                  \"flex items-center gap-2\",\n                                  \"hover:border-[#61936f] hover:bg-[#61936f]/5\",\n                                  isSelected\n                                    ? \"bg-[#61936f]/10 border-[#61936f] text-[#61936f]\"\n                                    : isDisabled\n                                      ? \"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed\"\n                                      : \"bg-white border-gray-200 text-gray-700\"\n                                )}\n                              >\n                                <Icon className={cn(\n                                  \"w-4 h-4\",\n                                  isDisabled && \"text-gray-400\"\n                                )} />\n                                <span className={cn(\n                                  \"text-sm font-medium\",\n                                  isSelected\n                                    ? \"text-[#61936f]\"\n                                    : isDisabled\n                                      ? \"text-gray-400\"\n                                      : \"text-gray-700 group-hover:text-[#61936f]\"\n                                )}>\n                                  {t(`tripInterests.${interest.id}`)}\n                                </span>\n                                {isSelected && (\n                                  <motion.span\n                                    initial={{ scale: 0 }}\n                                    animate={{ scale: 1 }}\n                                    className=\"w-4 h-4 flex items-center justify-center rounded-full bg-[#61936f] text-white text-xs\"\n                                  >\n                                    ✓\n                                  </motion.span>\n                                )}\n                              </button>\n                            );\n                          })}\n                        </div>\n                      </div>\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n              </div>\n            ))}\n          </div>\n\n          {/* Right Column */}\n          <div className=\"space-y-4 md:space-y-6\">\n            {rightColumn.map((category) => (\n              <div\n                key={category.category}\n                className=\"bg-white/95 backdrop-blur-sm rounded-xl shadow-sm border border-gray-100 overflow-hidden\"\n              >\n                <button\n                  onClick={() => onToggleCategory(category.category)}\n                  className=\"w-full px-4 md:px-6 py-3 md:py-4 flex items-center justify-between bg-gray-50/50 hover:bg-gray-100/50 transition-colors\"\n                >\n                  <h3 className=\"text-base md:text-lg font-semibold text-gray-900\">\n                    {t(`tripInterests.${category.category}`)}\n                  </h3>\n                  <ChevronDown\n                    className={cn(\n                      \"w-5 h-5 text-gray-500 transition-transform duration-200\",\n                      expandedCategory === category.category ? \"rotate-180\" : \"\"\n                    )}\n                  />\n                </button>\n                \n                <AnimatePresence>\n                  {expandedCategory === category.category && (\n                    <motion.div\n                      initial={{ height: 0, opacity: 0 }}\n                      animate={{ height: \"auto\", opacity: 1 }}\n                      exit={{ height: 0, opacity: 0 }}\n                      transition={{ duration: 0.2 }}\n                      className=\"overflow-hidden\"\n                    >\n                      <div className=\"p-3 md:p-4\">\n                        <div className=\"flex flex-wrap gap-2\">\n                          {category.items.map((interest) => {\n                            const Icon = interest.icon;\n                            const isSelected = selectedTripInterests.includes(interest.id);\n                            const isDisabled = !isSelected && selectedTripInterests.length >= maxSelections;\n                            \n                            return (\n                              <button\n                                key={interest.id}\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  onSelectInterest(interest.id);\n                                }}\n                                disabled={isDisabled}\n                                className={cn(\n                                  \"px-3 md:px-4 py-1.5 md:py-2 rounded-full border-2 transition-all duration-200\",\n                                  \"flex items-center gap-2\",\n                                  \"hover:border-[#61936f] hover:bg-[#61936f]/5\",\n                                  isSelected\n                                    ? \"bg-[#61936f]/10 border-[#61936f] text-[#61936f]\"\n                                    : isDisabled\n                                      ? \"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed\"\n                                      : \"bg-white border-gray-200 text-gray-700\"\n                                )}\n                              >\n                                <Icon className={cn(\n                                  \"w-4 h-4\",\n                                  isDisabled && \"text-gray-400\"\n                                )} />\n                                <span className={cn(\n                                  \"text-sm font-medium\",\n                                  isSelected\n                                    ? \"text-[#61936f]\"\n                                    : isDisabled\n                                      ? \"text-gray-400\"\n                                      : \"text-gray-700 group-hover:text-[#61936f]\"\n                                )}>\n                                  {t(`tripInterests.${interest.id}`)}\n                                </span>\n                                {isSelected && (\n                                  <motion.span\n                                    initial={{ scale: 0 }}\n                                    animate={{ scale: 1 }}\n                                    className=\"w-4 h-4 flex items-center justify-center rounded-full bg-[#61936f] text-white text-xs\"\n                                  >\n                                    ✓\n                                  </motion.span>\n                                )}\n                              </button>\n                            );\n                          })}\n                        </div>\n                      </div>\n                    </motion.div>\n                  )}\n                </AnimatePresence>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Navigation Buttons */}\n        <div className=\"mt-8 flex flex-col md:flex-row gap-4 justify-center\">\n          <Button\n            variant=\"ghost\"\n            className=\"text-[#61936f] hover:text-[#4a7256]\"\n            onClick={onBack}\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('Back')}\n          </Button>\n\n          <Button\n            className={cn(\n              \"bg-[#61936f] hover:bg-[#4a7256] text-white\",\n              selectedTripInterests.length === 0 && \"opacity-50 cursor-not-allowed\"\n            )}\n            onClick={onContinue}\n            disabled={selectedTripInterests.length === 0}\n          >\n            {t('continueOnly')}\n          </Button>\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nTripInterests.displayName = 'TripInterests';\n\nexport default TripInterests; ","import React, { forwardRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\nimport { cn } from \"@/lib/utils\";\nimport useTranslatedData from '../subtrip-utils/data';\nimport { ActivityType } from '../subtrip-types';\n\ninterface TinderOptionsProps {\n  selectedActivity: ActivityType | null;\n  selectedTinderOptions: string[];\n  onSelectOption: (optionId: string) => void;\n  onOpenCustomActivityDialog: () => void;\n  customActivities: string[];\n  onBack: () => void;\n  onContinue: () => void;\n}\n\nconst TinderOptions = forwardRef<HTMLDivElement, TinderOptionsProps>(({\n  selectedActivity,\n  selectedTinderOptions,\n  onSelectOption,\n  onOpenCustomActivityDialog,\n  customActivities,\n  onBack,\n  onContinue\n}, ref) => {\n  const { t } = useTranslation('home');\n  const { tinderOptions } = useTranslatedData();\n  const MAX_SELECTIONS = 3;\n\n  return (\n    <motion.div\n      ref={ref}\n      key=\"tinder-options-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full\"\n    >\n      <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 md:mb-6\">\n        {selectedActivity === 'tinder-date' \n          ? t('calendar.title.tinderDate')\n          : selectedActivity === 'friends'\n          ? t('calendar.title.friends')\n          : t('calendar.title.trip')}\n      </h1>\n      \n      <p className=\"text-lg text-white mb-8\">\n        {t('interests.maxSelection', { max: MAX_SELECTIONS, selected: selectedTinderOptions.length })}\n      </p>\n\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"flex flex-wrap justify-center gap-3\">\n          {tinderOptions.map((option) => {\n            const Icon = option.icon;\n            const isSelected = selectedTinderOptions.includes(option.id);\n            const canSelect = selectedTinderOptions.length < MAX_SELECTIONS || isSelected;\n            \n            if (option.id === 'other') {\n              return (\n                <button\n                  key={option.id}\n                  onClick={onOpenCustomActivityDialog}\n                  className={cn(\n                    \"px-6 py-3 rounded-full border-2 transition-all duration-200\",\n                    \"flex items-center gap-2\",\n                    \"hover:border-[#61936f] hover:bg-[#61936f]/5\",\n                    \"bg-white border-gray-200 text-gray-700\"\n                  )}\n                >\n                  <Icon className=\"w-4 h-4\" />\n                  <span className=\"text-base font-medium whitespace-nowrap\">\n                    {option.label}\n                  </span>\n                </button>\n              );\n            }\n\n            return (\n              <button\n                key={option.id}\n                onClick={() => onSelectOption(option.id)}\n                disabled={!canSelect && !isSelected}\n                className={cn(\n                  \"px-6 py-3 rounded-full border-2 transition-all duration-200\",\n                  \"flex items-center gap-2\",\n                  \"hover:border-[#61936f] hover:bg-[#61936f]/5\",\n                  isSelected\n                    ? \"bg-[#61936f]/10 border-[#61936f] text-[#61936f]\"\n                    : \"bg-white border-gray-200 text-gray-700\",\n                  !canSelect && !isSelected && \"opacity-50 cursor-not-allowed hover:border-gray-200 hover:bg-white\"\n                )}\n              >\n                <Icon className=\"w-4 h-4\" />\n                <span className=\"text-base font-medium whitespace-nowrap\">\n                  {option.label}\n                </span>\n                {isSelected && (\n                  <span className=\"ml-1 w-5 h-5 flex items-center justify-center rounded-full bg-[#61936f] text-white text-sm\">\n                    {selectedTinderOptions.indexOf(option.id) + 1}\n                  </span>\n                )}\n              </button>\n            );\n          })}\n\n          {customActivities.map((activity, index) => (\n            <div\n              key={`custom-${index}`}\n              className={cn(\n                \"px-6 py-3 rounded-full border-2\",\n                \"flex items-center gap-2\",\n                \"bg-[#61936f]/10 border-[#61936f] text-[#61936f]\"\n              )}\n            >\n              <span className=\"text-base font-medium whitespace-nowrap\">\n                {activity}\n              </span>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"mt-8 flex flex-col md:flex-row gap-4 justify-center\">\n          <Button\n            variant=\"ghost\"\n            className=\"text-[#61936f] hover:text-[#4a7256]\"\n            onClick={onBack}\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('Back')}\n          </Button>\n\n          {selectedTinderOptions.length > 0 && (\n            <Button\n              className=\"bg-[#61936f] hover:bg-[#4a7256] text-white\"\n              onClick={onContinue}\n            >\n              {t('interests.continue', { \n                count: selectedTinderOptions.length,\n                pluralKey: selectedTinderOptions.length === 1 ? 'interest' : 'interests'\n              })}\n            </Button>\n          )}\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nTinderOptions.displayName = 'TinderOptions';\n\nexport default TinderOptions; ","import React, { forwardRef, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft, Minus, Plus } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\nimport { cn } from \"@/lib/utils\";\nimport { Card } from \"@/components/ui/card\";\nimport { LocationSearch } from \"@/components/trips/LocationSearch\";\nimport { Crosshair } from 'lucide-react';\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { countryCurrencyMap } from '../subtrip-utils/helpers';\nimport useTranslatedData from '../subtrip-utils/data';\nimport { Switch } from \"@/components/ui/switch\";\n\ninterface TinderLocationBudgetProps {\n  selectedActivity: 'tinder-date' | 'friends' | null;\n  tinderLocation: string;\n  tinderCoordinates: [number, number];\n  minBudget: string;\n  maxBudget: string;\n  selectedCurrency: string;\n  currencySymbol: string;\n  isTinderLocating: boolean;\n  adultCount: number;\n  childCount: number;\n  onTinderLocationChange: (location: string, coordinates: [number, number]) => void;\n  onTinderLocateMe: () => void;\n  onMinBudgetChange: (value: string) => void;\n  onMaxBudgetChange: (value: string) => void;\n  onCurrencyChange: (value: string) => void;\n  onAdultCountChange: (value: number) => void;\n  onChildCountChange: (value: number) => void;\n  onBack: () => void;\n  onContinue: () => void;\n  showBudget: boolean;\n  setShowBudget: (value: boolean) => void;\n}\n\nconst TinderLocationBudget = forwardRef<HTMLDivElement, TinderLocationBudgetProps>(({\n  selectedActivity,\n  tinderLocation,\n  tinderCoordinates,\n  minBudget,\n  maxBudget,\n  selectedCurrency,\n  currencySymbol,\n  isTinderLocating,\n  adultCount,\n  childCount,\n  onTinderLocationChange,\n  onTinderLocateMe,\n  onMinBudgetChange,\n  onMaxBudgetChange,\n  onCurrencyChange,\n  onAdultCountChange,\n  onChildCountChange,\n  onBack,\n  onContinue,\n  showBudget,\n  setShowBudget\n}, ref) => {\n  const { t } = useTranslation('home');\n  const { currencies } = useTranslatedData();\n  \n  const isValid = !!tinderLocation;\n\n  // Update currency when coordinates change\n  useEffect(() => {\n    if (tinderCoordinates && tinderCoordinates[0] !== 0 && tinderCoordinates[1] !== 0) {\n      // Get country from coordinates using reverse geocoding\n      fetch(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${tinderCoordinates[1]},${tinderCoordinates[0]}.json?access_token=pk.eyJ1IjoibWlzdGVyZnJhenoiLCJhIjoiY203M2ZnM3BoMDhpMTJqcTNiYWpkamIzNyJ9.2SlcuEPIL2yCJw5TIPunVQ&types=country`\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          if (data.features && data.features[0]) {\n            const countryCode = data.features[0].properties.short_code?.toUpperCase();\n            \n            if (countryCode && countryCurrencyMap[countryCode]) {\n              onCurrencyChange(countryCurrencyMap[countryCode].code);\n            }\n          }\n        })\n        .catch((error) => {\n          console.error('Error getting country currency:', error);\n        });\n    }\n  }, [tinderCoordinates, onCurrencyChange]);\n\n  // Handle location change with currency update\n  const handleLocationChange = (newLocation: string, newCoordinates: [number, number]) => {\n    onTinderLocationChange(newLocation, newCoordinates);\n  };\n\n  return (\n    <motion.div\n      ref={ref}\n      key=\"tinder-location-budget-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full\"\n    >\n      <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 md:mb-6\">\n        {selectedActivity === 'tinder-date' \n          ? t('tinderLocation.title.date')\n          : t('tinderLocation.title.friends')}\n      </h1>\n      \n      <p className=\"text-lg text-white mb-8\">\n        {t('tinderLocation.description')}\n      </p>\n\n      <div className=\"max-w-4xl mx-auto\">\n        <Card className=\"bg-white shadow-lg w-full p-6\">\n          <div className=\"flex flex-col space-y-8\">\n            {/* Location Section */}\n            <div className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold text-[#1d1d1e]\">{t('location.choose')}</h2>\n              <div className=\"flex gap-2\">\n                <div className=\"flex-1\">\n                  <LocationSearch\n                    value={tinderLocation}\n                    onChange={handleLocationChange}\n                    className=\"w-full\"\n                    placeholder={t('tinderLocation.placeholder')}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Number of People - Only for friends activity */}\n            {selectedActivity === 'friends' && (\n              <div className=\"space-y-4\">\n                <h2 className=\"text-2xl font-semibold text-[#1d1d1e] text-center\">{t('people.title')}</h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div className=\"space-y-2\">\n                    <Label className=\"flex items-center justify-center h-8\">{t('people.adults')}</Label>\n                    <div className=\"flex items-center justify-center space-x-4\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"icon\"\n                        className=\"h-8 w-8 rounded-full\"\n                        onClick={() => onAdultCountChange(Math.max(1, adultCount - 1))}\n                        disabled={adultCount <= 1}\n                      >\n                        <Minus className=\"h-4 w-4\" />\n                      </Button>\n                      <span className=\"w-8 text-center flex items-center justify-center\">{adultCount}</span>\n                      <Button\n                        variant=\"outline\"\n                        size=\"icon\"\n                        className=\"h-8 w-8 rounded-full\"\n                        onClick={() => onAdultCountChange(adultCount + 1)}\n                      >\n                        <Plus className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label className=\"flex items-center justify-center h-8\">{t('people.children')}</Label>\n                    <div className=\"flex items-center justify-center space-x-4\">\n                      <Button\n                        variant=\"outline\"\n                        size=\"icon\"\n                        className=\"h-8 w-8 rounded-full\"\n                        onClick={() => onChildCountChange(Math.max(0, childCount - 1))}\n                        disabled={childCount <= 0}\n                      >\n                        <Minus className=\"h-4 w-4\" />\n                      </Button>\n                      <span className=\"w-8 text-center flex items-center justify-center\">{childCount}</span>\n                      <Button\n                        variant=\"outline\"\n                        size=\"icon\"\n                        className=\"h-8 w-8 rounded-full\"\n                        onClick={() => onChildCountChange(childCount + 1)}\n                      >\n                        <Plus className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Budget Toggle */}\n            <div className=\"flex items-center gap-4\">\n              <Switch id=\"showBudget\" checked={showBudget} onCheckedChange={setShowBudget} />\n              <Label htmlFor=\"showBudget\" className=\"text-lg text-[#1d1d1e] cursor-pointer\">\n                {t('budget.addBudget', 'Add budget?')}\n              </Label>\n            </div>\n\n            {/* Budget Section - only if showBudget is true */}\n            {showBudget && (\n              <div className=\"space-y-4\">\n                <h2 className=\"text-2xl font-semibold text-[#1d1d1e]\">{t('budget.title')}</h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"currency\">{t('budget.currency')}</Label>\n                    <Select value={selectedCurrency} onValueChange={onCurrencyChange}>\n                      <SelectTrigger id=\"currency\">\n                        <SelectValue placeholder={t('budget.selectCurrency')} />\n                      </SelectTrigger>\n                      <SelectContent className=\"z-[100]\">\n                        {currencies.map((currency) => (\n                          <SelectItem key={currency.value} value={currency.value}>\n                            {currency.label}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"minBudget\">{t('budget.min')}</Label>\n                    <div className=\"relative\">\n                      <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\">\n                        {currencySymbol}\n                      </span>\n                      <Input\n                        id=\"minBudget\"\n                        type=\"number\"\n                        value={minBudget}\n                        onChange={(e) => onMinBudgetChange(e.target.value)}\n                        className=\"pl-7\"\n                        placeholder=\"0\"\n                        min=\"0\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"maxBudget\">{t('budget.max')}</Label>\n                    <div className=\"relative\">\n                      <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\">\n                        {currencySymbol}\n                      </span>\n                      <Input\n                        id=\"maxBudget\"\n                        type=\"number\"\n                        value={maxBudget}\n                        onChange={(e) => onMaxBudgetChange(e.target.value)}\n                        className=\"pl-7\"\n                        placeholder=\"100\"\n                        min=\"0\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </Card>\n        <div className=\"mt-8 flex flex-col md:flex-row gap-4 justify-center\">\n          <Button\n            variant=\"ghost\"\n            className=\"text-[#61936f] hover:text-[#4a7256]\"\n            onClick={onBack}\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('Back')}\n          </Button>\n          {isValid && (\n            <Button\n              className=\"bg-[#61936f] hover:bg-[#4a7256] text-white\"\n              onClick={onContinue}\n            >\n              {t('createZapOut')}\n            </Button>\n          )}\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nTinderLocationBudget.displayName = 'TinderLocationBudget';\n\nexport default TinderLocationBudget; ","import React, { forwardRef, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft, Crosshair, Plus, Minus } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\nimport { cn } from \"@/lib/utils\";\nimport { Card } from \"@/components/ui/card\";\nimport { LocationSearch } from \"@/components/trips/LocationSearch\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport { countryCurrencyMap } from '../subtrip-utils/helpers';\nimport useTranslatedData from '../subtrip-utils/data';\n\ninterface TravelLogisticsProps {\n  departureLocation: string;\n  isLocating: boolean;\n  transportMode: string | null;\n  isElectricCar: boolean;\n  isCarpool: boolean;\n  onDepartureLocationChange: (location: string, coordinates: [number, number]) => void;\n  onLocateMe: () => void;\n  onTransportModeChange: (mode: string) => void;\n  onElectricCarChange: (checked: boolean) => void;\n  onCarpoolChange: (checked: boolean) => void;\n  onCurrencyChange?: (currencyCode: string) => void;\n  onBack: () => void;\n  onContinue: () => void;\n}\n\nconst TravelLogistics = forwardRef<HTMLDivElement, TravelLogisticsProps>(({\n  departureLocation,\n  isLocating,\n  transportMode,\n  isElectricCar,\n  isCarpool,\n  onDepartureLocationChange,\n  onLocateMe,\n  onTransportModeChange,\n  onElectricCarChange,\n  onCarpoolChange,\n  onCurrencyChange,\n  onBack,\n  onContinue\n}, ref) => {\n  const { t } = useTranslation('home');\n  const { transportOptions } = useTranslatedData();\n  \n  // Function to update currency based on coordinates\n  const updateCurrencyFromCoordinates = (coordinates: [number, number]) => {\n    if (!onCurrencyChange) return;\n    \n    // Get country from coordinates using reverse geocoding\n    fetch(\n      `https://api.mapbox.com/geocoding/v5/mapbox.places/${coordinates[1]},${coordinates[0]}.json?access_token=pk.eyJ1IjoibWlzdGVyZnJhenoiLCJhIjoiY203M2ZnM3BoMDhpMTJqcTNiYWpkamIzNyJ9.2SlcuEPIL2yCJw5TIPunVQ&types=country`\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.features && data.features[0]) {\n          const countryCode = data.features[0].properties.short_code?.toUpperCase();\n          \n          if (countryCode && countryCurrencyMap[countryCode]) {\n            onCurrencyChange(countryCurrencyMap[countryCode].code);\n          }\n        }\n      })\n      .catch((error) => {\n        console.error('Error getting country currency:', error);\n      });\n  };\n\n  // Handle departure location change with currency update\n  const handleLocationChange = (location: string, coordinates: [number, number]) => {\n    onDepartureLocationChange(location, coordinates);\n    if (coordinates[0] !== 0 && coordinates[1] !== 0) {\n      updateCurrencyFromCoordinates(coordinates);\n    }\n  };\n  \n  return (\n    <motion.div\n      ref={ref}\n      key=\"travel-logistics-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full\"\n    >\n      <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 md:mb-6\">\n        {t('travel.title')}\n      </h1>\n      \n      <p className=\"text-lg text-white mb-8\">\n        {t('travel.description')}\n      </p>\n\n      <div className=\"max-w-4xl mx-auto\">\n        <Card className=\"bg-white shadow-lg w-full p-6\">\n          <div className=\"flex flex-col space-y-8\">\n            {/* Departure Location */}\n            <div className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold text-[#1d1d1e]\">{t('travel.departureFrom')}</h2>\n              <div className=\"flex gap-2\">\n                <div className=\"flex-1\">\n                  <LocationSearch\n                    value={departureLocation}\n                    onChange={handleLocationChange}\n                    className=\"w-full\"\n                    placeholder={t('travel.departureFromPlaceholder')}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Transportation Mode */}\n            <div className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold text-[#1d1d1e]\">{t('travel.transport')}</h2>\n              \n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                {transportOptions.map((option) => {\n                  const Icon = option.icon;\n                  const isSelected = transportMode === option.id;\n                  \n                  return (\n                    <button\n                      key={option.id}\n                      onClick={() => onTransportModeChange(option.id)}\n                      className={cn(\n                        \"p-4 rounded-xl border-2 transition-all duration-200\",\n                        \"flex flex-col items-center justify-center gap-3\",\n                        \"hover:border-[#61936f] group\",\n                        isSelected\n                          ? \"bg-[#61936f]/10 border-[#61936f]\"\n                          : \"bg-white border-gray-200\"\n                      )}\n                    >\n                      <div className={cn(\n                        \"w-12 h-12 rounded-full flex items-center justify-center\",\n                        \"transition-all duration-200\",\n                        isSelected\n                          ? \"bg-[#61936f] text-white\"\n                          : \"bg-gray-100 text-gray-600 group-hover:bg-[#61936f]/10 group-hover:text-[#61936f]\"\n                      )}>\n                        <Icon className=\"w-6 h-6\" />\n                      </div>\n                      <span className={cn(\n                        \"text-lg font-medium\",\n                        isSelected\n                          ? \"text-[#61936f]\"\n                          : \"text-gray-700 group-hover:text-[#61936f]\"\n                      )}>\n                        {option.label}\n                      </span>\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n\n            {/* Car Options - Show only when car is selected */}\n            {transportMode === 'car' && (\n              <div className=\"space-y-4 bg-gray-50 p-4 rounded-lg\">\n                <h3 className=\"text-xl font-medium text-[#1d1d1e]\">{t('travel.carOptions')}</h3>\n                \n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Switch \n                      id=\"electric-car\" \n                      checked={isElectricCar}\n                      onCheckedChange={onElectricCarChange}\n                    />\n                    <Label htmlFor=\"electric-car\">{t('travel.electricCar')}</Label>\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-2\">\n                    <Switch \n                      id=\"carpool\" \n                      checked={isCarpool}\n                      onCheckedChange={onCarpoolChange}\n                    />\n                    <Label htmlFor=\"carpool\">{t('travel.carpool')}</Label>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </Card>\n\n        <div className=\"mt-8 flex flex-col md:flex-row gap-4 justify-center\">\n          <Button\n            variant=\"ghost\"\n            className=\"text-[#61936f] hover:text-[#4a7256]\"\n            onClick={onBack}\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('Back')}\n          </Button>\n\n          <Button\n            className=\"bg-[#61936f] hover:bg-[#4a7256] text-white\"\n            onClick={onContinue}\n          >\n            {t('Continue')}\n          </Button>\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nTravelLogistics.displayName = 'TravelLogistics';\n\nexport default TravelLogistics; ","import React, { forwardRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\nimport { cn } from \"@/lib/utils\";\nimport { Card } from \"@/components/ui/card\";\nimport useTranslatedData from '../subtrip-utils/data';\n\ninterface AccommodationSelectorProps {\n  accommodation: string | null;\n  onAccommodationChange: (value: string) => void;\n  onBack: () => void;\n  onContinue: () => void;\n}\n\nconst AccommodationSelector = forwardRef<HTMLDivElement, AccommodationSelectorProps>(({\n  accommodation,\n  onAccommodationChange,\n  onBack,\n  onContinue\n}, ref) => {\n  const { t } = useTranslation('home');\n  const { accommodationOptions } = useTranslatedData();\n  \n  return (\n    <motion.div\n      ref={ref}\n      key=\"accommodation-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full\"\n    >\n      <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 md:mb-6\">\n        {t('accommodation.title')}\n      </h1>\n      \n\n\n      <div className=\"max-w-4xl mx-auto\">\n        <Card className=\"bg-white shadow-lg w-full p-6\">\n          <div className=\"flex flex-col space-y-6\">\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n              {accommodationOptions.map((option) => {\n                const Icon = option.icon;\n                const isSelected = accommodation === option.id;\n                \n                return (\n                  <button\n                    key={option.id}\n                    onClick={() => onAccommodationChange(option.id)}\n                    className={cn(\n                      \"p-4 rounded-xl border-2 transition-all duration-200\",\n                      \"flex flex-col items-center justify-center gap-3\",\n                      \"hover:border-[#61936f] group h-full\",\n                      isSelected\n                        ? \"bg-[#61936f]/10 border-[#61936f]\"\n                        : \"bg-white border-gray-200\"\n                    )}\n                  >\n                    <div className={cn(\n                      \"w-12 h-12 rounded-full flex items-center justify-center\",\n                      \"transition-all duration-200\",\n                      isSelected\n                        ? \"bg-[#61936f] text-white\"\n                        : \"bg-gray-100 text-gray-600 group-hover:bg-[#61936f]/10 group-hover:text-[#61936f]\"\n                    )}>\n                      <Icon className=\"w-6 h-6\" />\n                    </div>\n                    <div className=\"text-center\">\n                      <span className={cn(\n                        \"text-lg font-medium block\",\n                        isSelected\n                          ? \"text-[#61936f]\"\n                          : \"text-gray-700 group-hover:text-[#61936f]\"\n                      )}>\n                        {option.label}\n                      </span>\n                      <span className=\"text-sm text-gray-500 mt-1 block\">{option.description}</span>\n                    </div>\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n        </Card>\n\n        <div className=\"mt-8 flex flex-col md:flex-row gap-4 justify-center\">\n          <Button\n            variant=\"ghost\"\n            className=\"text-[#61936f] hover:text-[#4a7256]\"\n            onClick={onBack}\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('Back')}\n          </Button>\n\n          <Button\n            className=\"bg-[#61936f] hover:bg-[#4a7256] text-white\"\n            onClick={onContinue}\n          >\n            {t('Continue')}\n          </Button>\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nAccommodationSelector.displayName = 'AccommodationSelector';\n\nexport default AccommodationSelector; ","import React, { forwardRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft, Minus, Plus } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\nimport { cn } from \"@/lib/utils\";\nimport { Card } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport useTranslatedData from '../subtrip-utils/data';\n\ninterface PeopleBudgetProps {\n  adultCount: number;\n  childCount: number;\n  maxBudget: string;\n  selectedCurrency: string;\n  currencySymbol: string;\n  onAdultCountChange: (value: number) => void;\n  onChildCountChange: (value: number) => void;\n  onMaxBudgetChange: (value: string) => void;\n  onCurrencyChange: (value: string) => void;\n  onBack: () => void;\n  onContinue: () => void;\n}\n\nconst PeopleBudget = forwardRef<HTMLDivElement, PeopleBudgetProps>(({\n  adultCount,\n  childCount,\n  maxBudget,\n  selectedCurrency,\n  currencySymbol,\n  onAdultCountChange,\n  onChildCountChange,\n  onMaxBudgetChange,\n  onCurrencyChange,\n  onBack,\n  onContinue\n}, ref) => {\n  const { t } = useTranslation('home');\n  const { currencies } = useTranslatedData();\n  \n  return (\n    <motion.div\n      ref={ref}\n      key=\"people-budget-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full\"\n    >\n      <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 md:mb-6\">\n        {t('peopleBudget.title')}\n      </h1>\n      \n      <p className=\"text-lg text-white mb-8\">\n        {t('peopleBudget.description')}\n      </p>\n\n      <div className=\"max-w-4xl mx-auto\">\n        <Card className=\"bg-white shadow-lg w-full p-6\">\n          <div className=\"flex flex-col space-y-8 items-center\">\n            {/* Number of People */}\n            <div className=\"space-y-4 w-full\">\n              <h2 className=\"text-2xl font-semibold text-[#1d1d1e] text-center\">{t('people.title')}</h2>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 justify-items-center\">\n                <div className=\"space-y-2 w-full max-w-xs\">\n                  <Label className=\"text-center block\">{t('people.adults')}</Label>\n                  <div className=\"flex items-center justify-center space-x-4\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 rounded-full\"\n                      onClick={() => onAdultCountChange(Math.max(1, adultCount - 1))}\n                      disabled={adultCount <= 1}\n                    >\n                      <Minus className=\"h-4 w-4\" />\n                    </Button>\n                    <span className=\"w-8 text-center\">{adultCount}</span>\n                    <Button\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 rounded-full\"\n                      onClick={() => onAdultCountChange(adultCount + 1)}\n                    >\n                      <Plus className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n                \n                <div className=\"space-y-2 w-full max-w-xs\">\n                  <Label className=\"text-center block\">{t('people.children')}</Label>\n                  <div className=\"flex items-center justify-center space-x-4\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 rounded-full\"\n                      onClick={() => onChildCountChange(Math.max(0, childCount - 1))}\n                      disabled={childCount <= 0}\n                    >\n                      <Minus className=\"h-4 w-4\" />\n                    </Button>\n                    <span className=\"w-8 text-center\">{childCount}</span>\n                    <Button\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 rounded-full\"\n                      onClick={() => onChildCountChange(childCount + 1)}\n                    >\n                      <Plus className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Budget Section */}\n            <div className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold text-[#1d1d1e]\">{t('budget.maxTitle')}</h2>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"currency\">{t('budget.currency')}</Label>\n                  <Select value={selectedCurrency} onValueChange={onCurrencyChange}>\n                    <SelectTrigger id=\"currency\">\n                      <SelectValue placeholder={t('budget.selectCurrency')} />\n                    </SelectTrigger>\n                    <SelectContent className=\"z-[100]\">\n                      {currencies.map((currency) => (\n                        <SelectItem key={currency.value} value={currency.value}>\n                          {currency.label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"maxBudget\">{t('budget.max')}</Label>\n                  <div className=\"relative\">\n                    <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\">\n                      {currencySymbol}\n                    </span>\n                    <Input\n                      id=\"maxBudget\"\n                      type=\"number\"\n                      value={maxBudget}\n                      onChange={(e) => onMaxBudgetChange(e.target.value)}\n                      className=\"pl-7\"\n                      placeholder=\"1000\"\n                      min=\"0\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </Card>\n\n        <div className=\"mt-8 flex flex-col md:flex-row gap-4 justify-center\">\n          <Button\n            variant=\"ghost\"\n            className=\"text-[#61936f] hover:text-[#4a7256]\"\n            onClick={onBack}\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('Back')}\n          </Button>\n\n          <Button\n            className=\"bg-[#61936f] hover:bg-[#4a7256] text-white\"\n            onClick={onContinue}\n          >\n            {t('createZapTrip')}\n          </Button>\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nPeopleBudget.displayName = 'PeopleBudget';\n\nexport default PeopleBudget; ","import React, { forwardRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\nimport { cn } from \"@/lib/utils\";\nimport { Card } from \"@/components/ui/card\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport { VehicleType } from '../subtrip-types';\nimport { Car, Bike, Truck, Zap } from 'lucide-react';\n\ninterface RoadTripVehicleProps {\n  vehicleType: VehicleType;\n  isElectricCar: boolean;\n  onVehicleTypeChange: (type: VehicleType) => void;\n  onElectricCarChange: (isElectric: boolean) => void;\n  onBack: () => void;\n  onContinue: () => void;\n}\n\nconst RoadTripVehicle = forwardRef<HTMLDivElement, RoadTripVehicleProps>(({\n  vehicleType,\n  isElectricCar,\n  onVehicleTypeChange,\n  onElectricCarChange,\n  onBack,\n  onContinue\n}, ref) => {\n  const { t } = useTranslation('home');\n  \n  const vehicleOptions = [\n    { id: 'car' as const, label: t('roadTrip.vehicle.car'), icon: Car },\n    { id: 'bike' as const, label: t('roadTrip.vehicle.motorcycle'), icon: Bike },\n    { id: 'bicycle' as const, label: t('roadTrip.vehicle.bicycle'), icon: Bike},\n    { id: 'rv' as const, label: t('roadTrip.vehicle.rv'), icon: Truck },\n  ];\n\n  return (\n    <motion.div\n      ref={ref}\n      key=\"road-trip-vehicle-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full\"\n    >\n      <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 md:mb-6\">\n        {t('roadTrip.vehicle.title')}\n      </h1>\n      \n      <p className=\"text-lg text-white mb-8\">\n        {t('roadTrip.vehicle.description')}\n      </p>\n\n      <div className=\"max-w-4xl mx-auto\">\n        <Card className=\"bg-white shadow-lg w-full p-6\">\n          <div className=\"flex flex-col space-y-8\">\n            {/* Vehicle Type Selection */}\n            <div className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold text-[#1d1d1e]\">{t('roadTrip.vehicle.selectType')}</h2>\n              \n              <div className=\"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                {vehicleOptions.map((option) => {\n                  const Icon = option.icon;\n                  const isSelected = vehicleType === option.id;\n                  \n                  return (\n                    <button\n                      key={option.id}\n                      onClick={() => onVehicleTypeChange(option.id)}\n                      className={cn(\n                        \"p-4 rounded-xl border-2 transition-all duration-200\",\n                        \"flex flex-col items-center justify-center gap-3 min-h-[160px]\",\n                        \"hover:border-[#61936f] group\",\n                        isSelected\n                          ? \"bg-[#61936f]/10 border-[#61936f]\"\n                          : \"bg-white border-gray-200\"\n                      )}\n                    >\n                      <div className={cn(\n                        \"w-16 h-16 rounded-full flex items-center justify-center\",\n                        \"transition-all duration-200\",\n                        isSelected\n                          ? \"bg-[#61936f] text-white\"\n                          : \"bg-gray-100 text-gray-600 group-hover:bg-[#61936f]/10 group-hover:text-[#61936f]\"\n                      )}>\n                        <Icon className=\"w-8 h-8\" />\n                      </div>\n                      <span className={cn(\n                        \"text-lg font-medium text-center\",\n                        isSelected\n                          ? \"text-[#61936f]\"\n                          : \"text-gray-700 group-hover:text-[#61936f]\"\n                      )}>\n                        {option.label}\n                      </span>\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n\n            {/* Electric Car Option - Only show when car is selected */}\n            {vehicleType === 'car' && (\n              <div className=\"space-y-4 bg-gray-50 p-4 rounded-lg\">\n                <div className=\"flex items-center space-x-2\">\n                  <Switch \n                    id=\"electric-car\" \n                    checked={isElectricCar}\n                    onCheckedChange={onElectricCarChange}\n                  />\n                  <Label htmlFor=\"electric-car\" className=\"flex items-center gap-2\">\n                    <Zap className=\"w-4 h-4 text-[#61936f]\" />\n                    {t('roadTrip.vehicle.electricCar')}\n                  </Label>\n                </div>\n              </div>\n            )}\n          </div>\n        </Card>\n\n        <div className=\"mt-8 flex flex-col md:flex-row gap-4 justify-center\">\n          <Button\n            variant=\"ghost\"\n            className=\"text-[#61936f] hover:text-[#4a7256]\"\n            onClick={onBack}\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('Back')}\n          </Button>\n\n          {vehicleType && (\n            <Button\n              className=\"bg-[#61936f] hover:bg-[#4a7256] text-white\"\n              onClick={onContinue}\n            >\n              {t('Continue')}\n            </Button>\n          )}\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nRoadTripVehicle.displayName = 'RoadTripVehicle';\n\nexport default RoadTripVehicle; ","import React, { forwardRef, useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft, Crosshair, Plus, Trash2 } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\nimport { cn } from \"@/lib/utils\";\nimport { Card } from \"@/components/ui/card\";\nimport { LocationSearch } from \"@/components/trips/LocationSearch\";\nimport { LocationCoordinates } from '../subtrip-types';\nimport { countryCurrencyMap } from '../subtrip-utils/helpers';\n\ninterface RoadTripLocationsProps {\n  startLocation: string;\n  startCoordinates: [number, number];\n  intermediateLocations: LocationCoordinates[];\n  endLocation: string;\n  endCoordinates: [number, number];\n  isStartLocating: boolean;\n  isEndLocating: boolean;\n  onStartLocationChange: (location: string, coordinates: [number, number]) => void;\n  onEndLocationChange: (location: string, coordinates: [number, number]) => void;\n  onAddIntermediateLocation: (location: string, coordinates: [number, number]) => void;\n  onRemoveIntermediateLocation: (index: number) => void;\n  onStartLocateMe: () => void;\n  onEndLocateMe: () => void;\n  onCurrencyChange?: (currencyCode: string) => void;\n  onBack: () => void;\n  onContinue: () => void;\n}\n\nconst RoadTripLocations = forwardRef<HTMLDivElement, RoadTripLocationsProps>(({\n  startLocation,\n  startCoordinates,\n  intermediateLocations,\n  endLocation,\n  endCoordinates,\n  isStartLocating,\n  isEndLocating,\n  onStartLocationChange,\n  onEndLocationChange,\n  onAddIntermediateLocation,\n  onRemoveIntermediateLocation,\n  onStartLocateMe,\n  onEndLocateMe,\n  onCurrencyChange,\n  onBack,\n  onContinue\n}, ref) => {\n  const { t } = useTranslation('home');\n  const [newLocation, setNewLocation] = useState<string>('');\n  const [newCoordinates, setNewCoordinates] = useState<[number, number]>([0, 0]);\n  \n  const isValid = startLocation && endLocation;\n\n  useEffect(() => {\n    if (startCoordinates && startCoordinates[0] !== 0 && startCoordinates[1] !== 0 && onCurrencyChange) {\n      updateCurrencyFromCoordinates(startCoordinates);\n    }\n  }, [startCoordinates]);\n\n  const updateCurrencyFromCoordinates = (coordinates: [number, number]) => {\n    if (!onCurrencyChange) return;\n    \n    fetch(\n      `https://api.mapbox.com/geocoding/v5/mapbox.places/${coordinates[1]},${coordinates[0]}.json?access_token=pk.eyJ1IjoibWlzdGVyZnJhenoiLCJhIjoiY203M2ZnM3BoMDhpMTJqcTNiYWpkamIzNyJ9.2SlcuEPIL2yCJw5TIPunVQ&types=country`\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.features && data.features[0]) {\n          const countryCode = data.features[0].properties.short_code?.toUpperCase();\n          \n          if (countryCode && countryCurrencyMap[countryCode]) {\n            onCurrencyChange(countryCurrencyMap[countryCode].code);\n          }\n        }\n      })\n      .catch((error) => {\n        console.error('Error getting country currency:', error);\n      });\n  };\n\n  const handleStartLocationChange = (location: string, coordinates: [number, number]) => {\n    onStartLocationChange(location, coordinates);\n    if (coordinates[0] !== 0 && coordinates[1] !== 0 && onCurrencyChange) {\n      updateCurrencyFromCoordinates(coordinates);\n    }\n  };\n\n  const handleEndLocationChange = (location: string, coordinates: [number, number]) => {\n    onEndLocationChange(location, coordinates);\n  };\n\n  const handleAddIntermediateLocation = () => {\n    if (newLocation && newCoordinates[0] !== 0 && newCoordinates[1] !== 0) {\n      onAddIntermediateLocation(newLocation, newCoordinates);\n      setNewLocation('');\n      setNewCoordinates([0, 0]);\n    }\n  };\n\n  return (\n    <motion.div\n      ref={ref}\n      key=\"road-trip-locations-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full\"\n    >\n      <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 md:mb-6\">\n        {t('roadTrip.locations.title')}\n      </h1>\n      \n      <p className=\"text-lg text-white mb-8\">\n        {t('roadTrip.locations.description')}\n      </p>\n\n      <div className=\"max-w-4xl mx-auto\">\n        <Card className=\"bg-white shadow-lg w-full p-6\">\n          <div className=\"flex flex-col space-y-8\">\n            {/* Start Location */}\n            <div className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold text-[#1d1d1e]\">{t('roadTrip.locations.start')}</h2>\n              <div className=\"flex gap-2\">\n                <div className=\"flex-1\">\n                  <LocationSearch\n                    value={startLocation}\n                    onChange={(location, coordinates) => {\n                      handleStartLocationChange(location, coordinates);\n                    }}\n                    className=\"w-full\"\n                    placeholder={t('roadTrip.locations.startPlaceholder')}\n                  />\n                </div>\n                \n              </div>\n            </div>\n\n            {/* Intermediate Stops */}\n            <div className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold text-[#1d1d1e]\">{t('roadTrip.locations.stops')}</h2>\n              \n              {/* Existing Stops */}\n              {intermediateLocations.length > 0 && (\n                <div className=\"space-y-3\">\n                  {intermediateLocations.map((stop, index) => (\n                    <div key={index} className=\"flex items-center gap-2\">\n                      <div className=\"flex-1 p-3 bg-gray-50 rounded-lg\">\n                        {stop.name}\n                      </div>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => onRemoveIntermediateLocation(index)}\n                        className=\"text-gray-500 hover:text-red-500\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n              )}\n              \n              {/* Add New Stop */}\n              <div className=\"flex gap-2\">\n                <div className=\"flex-1\">\n                  <LocationSearch\n                    value={newLocation}\n                    onChange={(location, coordinates) => {\n                      setNewLocation(location);\n                      setNewCoordinates(coordinates);\n                    }}\n                    className=\"w-full\"\n                    placeholder={t('roadTrip.locations.stopsPlaceholder')}\n                  />\n                </div>\n                <Button\n                  variant=\"outline\"\n                  onClick={handleAddIntermediateLocation}\n                  disabled={!newLocation || newCoordinates[0] === 0}\n                >\n                  <Plus className=\"w-4 h-4 mr-2\" />\n                  {t('roadTrip.locations.addStop')}\n                </Button>\n              </div>\n            </div>\n\n            {/* End Location */}\n            <div className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold text-[#1d1d1e]\">{t('roadTrip.locations.end')}</h2>\n              <div className=\"flex gap-2\">\n                <div className=\"flex-1\">\n                  <LocationSearch\n                    value={endLocation}\n                    onChange={(location, coordinates) => {\n                      handleEndLocationChange(location, coordinates);\n                    }}\n                    className=\"w-full\"\n                    placeholder={t('roadTrip.locations.endPlaceholder')}\n                  />\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </Card>\n\n        <div className=\"mt-8 flex flex-col md:flex-row gap-4 justify-center\">\n          <Button\n            variant=\"ghost\"\n            className=\"text-[#61936f] hover:text-[#4a7256]\"\n            onClick={onBack}\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('Back')}\n          </Button>\n\n          {isValid && (\n            <Button\n              className=\"bg-[#61936f] hover:bg-[#4a7256] text-white\"\n              onClick={onContinue}\n            >\n              {t('Continue')}\n            </Button>\n          )}\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nRoadTripLocations.displayName = 'RoadTripLocations';\n\nexport default RoadTripLocations; ","import React, { forwardRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft, Minus, Plus } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\nimport { cn } from \"@/lib/utils\";\nimport { Card } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport useTranslatedData from '../subtrip-utils/data';\n\ninterface RoadTripDetailsProps {\n  adultCount: number;\n  childCount: number;\n  maxBudget: string;\n  selectedCurrency: string;\n  currencySymbol: string;\n  onAdultCountChange: (value: number) => void;\n  onChildCountChange: (value: number) => void;\n  onMaxBudgetChange: (value: string) => void;\n  onCurrencyChange: (value: string) => void;\n  onBack: () => void;\n  onContinue: () => void;\n}\n\nconst RoadTripDetails = forwardRef<HTMLDivElement, RoadTripDetailsProps>(({\n  adultCount,\n  childCount,\n  maxBudget,\n  selectedCurrency,\n  currencySymbol,\n  onAdultCountChange,\n  onChildCountChange,\n  onMaxBudgetChange,\n  onCurrencyChange,\n  onBack,\n  onContinue\n}, ref) => {\n  const { t } = useTranslation('home');\n  const { currencies } = useTranslatedData();\n  \n  return (\n    <motion.div\n      ref={ref}\n      key=\"road-trip-details-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full\"\n    >\n      <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 md:mb-6\">\n        {t('roadTrip.details.title')}\n      </h1>\n      \n      <p className=\"text-lg text-white mb-8\">\n        {t('roadTrip.details.description')}\n      </p>\n\n      <div className=\"max-w-4xl mx-auto\">\n        <Card className=\"bg-white shadow-lg w-full p-6\">\n          <div className=\"flex flex-col space-y-8\">\n            {/* Number of People */}\n            <div className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold text-[#1d1d1e] text-center\">{t('people.title')}</h2>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-2\">\n                  <Label className=\"flex items-center justify-center h-8\">{t('people.adults')}</Label>\n                  <div className=\"flex items-center justify-center space-x-4\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 rounded-full\"\n                      onClick={() => onAdultCountChange(Math.max(1, adultCount - 1))}\n                      disabled={adultCount <= 1}\n                    >\n                      <Minus className=\"h-4 w-4\" />\n                    </Button>\n                    <span className=\"w-8 text-center flex items-center justify-center\">{adultCount}</span>\n                    <Button\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 rounded-full\"\n                      onClick={() => onAdultCountChange(adultCount + 1)}\n                    >\n                      <Plus className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label className=\"flex items-center justify-center h-8\">{t('people.children')}</Label>\n                  <div className=\"flex items-center justify-center space-x-4\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 rounded-full\"\n                      onClick={() => onChildCountChange(Math.max(0, childCount - 1))}\n                      disabled={childCount <= 0}\n                    >\n                      <Minus className=\"h-4 w-4\" />\n                    </Button>\n                    <span className=\"w-8 text-center flex items-center justify-center\">{childCount}</span>\n                    <Button\n                      variant=\"outline\"\n                      size=\"icon\"\n                      className=\"h-8 w-8 rounded-full\"\n                      onClick={() => onChildCountChange(childCount + 1)}\n                    >\n                      <Plus className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Budget Section */}\n            <div className=\"space-y-4\">\n              <h2 className=\"text-2xl font-semibold text-[#1d1d1e]\">\n                {t('budget.perPersonTitle')}\n              </h2>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"currency\">{t('budget.currency')}</Label>\n                  <Select value={selectedCurrency} onValueChange={onCurrencyChange}>\n                    <SelectTrigger id=\"currency\">\n                      <SelectValue placeholder={t('budget.selectCurrency')} />\n                    </SelectTrigger>\n                    <SelectContent className=\"z-[100]\">\n                      {currencies.map((currency) => (\n                        <SelectItem key={currency.value} value={currency.value}>\n                          {currency.label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"maxBudget\">{t('budget.maxPerActivity')}</Label>\n                  <div className=\"relative\">\n                    <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\">\n                      {currencySymbol}\n                    </span>\n                    <Input\n                      id=\"maxBudget\"\n                      type=\"number\"\n                      value={maxBudget}\n                      onChange={(e) => onMaxBudgetChange(e.target.value)}\n                      className=\"pl-7\"\n                      placeholder=\"100\"\n                      min=\"0\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </Card>\n\n        <div className=\"mt-8 flex flex-col md:flex-row gap-4 justify-center\">\n          <Button\n            variant=\"ghost\"\n            className=\"text-[#61936f] hover:text-[#4a7256]\"\n            onClick={onBack}\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('Back')}\n          </Button>\n\n          <Button\n            className=\"bg-[#61936f] hover:bg-[#4a7256] text-white\"\n            onClick={onContinue}\n          >\n            {t('createZapRoad')}\n          </Button>\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nRoadTripDetails.displayName = 'RoadTripDetails';\n\nexport default RoadTripDetails; ","import React, { forwardRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft, ChevronDown, ChevronUp } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { pageVariants } from '../subtrip-utils/animations';\nimport { cn } from \"@/lib/utils\";\nimport { Card } from \"@/components/ui/card\";\nimport useTranslatedData from '../subtrip-utils/data';\n\ninterface RoadTripInterestsProps {\n  selectedRoadTripInterests: string[];\n  onSelectInterest: (interestId: string) => void;\n  expandedCategory: string | null;\n  onToggleCategory: (category: string) => void;\n  onBack: () => void;\n  onContinue: () => void;\n}\n\nconst RoadTripInterests = forwardRef<HTMLDivElement, RoadTripInterestsProps>(({\n  selectedRoadTripInterests,\n  onSelectInterest,\n  expandedCategory,\n  onToggleCategory,\n  onBack,\n  onContinue\n}, ref) => {\n  const { t } = useTranslation('home');\n  const { roadTripInterestCategories } = useTranslatedData();\n  \n  const getPluralText = (count: number) => {\n    return count === 1 ? \"interest\" : \"interests\";\n  };\n\n  const MAX_SELECTIONS = 5;\n\n  return (\n    <motion.div\n      ref={ref}\n      key=\"road-trip-interests-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full\"\n    >\n      <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 md:mb-6\">\n        {t('roadTrip.interests.title')}\n      </h1>\n      \n      <p className=\"text-lg text-white mb-8\">\n        {t('roadTrip.interests.description')}\n      </p>\n\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"text-center mb-8\">\n          <p className=\"text-white text-sm\">\n            {t('roadTrip.interests.maxSelection', {\n              max: MAX_SELECTIONS,\n              selected: selectedRoadTripInterests.length\n            })}\n          </p>\n        </div>\n\n        <Card className=\"bg-white shadow-lg w-full p-6\">\n          <div className=\"flex flex-col space-y-4\">\n            {roadTripInterestCategories.map((category) => (\n              <div key={category.category} className=\"border rounded-lg overflow-hidden\">\n                <div \n                  className={cn(\n                    \"px-4 py-3 flex justify-between items-center cursor-pointer\",\n                    \"transition-colors duration-150\",\n                    \"hover:bg-gray-50\",\n                    expandedCategory === category.category ? \"bg-gray-50\" : \"bg-white\"\n                  )}\n                  onClick={() => onToggleCategory(category.category)}\n                >\n                  <h3 className=\"text-lg font-medium text-[#1d1d1e]\">\n                    {category.category === 'scenicNature' ? t('roadTrip.interests.category.scenicNature') :\n                     category.category === 'places' ? t('roadTrip.interests.category.places') :\n                     category.category === 'activities' ? t('roadTrip.interests.category.activities') :\n                     category.category}\n                  </h3>\n                  {expandedCategory === category.category ? \n                    <ChevronUp className=\"h-5 w-5 text-gray-500\" /> : \n                    <ChevronDown className=\"h-5 w-5 text-gray-500\" />\n                  }\n                </div>\n                \n                {expandedCategory === category.category && (\n                  <motion.div\n                    initial={{ height: 0, opacity: 0 }}\n                    animate={{ height: \"auto\", opacity: 1 }}\n                    exit={{ height: 0, opacity: 0 }}\n                    transition={{ duration: 0.3 }}\n                    className=\"px-4 py-3 bg-gray-50\"\n                  >\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                      {category.items.map((interest) => {\n                        const isSelected = selectedRoadTripInterests.includes(interest.id);\n                        const Icon = interest.icon;\n                        \n                        return (\n                          <button\n                            key={interest.id}\n                            onClick={() => onSelectInterest(interest.id)}\n                            disabled={!isSelected && selectedRoadTripInterests.length >= 5}\n                            className={cn(\n                              \"p-3 rounded-lg border-2 transition-all duration-200\",\n                              \"flex flex-col items-center justify-center gap-2 text-center\",\n                              \"hover:border-[#61936f] group\",\n                              isSelected\n                                ? \"bg-[#61936f]/10 border-[#61936f]\"\n                                : !isSelected && selectedRoadTripInterests.length >= 5\n                                  ? \"bg-gray-100 border-gray-200 opacity-60 cursor-not-allowed\"\n                                  : \"bg-white border-gray-200\"\n                            )}\n                          >\n                            <div className={cn(\n                              \"w-10 h-10 rounded-full flex items-center justify-center\",\n                              \"transition-all duration-200\",\n                              isSelected\n                                ? \"bg-[#61936f] text-white\"\n                                : \"bg-gray-100 text-gray-600 group-hover:bg-[#61936f]/10 group-hover:text-[#61936f]\"\n                            )}>\n                              <Icon className=\"w-5 h-5\" />\n                            </div>\n                            <span className={cn(\n                              \"text-sm font-medium\",\n                              isSelected\n                                ? \"text-[#61936f]\"\n                                : \"text-gray-700 group-hover:text-[#61936f]\"\n                            )}>\n                              {t(`${interest.label}`)}\n                            </span>\n                          </button>\n                        );\n                      })}\n                    </div>\n                  </motion.div>\n                )}\n              </div>\n            ))}\n          </div>\n        </Card>\n\n        <div className=\"mt-8 flex flex-col md:flex-row gap-4 justify-center\">\n          <Button\n            variant=\"ghost\"\n            className=\"text-[#61936f] hover:text-[#4a7256]\"\n            onClick={onBack}\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('Back')}\n          </Button>\n\n          <Button\n            className=\"bg-[#61936f] hover:bg-[#4a7256] text-white\"\n            onClick={onContinue}\n          >\n            {t('continue')}\n          </Button>\n        </div>\n      </div>\n    </motion.div>\n  );\n});\n\nRoadTripInterests.displayName = 'RoadTripInterests';\n\nexport default RoadTripInterests; ","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { motion } from 'framer-motion';\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { pageVariants } from '../subtrip-utils/animations';\nimport { PawPrint } from 'lucide-react';\n\ninterface PetQuestionProps {\n  selectedActivity: 'plan-trip' | 'tinder-date' | 'friends' | 'roadtrip' | null;\n  onSetHasPets: (value: boolean) => void;\n  onBack: () => void;\n}\n\nconst PetQuestion = ({ selectedActivity, onSetHasPets, onBack }: PetQuestionProps) => {\n  const { t } = useTranslation('home');\n\n  const getTitle = () => {\n    switch (selectedActivity) {\n      case 'plan-trip':\n        return t('activity.petsQuestion.trip');\n      case 'tinder-date':\n        return t('activity.petsQuestion.tinderDate');\n      case 'friends':\n        return t('activity.petsQuestion.activity');\n      case 'roadtrip':\n        return t('activity.petsQuestion.roadTrip');\n      default:\n        return t('activity.petsQuestion.default');\n    }\n  };\n\n  const getDescription = () => {\n    switch (selectedActivity) {\n      case 'plan-trip':\n        return t('activity.petsQuestion.description');\n      case 'tinder-date':\n        return t('activity.petsQuestion.description');\n      case 'friends':\n        return t('activity.petsQuestion.description');\n      case 'roadtrip':\n        return t('activity.petsQuestion.description');\n      default:\n        return t('activity.petsQuestion.description');\n    }\n  };\n\n  return (\n    <motion.div\n      key=\"pet-question-step\"\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      variants={pageVariants}\n      className=\"w-full max-w-6xl mx-auto\"\n    >\n      <div className=\"text-center mb-8 md:mb-12\">\n        <motion.div \n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n          className=\"inline-block mb-3 p-3 rounded-full bg-[#61936f]/10 backdrop-blur-sm\"\n        >\n          <PawPrint className=\"h-6 w-6 md:h-7 md:w-7 text-white\" />\n        </motion.div>\n        \n        <motion.h1 \n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.5, delay: 0.1 }}\n          className=\"text-3xl md:text-4xl font-bold text-white mb-3\"\n        >\n          {getTitle()}\n        </motion.h1>\n        \n        <motion.p\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.5, delay: 0.2 }}\n          className=\"text-lg md:text-xl text-white/80 max-w-2xl mx-auto\"\n        >\n          {getDescription()}\n        </motion.p>\n      </div>\n\n      <motion.div \n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.3 }}\n        className=\"flex flex-col sm:flex-row gap-4 justify-center items-center max-w-xl mx-auto\"\n      >\n        <Button\n          variant=\"outline\"\n          className={cn(\n            \"w-full sm:w-auto px-8 py-6 rounded-xl text-lg font-medium min-w-[160px]\",\n            \"bg-white/95 backdrop-blur-sm border-2 border-[#61936f] text-[#61936f]\",\n            \"transition-all duration-300 transform hover:scale-[1.02]\",\n            \"hover:bg-[#61936f] hover:text-white\"\n          )}\n          onClick={() => onSetHasPets(true)}\n        >\n          {t('activity.petsOptions.yes')}\n        </Button>\n        <Button\n          variant=\"outline\"\n          className={cn(\n            \"w-full sm:w-auto px-8 py-6 rounded-xl text-lg font-medium min-w-[160px]\",\n            \"bg-white/95 backdrop-blur-sm border-2 border-[#61936f] text-[#61936f]\",\n            \"transition-all duration-300 transform hover:scale-[1.02]\",\n            \"hover:bg-[#61936f] hover:text-white\"\n          )}\n          onClick={() => onSetHasPets(false)}\n        >\n          {t('activity.petsOptions.no')}\n        </Button>\n      </motion.div>\n\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.4 }}\n        className=\"mt-8 flex justify-center\"\n      >\n        <Button\n          variant=\"ghost\"\n          onClick={onBack}\n          className=\"text-white hover:text-[#61936f] hover:bg-white/10\"\n        >\n          {t('common.back')}\n        </Button>\n      </motion.div>\n    </motion.div>\n  );\n};\n\nexport default PetQuestion; ","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { motion } from 'framer-motion';\nimport { Clock } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { ChevronLeft } from 'lucide-react';\n\ninterface ActivityTimeSelectorProps {\n  selectedTimes: string[];\n  onSelectTime: (timeId: string) => void;\n  onBack: () => void;\n  onContinue: () => void;\n  isHomepage?: boolean; // New prop to detect if this is on the homepage\n}\n\nconst ActivityTimeSelector = ({\n  selectedTimes,\n  onSelectTime,\n  onBack,\n  onContinue,\n  isHomepage = false\n}: ActivityTimeSelectorProps) => {\n  const { t } = useTranslation('trip');\n\n  const activityTimeOptions = [\n    { id: \"morning\", label: t(\"types.zapOut.details.morning\") },\n    { id: \"afternoon\", label: t(\"types.zapOut.details.afternoon\") },\n    { id: \"evening\", label: t(\"types.zapOut.details.evening\") },\n    { id: \"nightlife\", label: t(\"types.zapOut.details.nightlife\") },\n    { id: \"allDay\", label: t(\"types.zapOut.details.allDay\") },\n  ];\n\n  return (\n    <div className={cn(\n      \"hero-card w-full\",\n      isHomepage \n        ? \"bg-black/60 backdrop-blur-md border border-white/10 shadow-2xl\" // Enhanced styling for homepage\n        : \"bg-black/30 backdrop-blur-sm\", // Regular background for other pages\n      \"p-4 sm:p-6 rounded-xl\",\n      \"my-2 sm:my-4\",\n      \"flex flex-col items-center justify-center gap-4\",\n      isHomepage && \"ring-1 ring-white/5\" // Subtle ring for homepage\n    )}>\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"w-full max-w-2xl mx-auto flex flex-col items-center justify-center gap-4\"\n      >\n        <motion.div \n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n          className={cn(\n            \"inline-block mb-3 p-3 rounded-full bg-[#61936f]/10 backdrop-blur-sm\",\n            \"flex items-center justify-center\",\n            \"w-6 h-6 md:w-7 md:h-7\"\n          )}\n        >\n          <Clock className=\"h-6 w-6 md:h-7 md:w-7 text-white\" />\n        </motion.div>\n\n        <motion.h1 \n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.5, delay: 0.1 }}\n          className=\"text-3xl md:text-4xl font-bold text-white mb-3 text-center\"\n        >\n          {t('form.activityTime.title')}\n        </motion.h1>\n\n        <motion.p\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.5, delay: 0.2 }}\n          className=\"text-lg text-white/80 mb-8 text-center\"\n        >\n          {t('form.activityTime.subtitle')}\n        </motion.p>\n\n        <motion.div \n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.3 }}\n          className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full\"\n        >\n          {activityTimeOptions.map((option) => (\n            <Button\n              key={option.id}\n              onClick={() => onSelectTime(option.id)}\n              className={cn(\n                \"w-full p-6 text-lg font-medium rounded-xl\",\n                \"transition-all duration-300\",\n                \"flex items-center justify-center gap-3\",\n                selectedTimes.includes(option.id)\n                  ? \"bg-[#61936f] text-white hover:bg-[#4a7256] shadow-lg shadow-[#61936f]/30\"\n                  : isHomepage \n                    ? \"bg-white/15 text-white hover:bg-white/25 border border-white/20\" // Enhanced styling for homepage\n                    : \"bg-white/10 text-white hover:bg-white/20\"\n              )}\n            >\n              {option.label}\n            </Button>\n          ))}\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.4 }}\n          className=\"mt-8 flex flex-col sm:flex-row gap-4 justify-center items-center\"\n        >\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            onClick={onBack}\n            className=\"text-white hover:text-[#61936f] hover:bg-white/10\"\n          >\n            <ChevronLeft className=\"w-4 h-4 mr-2\" />\n            {t('form.back')}\n          </Button>\n          <Button\n            type=\"button\"\n            onClick={onContinue}\n            disabled={selectedTimes.length === 0}\n            className={cn(\n              \"px-8 py-6 rounded-xl text-lg font-medium min-w-[200px]\",\n              \"bg-[#61936f] hover:bg-[#4a7256] text-white\",\n              isHomepage \n                ? \"shadow-2xl shadow-[#61936f]/40 hover:shadow-3xl hover:shadow-[#61936f]/50\" // Enhanced shadow for homepage\n                : \"shadow-lg shadow-[#61936f]/20 hover:shadow-xl hover:shadow-[#61936f]/30\",\n              \"transform transition-all duration-300 hover:scale-[1.02]\",\n              selectedTimes.length === 0 && \"opacity-50 cursor-not-allowed\"\n            )}\n          >\n            {t('form.next')}\n          </Button>\n        </motion.div>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default ActivityTimeSelector; ","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { cn } from '@/lib/utils';\nimport { useTranslation } from 'react-i18next';\n\ninterface StepIndicatorProps {\n  currentStep: string;\n  selectedActivity: 'plan-trip' | 'tinder-date' | 'friends' | 'roadtrip' | null;\n}\n\nconst StepIndicator: React.FC<StepIndicatorProps> = ({ currentStep, selectedActivity }) => {\n  const { t } = useTranslation('trip');\n\n  // Get total steps based on activity type\n  const getTotalSteps = () => {\n    if (selectedActivity === 'plan-trip') return 9; // ZapTrip\n    if (selectedActivity === 'roadtrip') return 7; // ZapRoad\n    if (selectedActivity === 'tinder-date' || selectedActivity === 'friends') return 6; // ZapOut\n    return 0; // No steps when no activity is selected\n  };\n\n  // Get current step number based on currentStep\n  const getCurrentStepNumber = () => {\n    const stepMap: { [key: string]: number } = {\n      // ZapTrip steps (9 total)\n      'activity': 1,\n      'title-description': 2,\n      'pet-question': 3,\n      'location-picker': 4,\n      'calendar': 5,\n      'trip-interests': 6,\n      'travel-logistics': 7,\n      'accommodation': 8,\n      'people-budget': 9,\n      \n      // ZapRoad steps (7 total)\n      'road-trip-vehicle': 4,\n      'road-trip-locations': 5,\n      'road-trip-interests': 6,\n      'road-trip-details': 7,\n      \n      // ZapOut steps (6 total)\n      'tinder-options': 4,\n      'activity-time': 5,\n      'tinder-location-budget': 6\n    };\n    return stepMap[currentStep] || 0;\n  };\n\n  // Don't render anything if no activity is selected\n  if (!selectedActivity) {\n    return null;\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={{ duration: 0.5, delay: 0.1 }}\n      className=\"step-indicator flex justify-center items-center gap-2 mb-4\"\n    >\n      <span className=\"text-sm text-white/60\">\n        {t('stepIndicator.step')} {getCurrentStepNumber()} {t('stepIndicator.of')} {getTotalSteps()}\n      </span>\n      <div className=\"flex items-center gap-1.5\">\n        {Array.from({ length: getTotalSteps() }).map((_, index) => (\n          <div\n            key={index}\n            className={cn(\n              \"w-1.5 h-1.5 rounded-full transition-all duration-300\",\n              index + 1 === getCurrentStepNumber() ? \"bg-[#61936f]\" : \"bg-white/20\"\n            )}\n          />\n        ))}\n      </div>\n    </motion.div>\n  );\n};\n\nexport default StepIndicator; ","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { cn } from \"@/lib/utils\";\n\ninterface CustomActivityDialogProps {\n  isOpen: boolean;\n  onOpenChange: (open: boolean) => void;\n  customActivity: string;\n  onCustomActivityChange: (value: string) => void;\n  onAddCustomActivity: () => void;\n}\n\nconst CustomActivityDialog: React.FC<CustomActivityDialogProps> = ({\n  isOpen,\n  onOpenChange,\n  customActivity,\n  onCustomActivityChange,\n  onAddCustomActivity\n}) => {\n  const { t } = useTranslation('home');\n  \n  return (\n    <Dialog open={isOpen} onOpenChange={onOpenChange}>\n      <DialogContent className={cn(\n        \"sm:max-w-md\",\n        \"p-4 sm:p-6\",\n        \"!rounded-2xl sm:!rounded-3xl\",\n        \"w-[calc(100%-2rem)] sm:w-auto\",\n        \"mx-4 sm:mx-auto\"\n      )}>\n        <DialogHeader className=\"space-y-2\">\n          <DialogTitle className=\"text-xl sm:text-2xl\">{t('addActivity.title')}</DialogTitle>\n          <DialogDescription className=\"text-sm sm:text-base\">\n            {t('addActivity.description')}\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"grid gap-4 py-4\">\n          <div className=\"grid grid-cols-4 items-center gap-4\">\n            <Label htmlFor=\"activity\" className=\"text-right\">\n              {t('addActivity.activity')}\n            </Label>\n            <Input\n              id=\"activity\"\n              value={customActivity}\n              onChange={(e) => onCustomActivityChange(e.target.value)}\n              className=\"col-span-3\"\n              placeholder={t('addActivity.enterActivity')}\n            />\n          </div>\n        </div>\n        <DialogFooter className=\"flex-col sm:flex-row gap-2 sm:gap-4 mt-2\">\n          <Button\n            variant=\"ghost\"\n            onClick={() => onOpenChange(false)}\n            className={cn(\n              \"w-full sm:w-auto order-2 sm:order-1\",\n              \"min-h-[44px]\",\n              \"active:scale-95 touch-manipulation\"\n            )}\n          >\n            {t('cancel')}\n          </Button>\n          <Button\n            onClick={onAddCustomActivity}\n            className={cn(\n              \"bg-[#61936f] hover:bg-[#4a7256] text-white\",\n              \"w-full sm:w-auto order-1 sm:order-2\",\n              \"min-h-[44px]\",\n              \"active:scale-95 touch-manipulation\"\n            )}\n            disabled={!customActivity.trim()}\n          >\n            {t('addActivity.addActivity')}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default CustomActivityDialog; ","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\nimport { motion } from 'framer-motion';\n\ninterface LoadingDialogProps {\n  isOpen: boolean;\n  onOpenChange: (open: boolean) => void;\n  type: 'trip' | 'date' | 'groupActivity' | 'roadTrip';\n}\n\nconst LoadingDialog: React.FC<LoadingDialogProps> = ({ \n  isOpen, \n  onOpenChange,\n  type\n}) => {\n  const { t } = useTranslation('home');\n  \n  const getTitle = () => {\n    switch (type) {\n      case 'trip':\n        return t('creating.trip');\n      case 'date':\n        return t('creating.date');\n      case 'groupActivity':\n        return t('creating.groupActivity');\n      case 'roadTrip':\n        return t('creating.roadTrip');\n      default:\n        return t('creating.trip');\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-md !p-12 !rounded-3xl bg-white/80 backdrop-blur-sm border-none shadow-2xl\">\n        <DialogTitle className=\"sr-only\">{getTitle()}</DialogTitle>\n        <div className=\"flex flex-col items-center justify-center gap-6\">\n          <motion.div\n            className=\"w-24 h-24 rounded-full border-4 border-[#61936f] border-t-transparent\"\n            animate={{\n              rotate: 360\n            }}\n            transition={{\n              duration: 1,\n              ease: \"linear\",\n              repeat: Infinity\n            }}\n          />\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.2 }}\n            className=\"text-center\"\n          >\n            <h2 className=\"text-2xl font-bold text-[#1d1d1e] mb-2\">{getTitle()}</h2>\n            <p className=\"text-gray-600\">{t('creating.description')}</p>\n          </motion.div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default LoadingDialog; ","import { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { format } from \"date-fns\";\nimport { TripType } from \"../subtrip-utils/freeTripValidation\";\nimport { useTranslation } from \"react-i18next\";\nimport { cn } from \"@/lib/utils\";\n\ninterface FreeTripDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onUpgrade: () => void;\n  remaining: number | null;\n  nextReset: string | null;\n  tripType: TripType;\n}\n\nexport const FreeTripDialog = ({\n  isOpen,\n  onClose,\n  onUpgrade,\n  remaining,\n  nextReset,\n  tripType\n}: FreeTripDialogProps) => {\n  const { t } = useTranslation('trip');\n\n  const getTripTypeName = (type: TripType) => {\n    switch (type) {\n      case 'zaproad':\n        return 'ZapRoad';\n      case 'zaptrip':\n        return 'ZapTrip';\n      case 'zapout':\n        return 'ZapOut';\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-md rounded-lg sm:rounded-lg\">\n        <DialogHeader>\n          <DialogTitle>{t('freeTrip.status')}</DialogTitle>\n          <div className=\"space-y-4\">\n            {remaining === 0 ? (\n              <>\n                <div className=\"text-sm text-muted-foreground\">\n                  {t('freeTrip.allUsed', { type: getTripTypeName(tripType) })}\n                </div>\n                {nextReset && (\n                  <div className=\"text-sm text-muted-foreground\">\n                    {t('freeTrip.nextReset', { date: format(new Date(nextReset), 'MMMM d, yyyy') })}\n                  </div>\n                )}\n                <div className=\"flex flex-col space-y-2\">\n                  <Button \n                    onClick={onUpgrade} \n                    className={cn(\n                      \"relative px-6 py-2 bg-gradient-to-r from-[#10B981] to-[#059669] text-white border-none hover:from-[#059669] hover:to-[#047857] hover:scale-105 transition-all duration-300 shadow-lg rounded-full font-medium tracking-wide\"\n                    )}\n                  >\n                    {t('freeTrip.upgrade', { type: getTripTypeName(tripType) })}\n                  </Button>\n                  <Button \n                    variant=\"outline\" \n                    onClick={onClose} \n                    className=\"w-full text-[#61936f] hover:text-[#4a7256] border-[#61936f] hover:bg-[#61936f]/10\"\n                  >\n                    {t('freeTrip.maybeLater')}\n                  </Button>\n                </div>\n              </>\n            ) : (\n              <>\n                <div className=\"text-sm text-muted-foreground\">\n                  {t('freeTrip.remaining', { \n                    count: remaining,\n                    type: getTripTypeName(tripType)\n                  })}\n                </div>\n                {nextReset && (\n                  <div className=\"text-sm text-muted-foreground\">\n                    {t('freeTrip.resetDate', { date: format(new Date(nextReset), 'MMMM d, yyyy') })}\n                  </div>\n                )}\n                <Button \n                  onClick={onClose} \n                  className={cn(\n                    \"relative px-6 py-2 bg-gradient-to-r from-[#10B981] to-[#059669] text-white border-none hover:from-[#059669] hover:to-[#047857] hover:scale-105 transition-all duration-300 shadow-lg rounded-full font-medium tracking-wide\"\n                  )}\n                >\n                  {t('freeTrip.continue')}\n                </Button>\n              </>\n            )}\n          </div>\n        </DialogHeader>\n      </DialogContent>\n    </Dialog>\n  );\n}; ","import React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\nimport { motion } from 'framer-motion';\n\ninterface ProfileCreationDialogProps {\n  isOpen: boolean;\n  onOpenChange: (open: boolean) => void;\n  onProfileCreated: () => void;\n}\n\nconst ProfileCreationDialog: React.FC<ProfileCreationDialogProps> = ({ \n  isOpen, \n  onOpenChange,\n  onProfileCreated\n}) => {\n  const { t } = useTranslation('home');\n  \n  useEffect(() => {\n    if (isOpen) {\n      // Wait 3 seconds then call onProfileCreated\n      const timer = setTimeout(() => {\n        onProfileCreated();\n      }, 3000);\n      \n      return () => clearTimeout(timer);\n    }\n  }, [isOpen, onProfileCreated]);\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-md !p-12 !rounded-3xl bg-white/80 backdrop-blur-sm border-none shadow-2xl\">\n        <DialogTitle className=\"sr-only\">Creating Profile</DialogTitle>\n        <div className=\"flex flex-col items-center justify-center gap-6\">\n          <motion.div\n            className=\"w-24 h-24 rounded-full border-4 border-[#61936f] border-t-transparent\"\n            animate={{\n              rotate: 360\n            }}\n            transition={{\n              duration: 1,\n              ease: \"linear\",\n              repeat: Infinity\n            }}\n          />\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.2 }}\n            className=\"text-center\"\n          >\n            <h2 className=\"text-2xl font-bold text-[#1d1d1e] mb-2\">{t('creating.profile')}</h2>\n            <p className=\"text-gray-600\">{t('creating.profileDescription')}</p>\n          </motion.div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default ProfileCreationDialog;\n","import { supabase } from '@/integrations/supabase/client';\n\nexport type TripType = 'zaproad' | 'zaptrip' | 'zapout';\n\ninterface FreeTripValidationResponse {\n  can_use: boolean;\n  remaining: number | null;\n  next_reset: string | null;\n  message: string;\n  error?: string;\n  details?: string;\n}\n\nexport const validateFreeTrip = async (tripType: TripType): Promise<FreeTripValidationResponse> => {\n  try {\n    const session = await supabase.auth.getSession();\n    if (!session.data.session) {\n      throw new Error('No active session');\n    }\n\n    const response = await fetch('https://ynvnzmkpifwteyuxondc.supabase.co/functions/v1/validate-free-trip', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${session.data.session.access_token}`\n      },\n      body: JSON.stringify({ trip_type: tripType })\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.error || 'Failed to validate free trip');\n    }\n    \n    return await response.json();\n  } catch (error) {\n    console.error('Error validating free trip:', error);\n    return {\n      can_use: false,\n      remaining: null,\n      next_reset: null,\n      message: 'Error validating free trip',\n      error: error.message\n    };\n  }\n};\n\nexport const recordFreeTrip = async (tripType: TripType, tripId: string): Promise<void> => {\n  try {\n    const session = await supabase.auth.getSession();\n    if (!session.data.session) {\n      throw new Error('No active session');\n    }\n\n    const response = await fetch('https://ynvnzmkpifwteyuxondc.supabase.co/functions/v1/validate-free-trip', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${session.data.session.access_token}`\n      },\n      body: JSON.stringify({ \n        trip_type: tripType,\n        trip_id: tripId\n      })\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.error || 'Failed to record free trip');\n    }\n  } catch (error) {\n    console.error('Error recording free trip:', error);\n    throw error;\n  }\n};\n\nexport const getTripTypeFromActivity = (activityType: string): TripType | null => {\n  switch (activityType) {\n    case 'roadtrip':\n      return 'zaproad';\n    case 'plan-trip':\n      return 'zaptrip';\n    case 'tinder-date':\n    case 'friends':\n      return 'zapout';\n    default:\n      return null;\n  }\n}; "],"names":["pageVariants","initial","x","opacity","animate","transition","duration","ease","exit","useTranslatedData","t","useTranslation","activities","id","label","icon","MapPin","Heart","Users","Car","tinderOptions","Landmark","Utensils","Gem","MapIcon","Building","Camera","FrameIcon","Sun","Snowflake","BeerIcon","ShoppingBag","Mountain","MoonStar","Music2","HeartPulse","Plus","tripInterests","category","items","Castle","Church","Sparkles","UtensilsCrossed","Drumstick","Coffee","Wine","Soup","Cookie","FootprintsIcon","Waves","TreePine","Flower2","Fish","Leaf","Ship","Bike","Ticket","Music","Shirt","Umbrella","GlassWater","Palette","transportOptions","Plane","Train","Bus","accommodationOptions","Hotel","description","Tent","currencies","value","symbol","roadTripInterestCategories","HomeIcon","key","i18next","ns","ActivitySelection","forwardRef","selectedActivity","hasPets","onSelectActivity","onSetHasPets","onNext","embedded","ref","userRole","useUserRole","navigate","useNavigate","toast","useToast","customActivities","PlaneTakeoff","CableCar","canAccessActivity","activityId","includes","getRequiredTier","handleActivitySelect","async","data","user","supabase","auth","getUser","activityData","source","activityLabel","find","a","startedAt","Date","toISOString","setHomepageCreateTripCache","now","Math","random","toString","substr","isTemporary","sessionStorage","setItem","JSON","stringify","error","title","variant","useEffect","jsxs","motion","div","variants","className","children","jsx","h1","delay","y","cn","map","activity","index","Icon","isAccessible","requiredTier","TooltipProvider","Tooltip","TooltipTrigger","asChild","button","onClick","Lock","TooltipContent","displayName","formatDateWithCapitalMonth","date","formatted","format","locale","fr","charAt","toUpperCase","slice","countryCurrencyMap","US","code","GB","EU","CA","AU","JP","CN","CH","IN","BR","TRIP_COLORS","roadtrip","friends","SingleDateCalendar","selectedDate","setSelectedDate","isCalendarOpen","setIsCalendarOpen","React","useState","tripColor","Button","type","e","preventDefault","stopPropagation","Popover","open","onOpenChange","PopoverTrigger","CalendarIcon","PopoverContent","align","sideOffset","onInteractOutside","Calendar","mode","selected","onSelect","numberOfMonths","disabled","showOutsideDays","classNames","months","month","caption","caption_label","nav","nav_button","buttonVariants","nav_button_previous","nav_button_next","table","head_row","head_cell","row","cell","day","day_selected","day_today","day_outside","day_disabled","day_range_middle","day_hidden","RangeDateCalendar","dateRange","setDateRange","showWarning","setShowWarning","range","from","to","diffTime","abs","getTime","diffDays","floor","CalendarSelection","onContinue","onBack","isFinalStep","showContinueButton","useMemo","Boolean","isZapOut","Card","ChevronLeft","LocationPicker","location","isLoadingImage","locationImage","locationDetails","onLocationChange","onLocationSelect","onCurrencyChange","lastCoordinatesRef","useRef","style","position","zIndex","Globe","LocationSearch","onChange","newLocation","coordinates","current","fetch","then","response","json","features","countryCode","properties","short_code","catch","ZapAnimation","show","getAnimationText","zapAnimationType","prefix","main","useAnimationText","animationText","scale","stiffness","p","letterSpacing","width","TripInterests","selectedTripInterests","onSelectInterest","expandedCategory","onToggleCategory","maxSelections","selectedInterestsWithDetails","interestId","interest","item","filter","midPoint","ceil","length","leftColumn","rightColumn","max","X","ChevronDown","AnimatePresence","height","isSelected","isDisabled","span","TinderOptions","selectedTinderOptions","onSelectOption","onOpenCustomActivityDialog","option","canSelect","indexOf","count","pluralKey","TinderLocationBudget","tinderLocation","tinderCoordinates","minBudget","maxBudget","selectedCurrency","currencySymbol","isTinderLocating","adultCount","childCount","onTinderLocationChange","onTinderLocateMe","onMinBudgetChange","onMaxBudgetChange","onAdultCountChange","onChildCountChange","showBudget","setShowBudget","isValid","newCoordinates","placeholder","Label","size","Minus","Switch","checked","onCheckedChange","htmlFor","Select","onValueChange","SelectTrigger","SelectValue","SelectContent","currency","SelectItem","Input","target","min","TravelLogistics","departureLocation","isLocating","transportMode","isElectricCar","isCarpool","onDepartureLocationChange","onLocateMe","onTransportModeChange","onElectricCarChange","onCarpoolChange","updateCurrencyFromCoordinates","AccommodationSelector","accommodation","onAccommodationChange","PeopleBudget","RoadTripVehicle","vehicleType","onVehicleTypeChange","vehicleOptions","Truck","Zap","RoadTripLocations","startLocation","startCoordinates","intermediateLocations","endLocation","endCoordinates","isStartLocating","isEndLocating","onStartLocationChange","onEndLocationChange","onAddIntermediateLocation","onRemoveIntermediateLocation","onStartLocateMe","onEndLocateMe","setNewLocation","setNewCoordinates","handleStartLocationChange","stop","name","Trash2","handleEndLocationChange","RoadTripDetails","RoadTripInterests","selectedRoadTripInterests","ChevronUp","PetQuestion","PawPrint","getTitle","ActivityTimeSelector","selectedTimes","onSelectTime","isHomepage","activityTimeOptions","Clock","StepIndicator","currentStep","getTotalSteps","getCurrentStepNumber","calendar","_","CustomActivityDialog","isOpen","customActivity","onCustomActivityChange","onAddCustomActivity","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","DialogFooter","trim","LoadingDialog","rotate","repeat","Infinity","FreeTripDialog","onClose","onUpgrade","remaining","nextReset","tripType","getTripTypeName","Fragment","ProfileCreationDialog","onProfileCreated","timer","setTimeout","clearTimeout","validateFreeTrip","session","getSession","Error","method","headers","Authorization","access_token","body","trip_type","ok","errorData","can_use","next_reset","message","recordFreeTrip","tripId","trip_id","getTripTypeFromActivity","activityType"],"mappings":"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"}