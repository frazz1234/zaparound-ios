{"version":3,"file":"components-poireviewdialog.tsx.BVvjfDHP.js","sources":["../../../../src/components/POIReviewDialog.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Star, X } from 'lucide-react';\nimport { POI } from '@/hooks/usePOIs';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface POIReviewDialogProps {\n  poi: POI | null;\n  isOpen: boolean;\n  onClose: () => void;\n  onSubmit: (poiId: string, rating: number, notes?: string) => Promise<void>;\n}\n\nexport const POIReviewDialog: React.FC<POIReviewDialogProps> = ({\n  poi,\n  isOpen,\n  onClose,\n  onSubmit,\n}) => {\n  const [rating, setRating] = useState(0);\n  const [notes, setNotes] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const { toast } = useToast();\n\n  const handleSubmit = async () => {\n    if (!poi || rating === 0) {\n      toast({\n        title: 'Rating Required',\n        description: 'Please select a rating before submitting.',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    try {\n      setIsSubmitting(true);\n      await onSubmit(poi.id, rating, notes.trim() || undefined);\n      \n      toast({\n        title: 'Review Submitted',\n        description: 'Thank you for your review!',\n      });\n      \n      // Reset form\n      setRating(0);\n      setNotes('');\n      onClose();\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to submit review. Please try again.',\n        variant: 'destructive',\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleClose = () => {\n    setRating(0);\n    setNotes('');\n    onClose();\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleClose}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center space-x-2\">\n            <Star className=\"w-5 h-5 text-yellow-500\" />\n            <span>Review {poi?.name}</span>\n          </DialogTitle>\n        </DialogHeader>\n        \n        <div className=\"space-y-4\">\n          {/* POI Info */}\n          {poi && (\n            <div className=\"p-3 bg-gray-50 rounded-lg\">\n              <h3 className=\"font-medium text-gray-900\">{poi.name}</h3>\n              <p className=\"text-sm text-gray-600\">{poi.address}</p>\n              {poi.description && (\n                <p className=\"text-sm text-gray-600 mt-1\">{poi.description}</p>\n              )}\n            </div>\n          )}\n\n          {/* Rating */}\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium text-gray-700\">\n              Rating (1-10)\n            </label>\n            <div className=\"flex space-x-1\">\n              {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((star) => (\n                <button\n                  key={star}\n                  type=\"button\"\n                  onClick={() => setRating(star)}\n                  className=\"p-1 hover:scale-110 transition-transform\"\n                >\n                  <Star\n                    className={`w-6 h-6 ${\n                      star <= rating\n                        ? 'text-yellow-500 fill-current'\n                        : 'text-gray-300'\n                    }`}\n                  />\n                </button>\n              ))}\n            </div>\n            <p className=\"text-xs text-gray-500\">\n              {rating > 0 ? `${rating}/10 stars` : 'Select a rating'}\n            </p>\n          </div>\n\n          {/* Notes */}\n          <div className=\"space-y-2\">\n            <label htmlFor=\"notes\" className=\"text-sm font-medium text-gray-700\">\n              Notes (optional)\n            </label>\n            <Textarea\n              id=\"notes\"\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Share your experience with this place...\"\n              className=\"min-h-[100px]\"\n              maxLength={500}\n            />\n            <p className=\"text-xs text-gray-500 text-right\">\n              {notes.length}/500 characters\n            </p>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex space-x-2 pt-4\">\n            <Button\n              variant=\"outline\"\n              onClick={handleClose}\n              disabled={isSubmitting}\n              className=\"flex-1\"\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleSubmit}\n              disabled={isSubmitting || rating === 0}\n              className=\"flex-1\"\n            >\n              {isSubmitting ? 'Submitting...' : 'Submit Review'}\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default POIReviewDialog; "],"names":["POIReviewDialog","poi","isOpen","onClose","onSubmit","rating","setRating","useState","notes","setNotes","isSubmitting","setIsSubmitting","toast","useToast","handleClose","jsx","Dialog","open","onOpenChange","children","jsxs","DialogContent","className","DialogHeader","DialogTitle","Star","name","address","description","map","star","type","onClick","htmlFor","Textarea","id","value","onChange","e","target","placeholder","maxLength","length","Button","variant","disabled","async","trim","title","error"],"mappings":"iRAeO,MAAMA,EAAkD,EAC7DC,MACAC,SACAC,UACAC,eAEA,MAAOC,EAAQC,GAAaC,EAAAA,SAAS,IAC9BC,EAAOC,GAAYF,EAAAA,SAAS,KAC5BG,EAAcC,GAAmBJ,EAAAA,UAAS,IAC3CK,MAAEA,GAAUC,IAoCZC,EAAc,KAClBR,EAAU,GACVG,EAAS,IACDN,GAAA,EAIR,OAAAY,EAAAA,IAACC,GAAOC,KAAMf,EAAQgB,aAAcJ,EAClCK,SAAAC,EAAAA,KAACC,EAAc,CAAAC,UAAU,cACvBH,SAAA,CAAAJ,MAACQ,EACC,CAAAJ,SAAAC,EAAAA,KAACI,EAAY,CAAAF,UAAU,8BACrBH,SAAA,CAACJ,EAAAA,IAAAU,EAAA,CAAKH,UAAU,mCACf,OAAK,CAAAH,SAAA,CAAA,UAAQlB,GAAKyB,aAIvBN,EAAAA,KAAC,MAAI,CAAAE,UAAU,YAEZH,SAAA,CACClB,GAAAmB,EAAAA,KAAC,MAAI,CAAAE,UAAU,4BACbH,SAAA,CAAAJ,EAAAA,IAAC,KAAG,CAAAO,UAAU,4BAA6BH,SAAAlB,EAAIyB,OAC9CX,EAAAA,IAAA,IAAA,CAAEO,UAAU,wBAAyBH,WAAIQ,UACzC1B,EAAI2B,aACHb,EAAAA,IAAC,KAAEO,UAAU,6BAA8BH,WAAIS,iBAMrDR,EAAAA,KAAC,MAAI,CAAAE,UAAU,YACbH,SAAA,CAACJ,EAAAA,IAAA,QAAA,CAAMO,UAAU,oCAAoCH,SAErD,wBACC,MAAI,CAAAG,UAAU,iBACZH,SAAC,CAAA,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAIU,KAAKC,GACpCf,EAAAA,IAAC,SAAA,CAECgB,KAAK,SACLC,QAAS,IAAM1B,EAAUwB,GACzBR,UAAU,2CAEVH,SAAAJ,EAAAA,IAACU,EAAA,CACCH,UAAW,YACTQ,GAAQzB,EACJ,+BACA,oBATHyB,OAeXf,EAAAA,IAAC,KAAEO,UAAU,wBACVH,WAAS,EAAI,GAAGd,aAAoB,uBAKzCe,EAAAA,KAAC,MAAI,CAAAE,UAAU,YACbH,SAAA,CAAAJ,MAAC,QAAM,CAAAkB,QAAQ,QAAQX,UAAU,oCAAoCH,SAErE,qBACAJ,EAAAA,IAACmB,EAAA,CACCC,GAAG,QACHC,MAAO5B,EACP6B,SAAWC,GAAM7B,EAAS6B,EAAEC,OAAOH,OACnCI,YAAY,2CACZlB,UAAU,gBACVmB,UAAW,MAEbrB,EAAAA,KAAC,IAAE,CAAAE,UAAU,mCACVH,SAAA,CAAMX,EAAAkC,OAAO,wBAKlBtB,EAAAA,KAAC,MAAI,CAAAE,UAAU,sBACbH,SAAA,CAAAJ,EAAAA,IAAC4B,EAAA,CACCC,QAAQ,UACRZ,QAASlB,EACT+B,SAAUnC,EACVY,UAAU,SACXH,SAAA,WAGDJ,EAAAA,IAAC4B,EAAA,CACCX,QAvHSc,UACf,GAAC7C,GAAkB,IAAXI,EASR,IACFM,GAAgB,SACVP,EAASH,EAAIkC,GAAI9B,EAAQG,EAAMuC,aAAU,GAEzCnC,EAAA,CACJoC,MAAO,mBACPpB,YAAa,+BAIftB,EAAU,GACVG,EAAS,IACDN,UACD8C,GACDrC,EAAA,CACJoC,MAAO,QACPpB,YAAa,6CACbgB,QAAS,eACV,CACD,QACAjC,GAAgB,EAAK,MA5BfC,EAAA,CACJoC,MAAO,kBACPpB,YAAa,4CACbgB,QAAS,eAyBU,EA0FbC,SAAUnC,GAA2B,IAAXL,EAC1BiB,UAAU,SAETH,WAAe,gBAAkB,4BAK5C"}