import{r as e,j as s}from"../vendor/vendor-react-core.D1hcyiwY.js";import{G as t,J as a,K as i,M as r,z as l,B as n}from"./components-ui.C8hnNhgu.js";import{u as c}from"../hooks/hooks-use-toast.ts.Dg8obzHg.js";import{s as o}from"../vendor/vendor--lucide-react.DRw9PYsu.js";const m=({poi:m,isOpen:d,onClose:x,onSubmit:h})=>{const[p,u]=e.useState(0),[j,g]=e.useState(""),[v,y]=e.useState(!1),{toast:N}=c(),f=()=>{u(0),g(""),x()};return s.jsx(t,{open:d,onOpenChange:f,children:s.jsxs(a,{className:"sm:max-w-md",children:[s.jsx(i,{children:s.jsxs(r,{className:"flex items-center space-x-2",children:[s.jsx(o,{className:"w-5 h-5 text-yellow-500"}),s.jsxs("span",{children:["Review ",m?.name]})]})}),s.jsxs("div",{className:"space-y-4",children:[m&&s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:m.name}),s.jsx("p",{className:"text-sm text-gray-600",children:m.address}),m.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Rating (1-10)"}),s.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5,6,7,8,9,10].map((e=>s.jsx("button",{type:"button",onClick:()=>u(e),className:"p-1 hover:scale-110 transition-transform",children:s.jsx(o,{className:"w-6 h-6 "+(e<=p?"text-yellow-500 fill-current":"text-gray-300")})},e)))}),s.jsx("p",{className:"text-xs text-gray-500",children:p>0?`${p}/10 stars`:"Select a rating"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"Notes (optional)"}),s.jsx(l,{id:"notes",value:j,onChange:e=>g(e.target.value),placeholder:"Share your experience with this place...",className:"min-h-[100px]",maxLength:500}),s.jsxs("p",{className:"text-xs text-gray-500 text-right",children:[j.length,"/500 characters"]})]}),s.jsxs("div",{className:"flex space-x-2 pt-4",children:[s.jsx(n,{variant:"outline",onClick:f,disabled:v,className:"flex-1",children:"Cancel"}),s.jsx(n,{onClick:async()=>{if(m&&0!==p)try{y(!0),await h(m.id,p,j.trim()||void 0),N({title:"Review Submitted",description:"Thank you for your review!"}),u(0),g(""),x()}catch(e){N({title:"Error",description:"Failed to submit review. Please try again.",variant:"destructive"})}finally{y(!1)}else N({title:"Rating Required",description:"Please select a rating before submitting.",variant:"destructive"})},disabled:v||0===p,className:"flex-1",children:v?"Submitting...":"Submit Review"})]})]})]})})};export{m as P};
//# sourceMappingURL=components-poireviewdialog.tsx.BVvjfDHP.js.map
