import{r as e,j as s}from"../vendor/vendor-react-core.D1hcyiwY.js";import{H as r}from"../vendor/vendor--react-helmet-async.BMUx00aU.js";import{C as o,m as t,a3 as n,B as i,k as a,l as d,L as l,I as m,V as c,z as v}from"../components/components-ui.C8hnNhgu.js";import{u as p}from"../hooks/hooks-use-toast.ts.Dg8obzHg.js";import{s as j}from"../components/components-admin.CiIAoamg.js";import{u as x}from"../vendor/vendor--react-i18next.DhHVfoav.js";import{b as u,bA as h,H as b,af as g,U as f,ac as N,u as y,j as k,d as w,Y as z,Z as _}from"../vendor/vendor--lucide-react.DRw9PYsu.js";import{c as S}from"../vendor/vendor--react-router.Gdfmkz0l.js";import"../vendor/vendor--cookie.D-6orQ43.js";import"../vendor/vendor--react-fast-compare.4d-J074I.js";import"../vendor/vendor--invariant.D6mx6rc7.js";import"../vendor/vendor--shallowequal.BwnEDCFe.js";import"../vendor/vendor-ui-toast.CyvsGWN1.js";import"../vendor/vendor-react-dom.BnDkh-2X.js";import"../vendor/vendor-react-scheduler.B5Ht9ZB3.js";import"../vendor/vendor-ui-core.CPnW5LH0.js";import"../vendor/vendor--aria-hidden.BHUiN-rI.js";import"../vendor/vendor--react-remove-scroll.DR6iVcCg.js";import"../vendor/vendor--tslib.Bc9CN1Ef.js";import"../vendor/vendor--react-remove-scroll-bar.Dz-JErv0.js";import"../vendor/vendor--react-style-singleton.ER5nEGYx.js";import"../vendor/vendor--get-nonce.BYiZHLe3.js";import"../vendor/vendor--use-sidecar.svB0tWl8.js";import"../vendor/vendor--use-callback-ref.Dt9orvWx.js";import"../vendor/vendor---floating-ui-react-dom.gDT63CuY.js";import"../vendor/vendor---floating-ui-dom.CdGDzP9A.js";import"../vendor/vendor---floating-ui-core.D6mclMLM.js";import"../vendor/vendor---floating-ui-utils.D9HCu73I.js";import"../vendor/vendor-ui-dialog.CY7OxuK6.js";import"../vendor/vendor-ui-utils.CjDQ2U02.js";import"../components/components-blog.C3TFiFB1.js";import"../utils/utils-blogutils.ts.CpQs8y27.js";import"../utils/utils-cache.ts.BtmNadnX.js";import"../vendor/vendor--lru-cache.CYB7PIxo.js";import"../components/components-optimizedimage.tsx.DVN-Ynzu.js";import"../vendor/vendor--date-fns.BbAlDtqN.js";import"../hooks/hooks-useblogs.ts.B-jKAetY.js";import"../vendor/vendor-query-main.DFU6mXji.js";import"../vendor/vendor---tanstack-query-core.CIZi0Zbo.js";import"../vendor/vendor--lodash.D80NHDHN.js";import"../vendor/vendor--framer-motion.Dpgjd5L1.js";import"../vendor/vendor--motion-dom.C5KZPrWP.js";import"../vendor/vendor--motion-utils.DAP8mxSY.js";import"../vendor/vendor--react-markdown.C_e4o-CH.js";import"../vendor/vendor--devlop.Cl3hj7Sz.js";import"../vendor/vendor--unified.ti5-l0IV.js";import"../vendor/vendor--bail.gCPcOVbC.js";import"../vendor/vendor--extend.BFvm699q.js";import"../vendor/vendor--is-plain-obj.DeEdtHJQ.js";import"../vendor/vendor--trough.zzWXwSIo.js";import"../vendor/vendor--vfile.Cn6Vy3Ir.js";import"../vendor/vendor--vfile-message.Re42m5o3.js";import"../vendor/vendor--unist-util-stringify-position.CvSG9YTx.js";import"../vendor/vendor--remark-parse.DdoJrvcY.js";import"../vendor/vendor--mdast-util-from-markdown.DI8nvaYJ.js";import"../vendor/vendor--micromark-util-decode-numeric-character-reference.DA7xEauU.js";import"../vendor/vendor--micromark-util-decode-string.BCF2SQ7o.js";import"../vendor/vendor--decode-named-character-reference.C-EXV6yX.js";import"../vendor/vendor--micromark-util-normalize-identifier.CzKtq1sx.js";import"../vendor/vendor--micromark.aJPyxAJv.js";import"../vendor/vendor--micromark-util-combine-extensions.CQDa_SAq.js";import"../vendor/vendor--micromark-util-chunked.3k3e5hER.js";import"../vendor/vendor--micromark-factory-space.CZc9TqN4.js";import"../vendor/vendor--micromark-util-character.DUwsRT9L.js";import"../vendor/vendor--micromark-core-commonmark.yO25BTZZ.js";import"../vendor/vendor--micromark-util-classify-character.x6FlXUUS.js";import"../vendor/vendor--micromark-util-resolve-all.U8fstr8o.js";import"../vendor/vendor--micromark-util-subtokenize.BfHYzAYP.js";import"../vendor/vendor--micromark-factory-destination.pZKs7oL9.js";import"../vendor/vendor--micromark-factory-label.BbusvwMx.js";import"../vendor/vendor--micromark-factory-title.BBtcOUHM.js";import"../vendor/vendor--micromark-factory-whitespace.BhZ6YKME.js";import"../vendor/vendor--micromark-util-html-tag-name.DbKNfynz.js";import"../vendor/vendor--mdast-util-to-string.Ck87fAyN.js";import"../vendor/vendor--remark-rehype.B9Xnklpv.js";import"../vendor/vendor--mdast-util-to-hast.C2F2cLDR.js";import"../vendor/vendor---ungap-structured-clone.DadG6O39.js";import"../vendor/vendor--micromark-util-sanitize-uri.BXHzaaAi.js";import"../vendor/vendor--unist-util-position.CVUg9P9R.js";import"../vendor/vendor--trim-lines.C03Dth7Y.js";import"../vendor/vendor--unist-util-visit.41WSH7so.js";import"../vendor/vendor--unist-util-visit-parents.DAGCrDnu.js";import"../vendor/vendor--unist-util-is.C5Jwnfs7.js";import"../vendor/vendor--hast-util-to-jsx-runtime.BOWXXjuU.js";import"../vendor/vendor--comma-separated-tokens.DIu3lqJt.js";import"../vendor/vendor--property-information.Dc64tFtG.js";import"../vendor/vendor--space-separated-tokens.C97BfSlU.js";import"../vendor/vendor--style-to-js.DQsO4XA8.js";import"../vendor/vendor--style-to-object.DGZeIPGP.js";import"../vendor/vendor--inline-style-parser.BFz9PO4J.js";import"../vendor/vendor--hast-util-whitespace.DlJMGLAz.js";import"../vendor/vendor--estree-util-is-identifier-name.0h9-8Xae.js";import"../vendor/vendor--html-url-attributes.BA_i5Yxb.js";import"../vendor/vendor--web-vitals.C1BoAgs7.js";import"../vendor/vendor-ui-tooltip.n7I39vTs.js";import"../vendor/vendor--embla-carousel-react.Bc6nB0ya.js";import"../vendor/vendor--embla-carousel-reactive-utils.BIRN7lq8.js";import"../vendor/vendor--embla-carousel.clUl8sxa.js";import"../vendor/vendor--cmdk.q6oiTfmV.js";import"../vendor/vendor--react-day-picker.D6HWAs9M.js";import"../vendor/vendor--react-hook-form.C68mK_Ba.js";import"../vendor/vendor---hookform-resolvers.CwYzTTZs.js";import"../vendor/vendor--zod.Cebk8UiH.js";import"../vendor/vendor-supabase-client.BJD0U0P8.js";import"../vendor/vendor-supabase-other.BhmW1H_P.js";import"../components/components-mobilenavigation.tsx.DtMtI5i3.js";import"../components/components-languagerouter.tsx.CHVsY7fH.js";import"../vendor/vendor--i18next.CHTa0CEF.js";import"../vendor/vendor--i18next-browser-languagedetector.h4x3AYwK.js";import"../vendor/vendor--i18next-http-backend.DjHzioAf.js";import"../hooks/hooks-useuserrole.ts.BKHSjdY6.js";import"../components/components-languageselector.tsx.x8buceJ0.js";import"../components/components-navigation.CB-8LlfF.js";import"../components/components-theme-toggle.tsx.CfzjOSrj.js";import"../components/components-theme-provider.tsx.Cd7zUHTE.js";import"../vendor/vendor-supabase-realtime.PMyDaGD3.js";import"../vendor/vendor--sonner.ECaEf7Ie.js";import"../hooks/hooks-useadminauth.ts.BJ7uhFTt.js";const C=()=>{const[C]=S(),{toast:q}=p(),{t:F,i18n:R}=x("unsubscribe"),[P,U]=e.useState(!1),[B,H]=e.useState(!1),[W,Z]=e.useState(""),[A,E]=e.useState(""),[M,Y]=e.useState(""),[D,L]=e.useState(!1),I=[{id:"too_frequent",label:F("reasons.too_frequent"),emoji:"📮"},{id:"not_relevant",label:F("reasons.not_relevant"),emoji:"🎯"},{id:"never_signed_up",label:F("reasons.never_signed_up"),emoji:"❓"},{id:"poor_content",label:F("reasons.poor_content"),emoji:"📝"},{id:"changed_interests",label:F("reasons.changed_interests"),emoji:"🔄"},{id:"other",label:F("reasons.other"),emoji:"💭"}];e.useEffect((()=>{const e=C.get("email");e&&Z(e)}),[C]);const O=()=>{window.open("https://zaparound.com","_blank")};return B?s.jsxs(s.Fragment,{children:[s.jsxs(r,{children:[s.jsx("title",{children:"Unsubscribe from Newsletter - ZapAround"}),s.jsx("meta",{name:"description",content:"Unsubscribe from ZapAround newsletter. Help us improve by sharing your feedback."}),s.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full mb-6",children:s.jsx(u,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:F("success.title")}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:F("success.subtitle")})]}),s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(o,{className:"border-0 shadow-xl",children:s.jsx(t,{className:"p-8",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"p-4 bg-green-50 rounded-full w-16 h-16 mx-auto flex items-center justify-center",children:s.jsx(h,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:F("success.allDone")}),s.jsxs("p",{className:"text-gray-600",children:[s.jsx("strong",{children:W})," ",F("success.removedMessage")]})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(b,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-semibold text-blue-900",children:F("success.thankYou")}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:F("success.feedbackMessage")})]})]})}),s.jsx(n,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:F("success.otherWays")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(g,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:F("success.visitWebsite")}),s.jsx("p",{className:"text-sm text-gray-600",children:F("success.visitWebsiteDesc")})]})]})}),s.jsx("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(f,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:F("success.followSocial")}),s.jsx("p",{className:"text-sm text-gray-600",children:F("success.followSocialDesc")})]})]})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(i,{onClick:O,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[s.jsx(N,{className:"h-4 w-4 mr-2"}),F("visitWebsite")]}),s.jsxs(i,{variant:"outline",onClick:()=>H(!1),className:"border-gray-300",children:[s.jsx(y,{className:"h-4 w-4 mr-2"}),F("goBack")]})]})]})})})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(r,{children:[s.jsx("title",{children:"Unsubscribe from Newsletter - ZapAround"}),s.jsx("meta",{name:"description",content:"Unsubscribe from ZapAround newsletter. Help us improve by sharing your feedback."}),s.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-100",children:s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full mb-6",children:s.jsx(h,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:F("title")}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:F("subtitle")})]}),s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(o,{className:"border-0 shadow-xl",children:[s.jsx(a,{className:"text-center pb-6",children:s.jsxs(d,{className:"flex items-center justify-center gap-2 text-2xl",children:[s.jsx(k,{className:"h-6 w-6 text-blue-600"}),F("unsubscribeButton")]})}),s.jsxs(t,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(l,{htmlFor:"email",className:"text-base font-medium",children:F("emailLabel")}),s.jsx(m,{id:"email",type:"email",placeholder:F("emailPlaceholder"),value:W,onChange:e=>Z(e.target.value),className:"text-lg",required:!0}),s.jsx("p",{className:"text-sm text-gray-500",children:F("emailHelp")})]}),s.jsx(n,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:F("feedbackTitle")}),s.jsxs(c,{variant:"secondary",className:"text-xs",children:[s.jsx(w,{className:"h-3 w-3 mr-1"}),"Required"]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:F("feedbackSubtitle")}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:I.map((e=>s.jsx("div",{onClick:()=>{Y(e.id),L("other"===e.id)},className:"p-3 border-2 rounded-lg cursor-pointer transition-all "+(M===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-lg",children:e.emoji}),s.jsx("span",{className:"text-sm font-medium",children:e.label})]})},e.id)))}),!M&&s.jsx("p",{className:"text-sm text-red-600 mt-2",children:F("reasonRequired")}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"text-blue-600 mt-0.5",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),s.jsx("p",{className:"text-sm text-blue-800",children:F("feedbackNotification")})]})}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"text-green-600 mt-0.5",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsx("p",{className:"text-sm text-green-800",children:F("goodbyeEmailNotification")})]})}),(D||M)&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(l,{htmlFor:"feedback",className:"text-sm font-medium",children:[F("additionalFeedback")," ",s.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),s.jsx(v,{id:"feedback",placeholder:F("additionalFeedbackPlaceholder"),value:A,onChange:e=>E(e.target.value),className:"min-h-20"})]})]}),s.jsx(n,{}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(z,{className:"h-5 w-5 text-gray-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:F("privacyNotice.title")}),s.jsx("p",{className:"text-sm text-gray-600",children:F("privacyNotice.description")})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(i,{onClick:async()=>{if(W){U(!0);try{const{error:e}=await j.functions.invoke("unsubscribe-newsletter",{body:{email:W,reason:M,feedback:A,language:R.language||"en"}});if(e)return void q({title:"Error",description:"Failed to unsubscribe. Please try again or contact support.",variant:"destructive"});H(!0),q({title:"Successfully Unsubscribed",description:"You have been removed from our newsletter list."})}catch(e){q({title:"Error",description:"Something went wrong. Please try again.",variant:"destructive"})}finally{U(!1)}}else q({title:"Email Required",description:"Please enter your email address to unsubscribe",variant:"destructive"})},disabled:!W||!M||P,className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed",size:"lg",children:P?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),F("unsubscribing")]}):s.jsxs(s.Fragment,{children:[s.jsx(h,{className:"h-4 w-4 mr-2"}),F("unsubscribeButton")]})}),s.jsxs(i,{onClick:O,variant:"outline",size:"lg",className:"flex-1",children:[s.jsx(N,{className:"h-4 w-4 mr-2"}),F("visitWebsite")]})]}),s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-500",children:F("preferencesNote")}),s.jsxs(i,{variant:"ghost",size:"sm",onClick:O,className:"text-blue-600 hover:text-blue-700",children:[s.jsx(_,{className:"h-4 w-4 mr-2"}),F("updatePreferences")]})]})]})]})}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs("p",{className:"text-gray-500 text-sm",children:[F("contactSupport")," ",s.jsx("a",{href:"mailto:support@zaparound.com",className:"text-blue-600 hover:underline",children:"support@zaparound.com"})]})})]})})]})};export{C as default};
//# sourceMappingURL=page-unsubscribe.Ce3afljq.js.map
