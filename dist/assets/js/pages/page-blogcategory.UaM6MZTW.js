import{r as e,j as o}from"../vendor/vendor-react-core.D1hcyiwY.js";import{S as r}from"../components/components-seo.tsx.Dk-lg3q2.js";import{B as t,a as s}from"../components/components-blog.C3TFiFB1.js";import{A as n,o as i,B as a,V as d,C as m,m as l,k as c,l as p}from"../components/components-ui.C8hnNhgu.js";import{s as v}from"../components/components-admin.CiIAoamg.js";import{u}from"../vendor/vendor--react-i18next.DhHVfoav.js";import{L as j,u as g,e as h,B as x,f as b}from"../vendor/vendor--lucide-react.DRw9PYsu.js";import{a as f,u as y,L as k}from"../vendor/vendor--react-router.Gdfmkz0l.js";import"../vendor/vendor--cookie.D-6orQ43.js";import"../vendor/vendor--react-helmet-async.BMUx00aU.js";import"../vendor/vendor--react-fast-compare.4d-J074I.js";import"../vendor/vendor--invariant.D6mx6rc7.js";import"../vendor/vendor--shallowequal.BwnEDCFe.js";import"../utils/utils-blogutils.ts.CpQs8y27.js";import"../utils/utils-cache.ts.BtmNadnX.js";import"../vendor/vendor--lru-cache.CYB7PIxo.js";import"../components/components-optimizedimage.tsx.DVN-Ynzu.js";import"../vendor/vendor--date-fns.BbAlDtqN.js";import"../hooks/hooks-useblogs.ts.B-jKAetY.js";import"../vendor/vendor-query-main.DFU6mXji.js";import"../vendor/vendor---tanstack-query-core.CIZi0Zbo.js";import"../hooks/hooks-use-toast.ts.Dg8obzHg.js";import"../vendor/vendor--lodash.D80NHDHN.js";import"../vendor/vendor--framer-motion.Dpgjd5L1.js";import"../vendor/vendor--motion-dom.C5KZPrWP.js";import"../vendor/vendor--motion-utils.DAP8mxSY.js";import"../vendor/vendor-ui-utils.CjDQ2U02.js";import"../vendor/vendor--react-markdown.C_e4o-CH.js";import"../vendor/vendor--devlop.Cl3hj7Sz.js";import"../vendor/vendor--unified.ti5-l0IV.js";import"../vendor/vendor--bail.gCPcOVbC.js";import"../vendor/vendor--extend.BFvm699q.js";import"../vendor/vendor--is-plain-obj.DeEdtHJQ.js";import"../vendor/vendor--trough.zzWXwSIo.js";import"../vendor/vendor--vfile.Cn6Vy3Ir.js";import"../vendor/vendor--vfile-message.Re42m5o3.js";import"../vendor/vendor--unist-util-stringify-position.CvSG9YTx.js";import"../vendor/vendor--remark-parse.DdoJrvcY.js";import"../vendor/vendor--mdast-util-from-markdown.DI8nvaYJ.js";import"../vendor/vendor--micromark-util-decode-numeric-character-reference.DA7xEauU.js";import"../vendor/vendor--micromark-util-decode-string.BCF2SQ7o.js";import"../vendor/vendor--decode-named-character-reference.C-EXV6yX.js";import"../vendor/vendor--micromark-util-normalize-identifier.CzKtq1sx.js";import"../vendor/vendor--micromark.aJPyxAJv.js";import"../vendor/vendor--micromark-util-combine-extensions.CQDa_SAq.js";import"../vendor/vendor--micromark-util-chunked.3k3e5hER.js";import"../vendor/vendor--micromark-factory-space.CZc9TqN4.js";import"../vendor/vendor--micromark-util-character.DUwsRT9L.js";import"../vendor/vendor--micromark-core-commonmark.yO25BTZZ.js";import"../vendor/vendor--micromark-util-classify-character.x6FlXUUS.js";import"../vendor/vendor--micromark-util-resolve-all.U8fstr8o.js";import"../vendor/vendor--micromark-util-subtokenize.BfHYzAYP.js";import"../vendor/vendor--micromark-factory-destination.pZKs7oL9.js";import"../vendor/vendor--micromark-factory-label.BbusvwMx.js";import"../vendor/vendor--micromark-factory-title.BBtcOUHM.js";import"../vendor/vendor--micromark-factory-whitespace.BhZ6YKME.js";import"../vendor/vendor--micromark-util-html-tag-name.DbKNfynz.js";import"../vendor/vendor--mdast-util-to-string.Ck87fAyN.js";import"../vendor/vendor--remark-rehype.B9Xnklpv.js";import"../vendor/vendor--mdast-util-to-hast.C2F2cLDR.js";import"../vendor/vendor---ungap-structured-clone.DadG6O39.js";import"../vendor/vendor--micromark-util-sanitize-uri.BXHzaaAi.js";import"../vendor/vendor--unist-util-position.CVUg9P9R.js";import"../vendor/vendor--trim-lines.C03Dth7Y.js";import"../vendor/vendor--unist-util-visit.41WSH7so.js";import"../vendor/vendor--unist-util-visit-parents.DAGCrDnu.js";import"../vendor/vendor--unist-util-is.C5Jwnfs7.js";import"../vendor/vendor--hast-util-to-jsx-runtime.BOWXXjuU.js";import"../vendor/vendor--comma-separated-tokens.DIu3lqJt.js";import"../vendor/vendor--property-information.Dc64tFtG.js";import"../vendor/vendor--space-separated-tokens.C97BfSlU.js";import"../vendor/vendor--style-to-js.DQsO4XA8.js";import"../vendor/vendor--style-to-object.DGZeIPGP.js";import"../vendor/vendor--inline-style-parser.BFz9PO4J.js";import"../vendor/vendor--hast-util-whitespace.DlJMGLAz.js";import"../vendor/vendor--estree-util-is-identifier-name.0h9-8Xae.js";import"../vendor/vendor--html-url-attributes.BA_i5Yxb.js";import"../vendor/vendor--web-vitals.C1BoAgs7.js";import"../vendor/vendor-ui-toast.CyvsGWN1.js";import"../vendor/vendor-react-dom.BnDkh-2X.js";import"../vendor/vendor-react-scheduler.B5Ht9ZB3.js";import"../vendor/vendor-ui-core.CPnW5LH0.js";import"../vendor/vendor--aria-hidden.BHUiN-rI.js";import"../vendor/vendor--react-remove-scroll.DR6iVcCg.js";import"../vendor/vendor--tslib.Bc9CN1Ef.js";import"../vendor/vendor--react-remove-scroll-bar.Dz-JErv0.js";import"../vendor/vendor--react-style-singleton.ER5nEGYx.js";import"../vendor/vendor--get-nonce.BYiZHLe3.js";import"../vendor/vendor--use-sidecar.svB0tWl8.js";import"../vendor/vendor--use-callback-ref.Dt9orvWx.js";import"../vendor/vendor---floating-ui-react-dom.gDT63CuY.js";import"../vendor/vendor---floating-ui-dom.CdGDzP9A.js";import"../vendor/vendor---floating-ui-core.D6mclMLM.js";import"../vendor/vendor---floating-ui-utils.D9HCu73I.js";import"../vendor/vendor-ui-dialog.CY7OxuK6.js";import"../vendor/vendor-ui-tooltip.n7I39vTs.js";import"../vendor/vendor--embla-carousel-react.Bc6nB0ya.js";import"../vendor/vendor--embla-carousel-reactive-utils.BIRN7lq8.js";import"../vendor/vendor--embla-carousel.clUl8sxa.js";import"../vendor/vendor--cmdk.q6oiTfmV.js";import"../vendor/vendor--react-day-picker.D6HWAs9M.js";import"../vendor/vendor--react-hook-form.C68mK_Ba.js";import"../vendor/vendor---hookform-resolvers.CwYzTTZs.js";import"../vendor/vendor--zod.Cebk8UiH.js";import"../vendor/vendor-supabase-client.BJD0U0P8.js";import"../vendor/vendor-supabase-other.BhmW1H_P.js";import"../components/components-mobilenavigation.tsx.DtMtI5i3.js";import"../components/components-languagerouter.tsx.CHVsY7fH.js";import"../vendor/vendor--i18next.CHTa0CEF.js";import"../vendor/vendor--i18next-browser-languagedetector.h4x3AYwK.js";import"../vendor/vendor--i18next-http-backend.DjHzioAf.js";import"../hooks/hooks-useuserrole.ts.BKHSjdY6.js";import"../components/components-languageselector.tsx.x8buceJ0.js";import"../components/components-navigation.CB-8LlfF.js";import"../components/components-theme-toggle.tsx.CfzjOSrj.js";import"../components/components-theme-provider.tsx.Cd7zUHTE.js";import"../vendor/vendor-supabase-realtime.PMyDaGD3.js";import"../vendor/vendor--sonner.ECaEf7Ie.js";import"../hooks/hooks-useadminauth.ts.BJ7uhFTt.js";function w(){const{categorySlug:w,lang:N="en"}=f(),$=N,{t:C,i18n:A}=u(["blog"]),P=y(),[z,T]=e.useState({blogs:[],count:0,totalPages:0}),[q,F]=e.useState(!0),[L,B]=e.useState(null),[S,Z]=e.useState(1),[_,I]=e.useState(null),D=async(e=1)=>{if(w){F(!0),B(null);try{const o=9*(e-1),r=o+9-1,t=w.replace(/-/g," ").replace(/\b\w/g,(e=>e.toUpperCase())),{data:s,error:n,count:i}=await v.from("blogs").select("*",{count:"exact"}).eq("is_published",!0).eq("category",t).order("published_at",{ascending:!1}).range(o,r);if(n)throw new Error("Failed to fetch category blogs");const{count:a}=await v.from("blogs").select("*",{count:"exact",head:!0}).eq("is_published",!0).eq("category",t),d=Math.ceil((a||0)/9);T({blogs:s||[],count:a||0,totalPages:d}),I({name:t,description:`${t} travel articles, tips, and guides on ZapAround. Discover the best ${t.toLowerCase()} destinations and experiences.`,count:a||0})}catch(o){B(o instanceof Error?o.message:"Failed to fetch category blogs")}finally{F(!1)}}};e.useEffect((()=>{D(S)}),[w,S]);const E=(()=>{if(!_)return{};const e=_.name,o=w||"";return{title:`${e} Travel Articles & Guides | ZapAround`,description:_.description,keywords:`${e}, travel, ${e.toLowerCase()}, travel guide, travel tips, ZapAround, ${e.toLowerCase()} destinations`,url:`/${$}/blog/category/${o}`,type:"website",structuredData:{"@context":"https://schema.org","@type":"CollectionPage",name:`${e} Travel Articles`,description:_.description,url:`https://zaparound.com/${$}/blog/category/${o}`,mainEntity:{"@type":"ItemList",numberOfItems:_.count,itemListElement:z.blogs.slice(0,10).map(((e,o)=>({"@type":"ListItem",position:o+1,item:{"@type":"BlogPosting",headline:e[`title_${$}`]||e.title_en,url:`https://zaparound.com/${$}/blog/${e.slug}`,datePublished:e.published_at,dateModified:e.updated_at,author:{"@type":"Organization",name:"ZapAround"},publisher:{"@type":"Organization",name:"ZapAround",logo:{"@type":"ImageObject",url:"https://zaparound.com/zaparound-uploads/transparentnoliner.webp"}}}})))}}}})();return q?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx(j,{className:"h-8 w-8 animate-spin"}),o.jsx("p",{className:"text-muted-foreground",children:C("category.loading")})]})}):L?o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx(r,{title:"Category Not Found | ZapAround",description:"The requested blog category could not be found.",noindex:!0,nofollow:!0,url:"/blog/category/not-found"}),o.jsx(n,{variant:"destructive",children:o.jsx(i,{children:L})}),o.jsxs(a,{onClick:()=>P(`/${$}/blog`),className:"mt-4",children:[o.jsx(g,{className:"mr-2 h-4 w-4"}),C("category.backToBlog")]})]}):_?o.jsxs(o.Fragment,{children:[o.jsx(r,{title:E.title,description:E.description,keywords:E.keywords,url:E.url,type:E.type,structuredData:E.structuredData,breadcrumbs:[{name:"Home",url:`/${$}/`},{name:"Blog",url:`/${$}/blog`},{name:_.name,url:`/${$}/blog/category/${w}`}]}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(a,{variant:"ghost",onClick:()=>P(`/${$}/blog`),className:"mb-4",children:[o.jsx(g,{className:"mr-2 h-4 w-4"}),C("category.backToBlog")]}),o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(h,{className:"h-6 w-6 text-primary"}),o.jsx(d,{variant:"secondary",className:"text-lg px-3 py-1",children:_.name})]}),o.jsxs("h1",{className:"text-4xl font-bold mb-4",children:[_.name," ",C("category.travelArticles")]}),o.jsxs("div",{className:"flex items-center gap-6 text-muted-foreground mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(x,{className:"h-4 w-4"}),o.jsxs("span",{children:[_.count," ",C("category.articles")]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(b,{className:"h-4 w-4"}),o.jsx("span",{children:C("category.updatedRegularly")})]})]}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl",children:_.description})]}),z.blogs.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:z.blogs.map((e=>o.jsx(t,{blog:e},e.id)))}),z.totalPages>1&&o.jsx(s,{currentPage:S,totalPages:z.totalPages,totalPosts:z.count,postsPerPage:9,onPageChange:e=>{Z(e),D(e),window.scrollTo({top:0,behavior:"smooth"})}})]}):o.jsx(m,{children:o.jsxs(l,{className:"py-12 text-center",children:[o.jsx(x,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:C("category.noArticlesFound")}),o.jsx("p",{className:"text-muted-foreground mb-4",children:C("category.noArticlesInCategory",{category:_.name})}),o.jsx(a,{onClick:()=>P(`/${$}/blog`),children:C("category.browseAllArticles")})]})}),o.jsxs(m,{className:"mt-12",children:[o.jsx(c,{children:o.jsx(p,{children:C("category.otherCategories")})}),o.jsx(l,{children:o.jsx("div",{className:"flex flex-wrap gap-2",children:["Hidden Gems","Travel Tips","Destinations","Culture","Food","Adventure"].map((e=>{const r=e.toLowerCase().replace(/\s+/g,"-");return o.jsx(k,{to:`/${$}/blog/category/${r}`,className:"inline-block",children:o.jsx(d,{variant:e===_.name?"default":"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground transition-colors",children:e})},e)}))})})]})]})]}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx(r,{title:"Category Not Found | ZapAround",description:"The requested blog category could not be found.",noindex:!0,nofollow:!0,url:"/blog/category/not-found"}),o.jsx(n,{children:o.jsx(i,{children:C("category.categoryNotFound")})}),o.jsxs(a,{onClick:()=>P(`/${$}/blog`),className:"mt-4",children:[o.jsx(g,{className:"mr-2 h-4 w-4"}),C("category.backToBlog")]})]})}export{w as default};
//# sourceMappingURL=page-blogcategory.UaM6MZTW.js.map
