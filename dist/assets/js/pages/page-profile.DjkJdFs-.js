import{r as e,j as s}from"../vendor/vendor-react-core.D1hcyiwY.js";import{N as t,O as r,b as a}from"../vendor/vendor--react-router.Gdfmkz0l.js";import{P as i,a as n,b as o,C as c,E as l,S as d,D as p}from"../components/components-profile.CtclhbDl.js";import{u as m}from"../hooks/hooks-use-mobile.tsx.D9N_QnVa.js";import{m as f}from"../vendor/vendor--framer-motion.Dpgjd5L1.js";import{C as u,k as x,l as j,m as h,L as b,S as y,B as g}from"../components/components-ui.C8hnNhgu.js";import{u as v}from"../hooks/hooks-useprofile.ts.Ck17Ru8_.js";import{u as N}from"../hooks/hooks-use-toast.ts.Dg8obzHg.js";import{u as _}from"../vendor/vendor--react-i18next.DhHVfoav.js";import{L as S,Y as k}from"../vendor/vendor--lucide-react.DRw9PYsu.js";import{u as O}from"../hooks/hooks-useuserrole.ts.BKHSjdY6.js";const w=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return e.useEffect((()=>{}),[]),s.jsx(t,{to:"/profile",replace:!0})}},Symbol.toStringTag,{value:"Module"}));const P=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return m(),e.useEffect((()=>{window.scrollTo(0,0)}),[]),s.jsx("div",{className:"min-h-screen bg-background py-6 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[280px_1fr] gap-6",children:[s.jsx("div",{className:"md:sticky md:top-6 h-fit",children:s.jsx(i,{})}),s.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-[50vh]",children:s.jsx(r,{})})]})})})}},Symbol.toStringTag,{value:"Module"}));const M=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{profile:e,setProfile:t,loading:r,date:a,setDate:i,updateProfile:o}=v(),{t:c}=_("profile"),{toast:l}=N();return r?s.jsx("div",{className:"flex items-center justify-center h-[40vh]",children:s.jsx(S,{className:"h-8 w-8 animate-spin"})}):s.jsx("div",{className:"space-y-6",children:s.jsxs(u,{children:[s.jsx(x,{children:s.jsx(j,{className:"text-2xl font-bold",children:c("sidebar.personalInfo")})}),s.jsxs(h,{children:[s.jsx("p",{className:"text-muted-foreground mb-6",children:c("personalInfo.description","Update your personal information and profile details.")}),e&&s.jsx(n,{profile:e,setProfile:t,date:a,setDate:i,loading:r,onSubmit:async(e,s)=>{e.preventDefault();try{await o(s),l({title:c("toasts.updated"),description:c("toasts.profileUpdated")})}catch(t){throw l({title:c("toasts.error"),description:c("toasts.errorSaving"),variant:"destructive"}),t}}})]})]})})}},Symbol.toStringTag,{value:"Module"}));const T=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{t:e,i18n:r}=_("profile"),{isAdmin:i,loading:n}=O(),c=a().pathname.split("/").filter(Boolean)[0]||r.language;return n?s.jsx("div",{className:"flex items-center justify-center h-[40vh]",children:s.jsx(S,{className:"h-8 w-8 animate-spin"})}):i?s.jsx("div",{className:"space-y-6",children:s.jsxs(u,{children:[s.jsx(x,{children:s.jsxs(j,{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(k,{className:"h-6 w-6 text-[#61936f]"}),e("passport.title")]})}),s.jsxs(h,{children:[s.jsx("p",{className:"text-muted-foreground mb-6",children:e("passport.description","Manage your passport information for travel bookings. Your data is encrypted and stored securely.")}),s.jsx(o,{})]})]})}):s.jsx(t,{to:`/${c}/profile`,replace:!0})}},Symbol.toStringTag,{value:"Module"}));const z=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{t:e}=_("profile");return s.jsx("div",{className:"space-y-6",children:s.jsxs(u,{children:[s.jsx(x,{children:s.jsx(j,{className:"text-2xl font-bold",children:e("sidebar.security")})}),s.jsxs(h,{children:[s.jsx("p",{className:"text-muted-foreground mb-6",children:e("security.description","Manage your password and security settings to keep your account safe.")}),s.jsx(c,{})]})]})})}},Symbol.toStringTag,{value:"Module"}));const C=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{t:e}=_("profile");return s.jsx("div",{className:"space-y-6",children:s.jsxs(u,{children:[s.jsx(x,{children:s.jsx(j,{className:"text-2xl font-bold",children:e("sidebar.email")})}),s.jsxs(h,{children:[s.jsx("p",{className:"text-muted-foreground mb-6",children:e("email.description","Update your email address and notification preferences.")}),s.jsx(l,{})]})]})})}},Symbol.toStringTag,{value:"Module"}));const D=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{t:e}=_("profile");return s.jsx("div",{className:"space-y-6",children:s.jsx(d,{})})}},Symbol.toStringTag,{value:"Module"}));const E=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{t:t}=_("profile"),{toast:r}=N(),{profile:a,updateProfile:i,loading:n}=v(),[o,c]=e.useState(!0),[l,d]=e.useState(!1),[p,m]=e.useState(!0),[f,S]=e.useState(!1);return e.useEffect((()=>{a&&d(a.newsletter_subscribed??!0)}),[a]),s.jsx("div",{className:"space-y-6",children:s.jsxs(u,{children:[s.jsx(x,{children:s.jsx(j,{className:"text-2xl font-bold",children:t("sidebar.preferences")})}),s.jsx(h,{children:n?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:t("preferences.loading")})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-muted-foreground mb-6",children:t("preferences.description")}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:t("preferences.notificationSettings")}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(b,{htmlFor:"email-notifications",children:t("preferences.emailNotifications")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t("preferences.emailNotificationsDescription")})]}),s.jsx(y,{id:"email-notifications",checked:o,onCheckedChange:c})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(b,{htmlFor:"marketing",children:t("preferences.marketingEmails")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t("preferences.marketingEmailsDescription")})]}),s.jsx(y,{id:"marketing",checked:l,onCheckedChange:d,disabled:n})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(b,{htmlFor:"trip-updates",children:t("preferences.tripUpdates")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t("preferences.tripUpdatesDescription")})]}),s.jsx(y,{id:"trip-updates",checked:p,onCheckedChange:m})]})]}),s.jsx(g,{onClick:async()=>{if(a){S(!0);try{await i({...a,newsletter_subscribed:l}),r({title:t("sidebar.preferences"),description:t("toasts.preferencesUpdated")})}catch(e){r({title:t("errors.updateFailed"),description:t("errors.tryAgain"),variant:"destructive"})}finally{S(!1)}}},disabled:f||n,children:t(f?"preferences.saving":"preferences.saveButton")})]})]})})]})})}},Symbol.toStringTag,{value:"Module"}));const U=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{t:e}=_("profile");return s.jsx("div",{className:"space-y-6",children:s.jsxs(u,{children:[s.jsx(x,{children:s.jsx(j,{className:"text-2xl font-bold text-red-500",children:e("sidebar.account")})}),s.jsxs(h,{children:[s.jsx("p",{className:"text-muted-foreground mb-6",children:e("account.description","Manage your account settings, including account deletion.")}),s.jsx("div",{className:"space-y-8",children:s.jsx(p,{})})]})]})})}},Symbol.toStringTag,{value:"Module"}));export{U as A,C as E,w as P,z as S,P as a,M as b,T as c,D as d,E as e};
//# sourceMappingURL=page-profile.DjkJdFs-.js.map
