{"version":3,"file":"page-index.D-5IqVXa.js","sources":["../../../../src/pages/Index.tsx","../../../../src/services/featuredDestinationsService.ts"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { SEO } from '@/components/SEO';\nimport { cn } from '@/lib/utils';\nimport { HomeCreateTripDialog } from '@/components/HomeCreateTripDialog';\nimport { LatestBlogsGrid } from '@/components/LatestBlogsGrid';\nimport { CommunitySneakPeek } from '@/components/home/CommunitySneakPeek';\nimport { useNavigate } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport TravelPagination from '@/components/home/TravelPagination';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Carousel, CarouselContent, CarouselItem, CarouselNext, CarouselPrevious, type CarouselApi } from '@/components/ui/carousel';\nimport { \n  Plane, \n  MapPin, \n  Calendar, \n  Star, \n  TrendingUp, \n  Shield, \n  Clock, \n  Users,\n  Search,\n  Heart,\n  Car,\n  CableCar,\n  PlaneTakeoff,\n  Globe,\n  Award,\n  Zap\n} from 'lucide-react';\nimport { airports, Airport, getAirportsByCity } from '@/utils/airportData';\nimport { fetchFeaturedDestinations, FeaturedDestinationDTO } from '@/services/featuredDestinationsService';\nimport { motion, useInView, useAnimation, animate } from 'framer-motion';\nimport { FeaturedDestinationsPuzzle } from '@/components/home/FeaturedDestinationsPuzzle';\n\ninterface FeaturedDestination {\n  id: number;\n  name: string;\n  image: string;\n  fallbackImage: string;\n  rating: number;\n  reviews: number;\n  price: string;\n  badge: string;\n}\n\ninterface IndexProps {\n  session: any;\n}\n\nconst Index: React.FC<IndexProps> = ({ session }) => {\n  const { i18n, t } = useTranslation(['home', 'common']);\n  const language = i18n.language || 'en';\n  const navigate = useNavigate();\n  \n  // Featured Destinations carousel state\n  const [destinationsApi, setDestinationsApi] = useState<CarouselApi>();\n  const [destinationsCurrent, setDestinationsCurrent] = useState(0);\n  const [destinationsCount, setDestinationsCount] = useState(0);\n  \n  // Travel Pagination state\n  const [currentPage, setCurrentPage] = useState(1);\n\n  // Featured Destinations data state\n  const [featured, setFeatured] = useState<FeaturedDestinationDTO[] | null>(null);\n  const [loadingFeatured, setLoadingFeatured] = useState<boolean>(true);\n\n  // Ref for scrolling to activity selection\n  const activitySelectionRef = useRef<HTMLDivElement>(null);\n\n  // State to track if we're in the activity-time step for darker background\n  const [isActivityTimeStep, setIsActivityTimeStep] = useState(false);\n\n  // Function to scroll to activity selection\n  const scrollToActivitySelection = () => {\n    if (activitySelectionRef.current) {\n      activitySelectionRef.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n        inline: 'nearest'\n      });\n    }\n  };\n\n  // Listen for step changes to update background\n  useEffect(() => {\n    const handleStepChange = (event: CustomEvent) => {\n      const step = event.detail?.step;\n      setIsActivityTimeStep(step === 'activity-time');\n    };\n\n    window.addEventListener('trip-step-changed', handleStepChange as EventListener);\n    \n    return () => {\n      window.removeEventListener('trip-step-changed', handleStepChange as EventListener);\n    };\n  }, []);\n\n  // Helper: Haversine distance\n  const haversineKm = (lat1: number, lon1: number, lat2: number, lon2: number) => {\n    const toRad = (d: number) => (d * Math.PI) / 180;\n    const R = 6371;\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *\n      Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  };\n\n  const findNearestAirportIATA = (lat: number, lon: number): string => {\n    let best: { iata: string; km: number } | null = null;\n    for (const ap of airports) {\n      const km = haversineKm(lat, lon, ap.latitude, ap.longitude);\n      if (!best || km < best.km) best = { iata: ap.iata_code, km };\n    }\n    return best?.iata || 'JFK';\n  };\n\n  const getDestinationIATA = (cityName: string): string => {\n    const matches = getAirportsByCity(cityName);\n    if (matches && matches.length > 0) return matches[0].iata_code;\n    // Fallback: try simple known aliases\n    const simple = airports.find(a => a.city.toLowerCase() === cityName.toLowerCase());\n    return simple?.iata_code || cityName.toUpperCase();\n  };\n\n  const navigateToTravelFlight = (params: Record<string, string>, useCompact = true) => {\n    const base = `/${language}/travel-flight`;\n    if (useCompact && params.origin && params.destination && params.departureDate) {\n      // Build compact format: ORG(3)+DDMM+DST(3)+[DDMM]+PAX(1)\n      const org = params.origin.slice(0, 3).toUpperCase();\n      const dst = params.destination.slice(0, 3).toUpperCase();\n      const ddmm = params.departureDate.replace(/-/g, '').slice(6, 8) + params.departureDate.replace(/-/g, '').slice(4, 6);\n      const pax = String(Math.min(9, Math.max(1, parseInt(params.adults || '1', 10))));\n      let compact = `${org}${ddmm}${dst}${pax}`;\n      if (params.returnDate) {\n        const r = params.returnDate.replace(/-/g, '');\n        const rddmm = r.slice(6, 8) + r.slice(4, 6);\n        compact = `${org}${ddmm}${dst}${rddmm}${pax}`;\n      }\n      window.location.href = `${base}?flightSearch=${compact}`;\n      return;\n    }\n    const search = new URLSearchParams(params).toString();\n    window.location.href = `${base}?${search}`;\n  };\n\n  const handleExplore = (destinationCity: string) => {\n    const destIata = getDestinationIATA(destinationCity);\n\n    // Default params\n    const baseParams: Record<string, string> = {\n      destination: destIata,\n      tripType: 'roundtrip',\n      adults: '1',\n      children: '0',\n      infantsInSeat: '0',\n      infantsOnLap: '0',\n      cabinClass: 'economy'\n    };\n\n    // Add a near-future departure date (e.g., +30 days)\n    const dt = new Date();\n    dt.setDate(dt.getDate() + 30);\n    baseParams.departureDate = dt.toISOString().split('T')[0];\n\n    // Try geolocation for nearest origin\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (pos) => {\n          const originIata = findNearestAirportIATA(pos.coords.latitude, pos.coords.longitude);\n          navigateToTravelFlight({ ...baseParams, origin: originIata });\n        },\n        () => {\n          // Fallback origin when denied/failed\n          navigateToTravelFlight({ ...baseParams, origin: 'JFK' });\n        },\n        { enableHighAccuracy: false, timeout: 4000, maximumAge: 600000 }\n      );\n    } else {\n      navigateToTravelFlight({ ...baseParams, origin: 'JFK' });\n    }\n  };\n\n  // Toggle parallax on mobile for smoothness\n  const [parallaxEnabled, setParallaxEnabled] = useState<boolean>(true);\n\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(max-width: 767px)');\n    const saveData = (navigator as any).connection?.saveData === true;\n    const lowEndDevice = saveData || mediaQuery.matches;\n    setParallaxEnabled(!lowEndDevice);\n\n    const onChange = () => setParallaxEnabled(!(saveData || mediaQuery.matches));\n    mediaQuery.addEventListener?.('change', onChange);\n    window.addEventListener('orientationchange', onChange, { passive: true } as any);\n    return () => {\n      mediaQuery.removeEventListener?.('change', onChange);\n      window.removeEventListener('orientationchange', onChange as EventListener);\n    };\n  }, []);\n\n  // Parallax effect (GPU-friendly, passive + rAF)\n  useEffect(() => {\n    if (!parallaxEnabled) {\n      document.documentElement.style.setProperty('--parallax-offset', '0px');\n      return;\n    }\n\n    let ticking = false;\n    const update = () => {\n      const scrolled = window.pageYOffset || document.documentElement.scrollTop || 0;\n      const parallaxOffset = scrolled * 0.35; // tuned for smoothness\n      document.documentElement.style.setProperty('--parallax-offset', `${parallaxOffset}px`);\n      ticking = false;\n    };\n\n    const onScroll = () => {\n      if (!ticking) {\n        window.requestAnimationFrame(update);\n        ticking = true;\n      }\n    };\n\n    // Initial position\n    update();\n    window.addEventListener('scroll', onScroll, { passive: true });\n    return () => window.removeEventListener('scroll', onScroll as EventListener);\n  }, [parallaxEnabled]);\n\n  // Featured Destinations carousel effects\n  useEffect(() => {\n    if (!destinationsApi) return;\n\n    setDestinationsCount(destinationsApi.scrollSnapList().length);\n    setDestinationsCurrent(destinationsApi.selectedScrollSnap() + 1);\n\n    destinationsApi.on(\"select\", () => {\n      setDestinationsCurrent(destinationsApi.selectedScrollSnap() + 1);\n    });\n  }, [destinationsApi]);\n\n  useEffect(() => {\n    if (!destinationsApi) return;\n\n    const interval = setInterval(() => {\n      destinationsApi.scrollNext();\n    }, 4000); // Auto-rotate every 4 seconds\n\n    return () => clearInterval(interval);\n  }, [destinationsApi]);\n\n  useEffect(() => {\n    let active = true;\n    (async () => {\n      try {\n        setLoadingFeatured(true);\n        const rows = await fetchFeaturedDestinations(language);\n        if (!active) return;\n        setFeatured(rows);\n      } catch (e) {\n        console.error('Failed to load featured destinations', e);\n        if (!active) return;\n        setFeatured(null);\n      } finally {\n        if (active) setLoadingFeatured(false);\n      }\n    })();\n    return () => { active = false; };\n  }, [language]);\n\n  const cityImagePath = (row: FeaturedDestinationDTO): string => {\n    if (row.image_url) return row.image_url;\n    // fallback to default image\n    return '/zaparound-uploads/defaultimage.png';\n  };\n\n  const faqStructuredData = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"FAQPage\",\n    \"mainEntity\": []\n  };\n\n  // Travel categories\n  const travelCategories = [\n    { icon: PlaneTakeoff, label: t('home.travelCategoryLabels.flights', 'Flights'), count: '2M+ routes', color: 'bg-blue-500' },\n    { icon: MapPin, label: t('home.travelCategoryLabels.hotels', 'Hotels'), count: '500K+ properties', color: 'bg-green-500' },\n    { icon: CableCar, label: t('home.travelCategoryLabels.activities', 'Activities'), count: '50K+ experiences', color: 'bg-purple-500' },\n    { icon: Calendar, label: t('home.travelCategoryLabels.localEvents', 'Local Events'), count: '2K+ events', color: 'bg-orange-500' },\n    { icon: Heart, label: t('home.travelCategoryLabels.romanticGetaways', 'Romantic Getaways'), count: '10K+ packages', color: 'bg-pink-500' }\n  ];\n\n  // Stats data with better SEO content\n  const stats = [\n    {\n      label: t('home.stats.activeTravelers', 'Active Travelers'),\n      value: 1000,\n      suffix: '+',\n      icon: Users,\n      description: t('home.stats.activeTravelersDesc', 'Travelers planning adventures worldwide')\n    },\n    {\n      label: t('home.stats.globalDestinations', 'Global Destinations'),\n      value: 195,\n      suffix: '+',\n      icon: Globe,\n      description: t('home.stats.globalDestinationsDesc', 'Curated destinations across continents')\n    },\n    {\n      label: t('home.stats.countriesCovered', 'Countries Covered'),\n      value: 50,\n      suffix: '+',\n      icon: MapPin,\n      description: t('home.stats.countriesCoveredDesc', 'International travel planning support')\n    },\n    {\n      label: t('home.stats.industryAwards'),\n      value: 1000,\n      suffix: '+',\n      icon: Award,\n      description: t('home.stats.industryAwardsDesc')\n    }\n  ];\n\n  const AnimatedCounter: React.FC<{ to: number; suffix?: string; className?: string }> = ({ to, suffix = '', className }) => {\n    const ref = useRef<HTMLSpanElement | null>(null);\n    const isInView = useInView(ref, { once: true, margin: '-20% 0px -20% 0px' });\n    const [displayValue, setDisplayValue] = useState(0);\n\n    useEffect(() => {\n      if (!isInView) return;\n      const controls = animate(0, to, {\n        duration: 1.8,\n        ease: 'easeOut',\n        onUpdate: (v) => setDisplayValue(v)\n      });\n      return () => controls.stop();\n    }, [isInView, to]);\n\n    const formatted = new Intl.NumberFormat(language, {\n      notation: 'compact',\n      maximumFractionDigits: 0\n    }).format(Math.round(displayValue));\n\n    return (\n      <span ref={ref} className={className} aria-live=\"polite\">\n        {formatted}\n        {suffix}\n      </span>\n    );\n  };\n\n  // Add Travelpayouts script with results URL configuration\n  useEffect(() => {\n    const existing = document.querySelector(\n      'script[src=\"https://tpwgts.com/wl_web/main.js?wl_id=396\"]'\n    );\n    if (!existing) {\n      const script = document.createElement(\"script\");\n      script.async = true;\n      script.type = \"module\";\n      script.src = \"https://tpwgts.com/wl_web/main.js?wl_id=396\";\n      script.setAttribute(\"data-noptimize\", \"1\");\n      script.setAttribute(\"data-cfasync\", \"false\");\n      script.setAttribute(\"data-wpfc-render\", \"false\");\n      document.head.appendChild(script);\n\n      // Configure results URL to redirect to travel-flight page\n      (window as any).TPWL_CONFIGURATION = {\n        ...(window as any).TPWL_CONFIGURATION,\n        resultsURL: `/${language}/travel-flight`,\n      };\n    }\n  }, [language]);\n\n  return (\n    <>\n      <Helmet>\n        <script\n          data-noptimize=\"1\"\n          data-cfasync=\"false\"\n          data-wpfc-render=\"false\"\n          type=\"text/javascript\"\n        >{`\n          (function () {\n            var script = document.createElement('script');\n            script.async = 1;\n            script.type = 'module';\n            script.src = 'https://tpwgts.com/wl_web/main.js?wl_id=396';\n            document.head.appendChild(script);\n\n            window.TPWL_CONFIGURATION = {\n              ...window.TPWL_CONFIGURATION,\n              resultsURL: '/${language}/travel-flight',\n            };\n          })();\n        `}</script>\n      </Helmet>\n      <SEO\n        title={t('home:title', 'ZapAround – Your smart travel companion')}\n        description={t(\n          'home:description',\n          'Plan unique getaways, find hidden gems and organise memorable experiences all in one place.'\n        )}\n        keywords=\"ZapAround, travel planner, AI trip planning, holiday inspiration, road trip planner\"\n        url={`/${language}/`}\n        locale={language === 'fr' ? 'fr_FR' : language === 'es' ? 'es_ES' : 'en_US'}\n        structuredData={faqStructuredData}\n      />\n\n      {/* ——————————————————————————————————————————————————————————— */}\n      {/* HERO SECTION - FlightHub Style */}\n      {/* ——————————————————————————————————————————————————————————— */}\n      <section className=\"relative min-h-screen overflow-hidden\">\n        {/* Parallax Background (no background-attachment: fixed on mobile) */}\n        <img\n          src=\"/zaparound-uploads/background45.jpg\"\n          alt=\"ZapAround inspirational background\"\n          loading=\"eager\"\n          fetchpriority=\"high\"\n          decoding=\"async\"\n          className=\"absolute inset-0 w-full h-full object-cover transform-gpu will-change-transform\"\n          style={parallaxEnabled ? { transform: 'translate3d(0, var(--parallax-offset, 0px), 0)' } : undefined}\n        />\n        \n        {/* Dark Overlay */}\n        <div className={`absolute inset-0 transition-all duration-500 ${\n          isActivityTimeStep ? 'bg-black/70' : 'bg-black/40'\n        }`}></div>\n        \n        {/* Background Pattern */}\n        <div className={`absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.05%22%3E%3Ccircle%20cx%3D%2230%22%20cy%3D%2230%22%20r%3D%222%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] transition-all duration-500 ${\n          isActivityTimeStep ? 'opacity-10' : 'opacity-20'\n        }`}></div>\n        \n        {/* Floating Elements with Parallax */}\n        <div \n          className={`hidden md:block absolute top-20 left-10 w-20 h-20 bg-[#61936f]/20 rounded-full blur-md md:blur-xl animate-none md:animate-pulse transform-gpu will-change-transform transition-all duration-500 ${\n            isActivityTimeStep ? 'opacity-30' : 'opacity-100'\n          }`}\n          style={parallaxEnabled ? { transform: 'translate3d(0, calc(var(--parallax-offset, 0px) * 0.3), 0)' } : undefined}\n        ></div>\n        <div \n          className={`hidden md:block absolute top-40 right-20 w-32 h-32 bg-[#61936f]/15 rounded-full blur-md md:blur-2xl animate-none md:animate-pulse delay-1000 transform-gpu will-change-transform transition-all duration-500 ${\n            isActivityTimeStep ? 'opacity-20' : 'opacity-100'\n          }`}\n          style={parallaxEnabled ? { transform: 'translate3d(0, calc(var(--parallax-offset, 0px) * 0.5), 0)' } : undefined}\n        ></div>\n        <div \n          className={`hidden md:block absolute bottom-20 left-1/4 w-16 h-16 bg-[#61936f]/25 rounded-full blur-sm md:blur-lg animate-none md:animate-pulse delay-500 transform-gpu will-change-transform transition-all duration-500 ${\n            isActivityTimeStep ? 'opacity-40' : 'opacity-100'\n          }`}\n          style={parallaxEnabled ? { transform: 'translate3d(0, calc(var(--parallax-offset, 0px) * 0.2), 0)' } : undefined}\n        ></div>\n\n        <div className=\"container mx-auto px-4 pt-12 pb-16 relative z-10\">\n          <div className=\"max-w-6xl mx-auto text-center\">\n            {/* Main Heading */}\n            <div className=\"mb-8\">\n              <Badge variant=\"secondary\" className=\"mb-4 bg-[#61936f]/20 text-[#61936f] border-[#61936f]/30\">\n                <Zap className=\"w-4 h-4 mr-2\" />\n                {t('hero.badge', 'AI-Powered Travel Planning')}\n              </Badge>\n              \n              <h1 className=\"text-3xl md:text-5xl lg:text-6xl font-bold text-white mb-4 leading-tight\">\n                <span className=\"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent\">\n                  {t('hero.heading', 'Discover Your Next')}\n                </span>\n                <br />\n                <span className=\"bg-gradient-to-r from-[#61936f] to-[#4a7c59] bg-clip-text text-transparent\">\n                  {t('hero.heading2', 'Adventure')}\n                </span>\n              </h1>\n              \n              <p className=\"text-base md:text-lg text-gray-300 max-w-xl mx-auto mb-6 leading-relaxed\">\n                {t(\n                  'hero.subheading',\n                  'Plan, book, and experience unforgettable journeys with AI-powered recommendations and seamless booking.'\n                )}\n              </p>\n            </div>\n\n            {/* Activity Selection - Embedded - Much Higher */}\n            <div className=\"mb-8\">\n              <div ref={activitySelectionRef}>\n                <HomeCreateTripDialog session={session} />\n              </div>\n            </div>\n\n            {/* Trust Indicators */}\n            <div className=\"flex flex-wrap justify-center items-center gap-6 text-gray-400\">\n              <div className=\"flex items-center gap-2\">\n                <Shield className=\"w-4 h-4 text-[#61936f]\" />\n                              <span className=\"text-xs\">{t('hero.trustIndicators.secureBooking', 'Secure Booking')}</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Clock className=\"w-4 h-4 text-[#61936f]\" />\n              <span className=\"text-xs\">{t('hero.trustIndicators.insaneTravelPlanning', 'Insane Travel Planning')}</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <TrendingUp className=\"w-4 h-4 text-[#61936f]\" />\n              <span className=\"text-xs\">{t('hero.trustIndicators.bestPrices', 'Best Prices')}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* ——————————————————————————————————————————————————————————— */}\n      {/* FLIGHT SEARCH SECTION */}\n      {/* ——————————————————————————————————————————————————————————— */}\n      <section className=\"py-20 bg-white\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-4xl md:text-5xl font-bold text-[#1d1d1e] mb-4 flex items-center justify-center gap-3\">\n              <Plane className=\"w-10 h-10 text-[#61936f]\" />\n              {t('home.flightSearch.title', 'Find the Perfect Flight')}\n            </h2>\n            <p className=\"text-xl text-[#62626a] max-w-2xl mx-auto\">\n              {t('home.flightSearch.description', 'Search and compare flights from hundreds of airlines worldwide')}\n            </p>\n          </div>\n          \n          <div className=\"max-w-6xl mx-auto\">\n            {/* Travelpayouts White-Label Widget with Shadow Square */}\n            <div className=\"relative\">\n              {/* Shadow Square Background */}\n              <div className=\"absolute inset-0 bg-gradient-to-br from-[#61936f]/20 to-[#4a7c59]/20 rounded-3xl blur-2xl transform rotate-3 scale-105\"></div>\n              <div className=\"absolute inset-0 bg-gradient-to-tl from-[#10B981]/15 to-[#059669]/15 rounded-3xl blur-xl transform -rotate-2 scale-105\"></div>\n              \n              {/* Main Widget Container */}\n              <div className=\"relative bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-8 transform hover:scale-[1.02] transition-all duration-500 hover:shadow-3xl\">\n                {/* Inner Glow Effect */}\n                <div className=\"absolute inset-0 bg-gradient-to-r from-[#61936f]/5 to-[#10B981]/5 rounded-3xl\"></div>\n                \n                {/* Widget Content */}\n                <div className=\"relative z-10\">\n                  <div id=\"tpwl-search\"></div>\n                </div>\n                \n                {/* Decorative Corner Elements */}\n                <div className=\"absolute top-4 left-4 w-8 h-8 border-l-2 border-t-2 border-[#61936f]/30 rounded-tl-2xl\"></div>\n                <div className=\"absolute top-4 right-4 w-8 h-8 border-r-2 border-t-2 border-[#61936f]/30 rounded-tr-2xl\"></div>\n                <div className=\"absolute bottom-4 left-4 w-8 h-8 border-l-2 border-b-2 border-[#61936f]/30 rounded-bl-2xl\"></div>\n                <div className=\"absolute bottom-4 right-4 w-8 h-8 border-r-2 border-b-2 border-[#61936f]/30 rounded-br-2xl\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* ——————————————————————————————————————————————————————————— */}\n      {/* FEATURED DESTINATIONS CAROUSEL WITH PUZZLE EFFECT */}\n      {/* ——————————————————————————————————————————————————————————— */}\n      <FeaturedDestinationsPuzzle\n        featured={featured}\n        loading={loadingFeatured}\n        language={language}\n        onExplore={handleExplore}\n        cityImagePath={cityImagePath}\n      />\n\n      {/* ——————————————————————————————————————————————————————————— */}\n      {/* COMMUNITY SNEAK PEEK SECTION */}\n      {/* ——————————————————————————————————————————————————————————— */}\n      <CommunitySneakPeek />\n\n      {/* ——————————————————————————————————————————————————————————— */}\n      {/* LATEST ADVENTURES (Latest Trips) - TEMPORARILY HIDDEN */}\n      {/* ——————————————————————————————————————————————————————————— */}\n      {/* <LatestTripsCarousel /> */}\n      \n      {/* ——————————————————————————————————————————————————————————— */}\n      {/* TRAVEL CATEGORIES */}\n      {/* ——————————————————————————————————————————————————————————— */}\n      <motion.section \n        className=\"py-20 bg-[#fcfcfc] relative overflow-hidden\"\n        initial={{ opacity: 0, scale: 0.98 }}\n        whileInView={{ opacity: 1, scale: 1 }}\n        transition={{ duration: 1.2, ease: [0.25, 0.46, 0.45, 0.94] }}\n        viewport={{ once: true, amount: 0.1 }}\n      >\n        {/* Animated background elements */}\n        <motion.div \n          className=\"absolute inset-0 opacity-5\"\n          animate={{\n            background: [\n              \"radial-gradient(circle at 20% 80%, #61936f 0%, transparent 50%)\",\n              \"radial-gradient(circle at 80% 20%, #1d1d1e 0%, transparent 50%)\",\n              \"radial-gradient(circle at 20% 80%, #61936f 0%, transparent 50%)\"\n            ]\n          }}\n          transition={{\n            duration: 8,\n            repeat: Infinity,\n            ease: \"easeInOut\"\n          }}\n        />\n        \n        <div className=\"container mx-auto px-4 relative z-10\">\n          <motion.div \n            className=\"text-center mb-16\"\n            initial={{ opacity: 0, y: 30 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6 }}\n            viewport={{ once: true }}\n          >\n            <h2 className=\"text-4xl md:text-5xl font-bold text-[#1d1d1e] mb-4\">\n              {t('home.travelCategories', 'Everything You Need')}\n            </h2>\n            <p className=\"text-xl text-[#62626a] max-w-2xl mx-auto\">\n              {t('home.travelCategoriesDesc', 'From flights to activities, we\\'ve got your entire journey covered')}\n            </p>\n          </motion.div>\n\n          <motion.div \n            className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6 max-w-6xl mx-auto\"\n            initial={{ opacity: 0 }}\n            whileInView={{ opacity: 1 }}\n            transition={{ duration: 0.8, staggerChildren: 0.15 }}\n            viewport={{ once: true, amount: 0.2 }}\n          >\n            {travelCategories.map((category, index) => (\n              <motion.div\n                key={index}\n                initial={{ opacity: 0, y: 60, scale: 0.8, rotateY: -15 }}\n                whileInView={{ opacity: 1, y: 0, scale: 1, rotateY: 0 }}\n                transition={{ \n                  duration: 0.8, \n                  delay: index * 0.15,\n                  ease: [0.25, 0.46, 0.45, 0.94]\n                }}\n                viewport={{ once: true, amount: 0.3 }}\n                whileHover={{ \n                  y: -12,\n                  scale: 1.05,\n                  transition: { duration: 0.3, ease: \"easeOut\" }\n                }}\n                className=\"transform-gpu\"\n              >\n                <Card className=\"text-center hover:shadow-lg transition-all duration-300 border-0 bg-white group cursor-pointer\">\n                  <CardContent className=\"p-6\">\n                    <motion.div \n                      className={`w-16 h-16 ${category.color} rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300`}\n                      whileHover={{ \n                        scale: 1.1,\n                        transition: { duration: 0.2 }\n                      }}\n                      animate={{\n                        y: [0, -3, 0],\n                      }}\n                      transition={{\n                        duration: 4,\n                        repeat: Infinity,\n                        repeatType: \"reverse\",\n                        ease: \"easeInOut\",\n                        delay: index * 0.3\n                      }}\n                    >\n                      <category.icon className=\"w-8 h-8 text-white\" />\n                    </motion.div>\n                    <h3 className=\"text-lg font-semibold text-[#1d1d1e] mb-2\">{category.label}</h3>\n                    <p className=\"text-sm text-[#62626a]\">{category.count}</p>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            ))}\n          </motion.div>\n          \n          {/* Start Planning Button */}\n          <motion.div \n            className=\"text-center mt-12\"\n            initial={{ opacity: 0, y: 30 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.5 }}\n            viewport={{ once: true }}\n          >\n            <Button \n              onClick={scrollToActivitySelection}\n              className=\"relative px-6 py-2 bg-gradient-to-r from-[#10B981] to-[#059669] text-white border-none hover:from-[#059669] hover:to-[#047857] hover:scale-105 transition-all duration-300 shadow-lg rounded-full font-medium tracking-wide\"\n            >\n              <span className=\"flex items-center gap-2\">\n                <Zap className=\"w-5 h-5\" />\n                {t('travelCategories.startPlanning', 'Start Planning Now')}\n              </span>\n            </Button>\n          </motion.div>\n        </div>\n      </motion.section>\n\n      {/* ——————————————————————————————————————————————————————————— */}\n      {/* WHY CHOOSE ZAPAROUND */}\n      {/* ——————————————————————————————————————————————————————————— */}\n      <motion.section \n        className=\"py-20 bg-[#fcfcfc] relative overflow-hidden\"\n        initial={{ opacity: 0 }}\n        whileInView={{ opacity: 1 }}\n        transition={{ duration: 1.5, ease: [0.6, 0.01, 0.05, 0.95] }}\n        viewport={{ once: true, amount: 0.1 }}\n      >\n        {/* Animated geometric background elements */}\n        <motion.div \n          className=\"absolute top-0 left-0 w-64 h-64 border-2 border-[#61936f]/10 rounded-full\"\n          animate={{\n            rotate: [0, 360],\n            scale: [1, 1.2, 1],\n            opacity: [0.1, 0.2, 0.1]\n          }}\n          transition={{\n            duration: 20,\n            repeat: Infinity,\n            ease: \"linear\"\n          }}\n        />\n        <motion.div \n          className=\"absolute bottom-0 right-0 w-48 h-48 border-2 border-[#1d1d1e]/10 rounded-full\"\n          animate={{\n            rotate: [360, 0],\n            scale: [1, 0.8, 1],\n            opacity: [0.1, 0.15, 0.1]\n          }}\n          transition={{\n            duration: 25,\n            repeat: Infinity,\n            ease: \"linear\"\n          }}\n        />\n        \n        <div className=\"container mx-auto px-4 relative z-10\">\n          <motion.div \n            className=\"text-center mb-16\"\n            initial={{ opacity: 0, y: 50, scale: 0.9 }}\n            whileInView={{ opacity: 1, y: 0, scale: 1 }}\n            transition={{ \n              duration: 1, \n              ease: [0.6, 0.01, 0.05, 0.95],\n              delay: 0.2\n            }}\n            viewport={{ once: true }}\n          >\n            <motion.h2 \n              className=\"text-4xl md:text-5xl font-bold text-[#1d1d1e] mb-4\"\n              initial={{ opacity: 0, x: -100 }}\n              whileInView={{ opacity: 1, x: 0 }}\n              transition={{ duration: 0.8, delay: 0.4 }}\n              viewport={{ once: true }}\n            >\n              {t('home.whyChooseUs', 'Why Choose ZapAround?')}\n            </motion.h2>\n            <motion.p \n              className=\"text-xl text-[#62626a] max-w-2xl mx-auto\"\n              initial={{ opacity: 0, x: 100 }}\n              whileInView={{ opacity: 1, x: 0 }}\n              transition={{ duration: 0.8, delay: 0.6 }}\n              viewport={{ once: true }}\n            >\n              {t('home.whyChooseUsDesc', 'Experience the future of travel planning with our innovative features')}\n            </motion.p>\n          </motion.div>\n\n          <motion.div \n            className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto\"\n            initial={{ opacity: 0 }}\n            whileInView={{ opacity: 1 }}\n            transition={{ duration: 1, staggerChildren: 0.3 }}\n            viewport={{ once: true, amount: 0.2 }}\n          >\n            {/* AI-Powered Planning Card */}\n            <motion.div\n              initial={{ opacity: 0, x: -80, rotateY: 45 }}\n              whileInView={{ opacity: 1, x: 0, rotateY: 0 }}\n              transition={{ \n                duration: 1.2, \n                ease: [0.6, 0.01, 0.05, 0.95]\n              }}\n              viewport={{ once: true, amount: 0.3 }}\n              whileHover={{ \n                rotateY: 5,\n                scale: 1.02,\n                transition: { duration: 0.4, ease: \"easeOut\" }\n              }}\n              className=\"transform-gpu perspective-1000\"\n            >\n              <Card className=\"border-0 bg-white shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden\">\n                <motion.div \n                  className=\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-[#61936f] to-[#4a7c59]\"\n                  initial={{ scaleX: 0 }}\n                  whileInView={{ scaleX: 1 }}\n                  transition={{ duration: 0.8, delay: 0.5 }}\n                  viewport={{ once: true }}\n                />\n                <CardContent className=\"p-8\">\n                  <motion.div \n                    className=\"w-14 h-14 bg-[#61936f]/10 rounded-2xl flex items-center justify-center mb-6\"\n                    whileHover={{ \n                      rotate: 360,\n                      scale: 1.1,\n                      transition: { duration: 0.6, ease: \"easeInOut\" }\n                    }}\n                  >\n                    <Zap className=\"w-7 h-7 text-[#61936f]\" />\n                  </motion.div>\n                  <h3 className=\"text-2xl font-bold text-[#1d1d1e] mb-4\">\n                    {t('home.features.aiPlanning', 'AI-Powered Planning')}\n                  </h3>\n                  <p className=\"text-[#62626a] leading-relaxed\">\n                    {t('home.features.aiPlanningDesc', 'Our intelligent AI creates personalized itineraries based on your preferences, budget, and travel style.')}\n                  </p>\n                </CardContent>\n              </Card>\n            </motion.div>\n\n            {/* Local Insights Card */}\n            <motion.div\n              initial={{ opacity: 0, y: 80, rotateX: 45 }}\n              whileInView={{ opacity: 1, y: 0, rotateX: 0 }}\n              transition={{ \n                duration: 1.2, \n                ease: [0.6, 0.01, 0.05, 0.95],\n                delay: 0.3\n              }}\n              viewport={{ once: true, amount: 0.3 }}\n              whileHover={{ \n                rotateX: 5,\n                scale: 1.02,\n                transition: { duration: 0.4, ease: \"easeOut\" }\n              }}\n              className=\"transform-gpu perspective-1000\"\n            >\n              <Card className=\"border-0 bg-white shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden\">\n                <motion.div \n                  className=\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-[#1d1d1e] to-[#62626a]\"\n                  initial={{ scaleX: 0 }}\n                  whileInView={{ scaleX: 1 }}\n                  transition={{ duration: 0.8, delay: 0.8 }}\n                  viewport={{ once: true }}\n                />\n                <CardContent className=\"p-8\">\n                  <motion.div \n                    className=\"w-14 h-14 bg-[#61936f]/10 rounded-2xl flex items-center justify-center mb-6\"\n                    whileHover={{ \n                      rotate: -360,\n                      scale: 1.1,\n                      transition: { duration: 0.6, ease: \"easeInOut\" }\n                    }}\n                  >\n                    <MapPin className=\"w-7 h-7 text-[#61936f]\" />\n                  </motion.div>\n                  <h3 className=\"text-2xl font-bold text-[#1d1d1e] mb-4\">\n                    {t('home.features.localInsights', 'Local Insights')}\n                  </h3>\n                  <p className=\"text-[#62626a] leading-relaxed\">\n                    {t('home.features.localInsightsDesc', 'Discover hidden gems and authentic experiences curated by locals and travel experts.')}\n                  </p>\n                </CardContent>\n              </Card>\n            </motion.div>\n\n            {/* Seamless Booking Card */}\n            <motion.div\n              initial={{ opacity: 0, x: 80, rotateY: -45 }}\n              whileInView={{ opacity: 1, x: 0, rotateY: 0 }}\n              transition={{ \n                duration: 1.2, \n                ease: [0.6, 0.01, 0.05, 0.95],\n                delay: 0.6\n              }}\n              viewport={{ once: true, amount: 0.3 }}\n              whileHover={{ \n                rotateY: -5,\n                scale: 1.02,\n                transition: { duration: 0.4, ease: \"easeOut\" }\n              }}\n              className=\"transform-gpu perspective-1000\"\n            >\n              <Card className=\"border-0 bg-white shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden\">\n                <motion.div \n                  className=\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-[#4a7c59] to-[#61936f]\"\n                  initial={{ scaleX: 0 }}\n                  whileInView={{ scaleX: 1 }}\n                  transition={{ duration: 0.8, delay: 1.1 }}\n                  viewport={{ once: true }}\n                />\n                <CardContent className=\"p-8\">\n                  <motion.div \n                    className=\"w-14 h-14 bg-[#61936f]/10 rounded-2xl flex items-center justify-center mb-6\"\n                    whileHover={{ \n                      rotate: 180,\n                      scale: 1.1,\n                      transition: { duration: 0.6, ease: \"easeInOut\" }\n                    }}\n                  >\n                    <Calendar className=\"w-7 h-7 text-[#61936f]\" />\n                  </motion.div>\n                  <h3 className=\"text-2xl font-bold text-[#1d1d1e] mb-4\">\n                    {t('home.features.flexibleBooking', 'Seamless Booking')}\n                  </h3>\n                  <p className=\"text-[#62626a] leading-relaxed\">\n                    {t('home.features.flexibleBookingDesc', 'Book flights, hotels, activities, and more with flexible cancellation and 24/7 support.')}\n                  </p>\n                </CardContent>\n              </Card>\n            </motion.div>\n          </motion.div>\n          \n          {/* Let's Get Started Button */}\n          <motion.div \n            className=\"text-center mt-12\"\n            initial={{ opacity: 0, scale: 0.8, rotate: -5 }}\n            whileInView={{ opacity: 1, scale: 1, rotate: 0 }}\n            transition={{ \n              duration: 1, \n              delay: 1.2,\n              ease: [0.6, 0.01, 0.05, 0.95]\n            }}\n            viewport={{ once: true }}\n            whileHover={{ \n              scale: 1.05,\n              rotate: 2,\n              transition: { duration: 0.3 }\n            }}\n          >\n            <Button \n              onClick={scrollToActivitySelection}\n              className=\"relative px-6 py-2 bg-gradient-to-r from-[#10B981] to-[#059669] text-white border-none hover:from-[#059669] hover:to-[#047857] hover:scale-105 transition-all duration-300 shadow-lg rounded-full font-medium tracking-wide\"\n            >\n              <span className=\"flex items-center gap-2\">\n                <Zap className=\"w-5 h-5\" />\n                {t('whyChooseUs.letsGetStarted', 'Let\\'s Get This Adventure Started! 🚀')}\n              </span>\n            </Button>\n          </motion.div>\n        </div>\n      </motion.section>\n\n      {/* ——————————————————————————————————————————————————————————— */}\n      {/* STATS SECTION */}\n      {/* ——————————————————————————————————————————————————————————— */}\n      <motion.section\n        className=\"py-20 bg-gradient-to-br from-[#61936f] via-[#4a7c59] to-[#3d6b4a] text-white relative overflow-hidden\"\n        initial={{ opacity: 0, y: 40 }}\n        whileInView={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.8, ease: [0.25, 0.46, 0.45, 0.94] }}\n        viewport={{ once: true, amount: 0.2 }}\n      >\n        {/* Background Pattern */}\n        <div className=\"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.1%22%3E%3Ccircle%20cx%3D%2230%22%20cy%3D%2230%22%20r%3D%222%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-30\"></div>\n        \n        {/* Floating Elements */}\n        <div className=\"absolute top-10 left-10 w-20 h-20 bg-white/10 rounded-full blur-xl animate-pulse\"></div>\n        <div className=\"absolute bottom-10 right-10 w-32 h-32 bg-white/5 rounded-full blur-2xl animate-pulse delay-1000\"></div>\n        \n        <div className=\"container mx-auto px-4 relative z-10\">\n          <div className=\"text-center mb-12\">\n            <motion.h2\n              className=\"text-3xl md:text-4xl font-bold text-white mb-2\"\n              initial={{ opacity: 0, y: 20 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.6 }}\n              viewport={{ once: true }}\n            >\n              {t('home.stats.title', 'Trusted by Travelers Worldwide')}\n            </motion.h2>\n            <motion.div\n              className=\"mx-auto mb-4 h-[3px] w-24 rounded-full\"\n              style={{ background: '#ffffff' }}\n              initial={{ scaleX: 0 }}\n              whileInView={{ scaleX: 1 }}\n              transition={{ duration: 0.7, ease: 'easeOut' }}\n              viewport={{ once: true }}\n            />\n            <motion.p\n              className=\"text-lg text-white/80 max-w-2xl mx-auto\"\n              initial={{ opacity: 0, y: 10 }}\n              whileInView={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.6, delay: 0.2 }}\n              viewport={{ once: true }}\n            >\n              {t('home.stats.subtitle', 'Join millions of travelers who trust ZapAround for their adventures')}\n            </motion.p>\n          </div>\n          \n          <motion.div\n            className=\"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-5xl mx-auto\"\n            initial=\"hidden\"\n            whileInView=\"visible\"\n            viewport={{ once: true, amount: 0.2 }}\n          >\n            {stats.map((stat, index) => (\n              <motion.div\n                key={index}\n                className=\"text-center group\"\n                initial={{ opacity: 0, y: 30, rotateX: -10, scale: 0.98 }}\n                whileInView={{ opacity: 1, y: 0, rotateX: 0, scale: 1 }}\n                transition={{ duration: 0.6, delay: index * 0.12, ease: [0.25, 0.46, 0.45, 0.94] }}\n                viewport={{ once: true, amount: 0.3 }}\n                whileHover={{ y: -6 }}\n              >\n                <div className=\"bg-white/20 backdrop-blur-sm rounded-2xl p-6 border border-white/20 transition-all duration-300 hover:bg-white/30 hover:scale-105\">\n                  <div className=\"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-4 transition-all duration-300 group-hover:bg-white/30\">\n                    <stat.icon className=\"w-8 h-8 text-white\" />\n                  </div>\n                  <AnimatedCounter to={stat.value} suffix={stat.suffix} className=\"text-3xl md:text-4xl font-bold text-white mb-2\" />\n                  <div className=\"text-white/90 font-semibold mb-2\">{stat.label}</div>\n                  <div className=\"text-white/70 text-sm leading-relaxed\">{stat.description}</div>\n                </div>\n              </motion.div>\n            ))}\n          </motion.div>\n          \n          {/* Join the Adventure Button */}\n          <div className=\"text-center mt-12\">\n            <Button \n              onClick={scrollToActivitySelection}\n              className=\"bg-white/20 hover:bg-white/30 text-white border-2 border-white/30 px-8 py-3 text-lg font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 backdrop-blur-sm\"\n            >\n              <span className=\"flex items-center gap-2\">\n                <Zap className=\"w-5 h-5\" />\n                {t('stats.joinAdventure', 'Join the Adventure! 🌍✨')}\n              </span>\n            </Button>\n          </div>\n        </div>\n      </motion.section>\n\n      {/* ——————————————————————————————————————————————————————————— */}\n      {/* LATEST BLOGS SECTION */}\n      {/* ——————————————————————————————————————————————————————————— */}\n      <section className=\"bg-[#fcfcfc] text-[#030303] py-20\" aria-labelledby=\"latest-blogs-heading\">\n        <div className=\"container mx-auto max-w-6xl px-4\">\n          <div className=\"text-center mb-16\">\n            <h2 id=\"latest-blogs-heading\" className=\"text-4xl md:text-5xl font-bold text-[#1d1d1e] mb-4\">\n              {t('home.latestBlogs', 'Travel Inspiration')}\n            </h2>\n            <p className=\"text-xl text-[#62626a] max-w-2xl mx-auto\">\n              {t('home.latestBlogsDesc', 'Discover amazing destinations, travel tips, and stories from around the world')}\n            </p>\n          </div>\n          <LatestBlogsGrid />\n          \n          {/* Ready to Explore Button */}\n          <div className=\"text-center mt-12\">\n            <Button \n              onClick={scrollToActivitySelection}\n              className=\"relative px-6 py-2 bg-gradient-to-r from-[#10B981] to-[#059669] text-white border-none hover:from-[#059669] hover:to-[#047857] hover:scale-105 transition-all duration-300 shadow-lg rounded-full font-medium tracking-wide\"\n            >\n              <span className=\"flex items-center gap-2\">\n                <Zap className=\"w-5 h-5\" />\n                {t('latestBlogs.readyToExplore', 'Ready to Explore? Let\\'s Go! 🎯')}\n              </span>\n            </Button>\n          </div>\n        </div>\n      </section>\n\n      {/* ——————————————————————————————————————————————————————————— */}\n      {/* TRAVEL PAGINATION SECTION */}\n      {/* ——————————————————————————————————————————————————————————— */}\n      <TravelPagination \n        currentPage={currentPage}\n        totalPages={5}\n        onPageChange={setCurrentPage}\n      />\n    </>\n  );\n};\n\nexport default Index;\n","import { supabase } from '@/integrations/supabase/client';\n\nexport interface FeaturedDestinationDTO {\n  id: string;\n  slug: string;\n  city: string;\n  country: string;\n  image_url: string | null;\n  fallback_image_url: string | null;\n  rating: number;\n  review_count: number;\n  price_min_cents: number;\n  currency: string;\n  sort_order: number;\n  translation_name: string;\n  translation_badge: string | null;\n  translation_price_label: string | null;\n}\n\nexport async function fetchFeaturedDestinations(locale: string): Promise<FeaturedDestinationDTO[]> {\n  // Join base table with translations for the requested locale\n  const { data, error } = await supabase\n    .from('featured_destinations')\n    .select(`\n      id, slug, city, country, image_url, fallback_image_url, rating, review_count, price_min_cents, currency, sort_order,\n      featured_destination_translations:featured_destination_translations!inner (\n        locale, name, badge, price_label\n      )\n    `)\n    .eq('is_active', true)\n    .order('sort_order', { ascending: true })\n    .order('created_at', { ascending: true });\n\n  if (error) throw error;\n\n  const results: FeaturedDestinationDTO[] = (data as any[])\n    .map((row) => {\n      const tr = Array.isArray(row.featured_destination_translations)\n        ? row.featured_destination_translations.find((r: any) => r.locale === locale) || row.featured_destination_translations[0]\n        : null;\n      return {\n        id: row.id,\n        slug: row.slug,\n        city: row.city,\n        country: row.country,\n        image_url: row.image_url,\n        fallback_image_url: row.fallback_image_url,\n        rating: row.rating,\n        review_count: row.review_count,\n        price_min_cents: row.price_min_cents,\n        currency: row.currency,\n        sort_order: row.sort_order,\n        translation_name: tr?.name || `${row.city}, ${row.country}`,\n        translation_badge: tr?.badge || row.badge_key || null,\n        translation_price_label: tr?.price_label || null,\n      };\n    });\n  return results;\n}\n\n"],"names":["Index","session","i18n","t","useTranslation","language","useNavigate","destinationsApi","setDestinationsApi","useState","destinationsCurrent","setDestinationsCurrent","destinationsCount","setDestinationsCount","currentPage","setCurrentPage","featured","setFeatured","loadingFeatured","setLoadingFeatured","activitySelectionRef","useRef","isActivityTimeStep","setIsActivityTimeStep","scrollToActivitySelection","current","scrollIntoView","behavior","block","inline","useEffect","handleStepChange","event","step","detail","window","addEventListener","removeEventListener","haversineKm","lat1","lon1","lat2","lon2","toRad","d","Math","PI","dLat","dLon","a","sin","cos","atan2","sqrt","navigateToTravelFlight","params","useCompact","base","origin","destination","departureDate","org","slice","toUpperCase","dst","ddmm","replace","pax","String","min","max","parseInt","adults","compact","returnDate","r","location","href","search","URLSearchParams","toString","parallaxEnabled","setParallaxEnabled","mediaQuery","matchMedia","saveData","navigator","connection","lowEndDevice","matches","onChange","passive","document","documentElement","style","setProperty","ticking","update","parallaxOffset","pageYOffset","scrollTop","onScroll","requestAnimationFrame","scrollSnapList","length","selectedScrollSnap","on","interval","setInterval","scrollNext","clearInterval","active","rows","async","locale","data","error","supabase","from","select","eq","order","ascending","map","row","tr","Array","isArray","featured_destination_translations","find","id","slug","city","country","image_url","fallback_image_url","rating","review_count","price_min_cents","currency","sort_order","translation_name","name","translation_badge","badge","badge_key","translation_price_label","price_label","fetchFeaturedDestinations","e","travelCategories","icon","PlaneTakeoff","label","count","color","MapPin","CableCar","Calendar","Heart","stats","value","suffix","Users","description","Globe","Award","AnimatedCounter","to","className","ref","isInView","useInView","once","margin","displayValue","setDisplayValue","controls","animate","duration","ease","onUpdate","v","stop","formatted","Intl","NumberFormat","notation","maximumFractionDigits","format","round","jsxs","children","querySelector","script","createElement","type","src","setAttribute","head","appendChild","TPWL_CONFIGURATION","resultsURL","Fragment","jsx","Helmet","SEO","title","keywords","url","structuredData","mainEntity","alt","loading","fetchpriority","decoding","transform","Badge","variant","Zap","HomeCreateTripDialog","Shield","Clock","TrendingUp","Plane","FeaturedDestinationsPuzzle","onExplore","destinationCity","baseParams","cityName","getAirportsByCity","iata_code","simple","airports","toLowerCase","getDestinationIATA","tripType","infantsInSeat","infantsOnLap","cabinClass","dt","Date","setDate","getDate","toISOString","split","geolocation","getCurrentPosition","pos","originIata","lat","lon","best","ap","km","latitude","longitude","iata","findNearestAirportIATA","coords","enableHighAccuracy","timeout","maximumAge","cityImagePath","CommunitySneakPeek","motion","section","initial","opacity","scale","whileInView","transition","viewport","amount","div","background","repeat","Infinity","y","staggerChildren","category","index","rotateY","delay","whileHover","Card","CardContent","repeatType","Button","onClick","rotate","h2","x","p","scaleX","rotateX","stat","LatestBlogsGrid","TravelPagination","totalPages","onPageChange"],"mappings":"y+BAoDA,MAAMA,EAA8B,EAAGC,cAC/B,MAAAC,KAAEA,IAAMC,GAAMC,EAAe,CAAC,OAAQ,WACtCC,EAAWH,EAAKG,UAAY,KACjBC,IAGjB,MAAOC,EAAiBC,GAAsBC,cACvCC,EAAqBC,GAA0BF,EAAAA,SAAS,IACxDG,EAAmBC,GAAwBJ,EAAAA,SAAS,IAGpDK,EAAaC,GAAkBN,EAAAA,SAAS,IAGxCO,EAAUC,GAAeR,EAAAA,SAA0C,OACnES,EAAiBC,GAAsBV,EAAAA,UAAkB,GAG1DW,EAAuBC,SAAuB,OAG7CC,EAAoBC,GAAyBd,EAAAA,UAAS,GAGvDe,EAA4B,KAC5BJ,EAAqBK,SACvBL,EAAqBK,QAAQC,eAAe,CAC1CC,SAAU,SACVC,MAAO,SACPC,OAAQ,WACT,EAKLC,EAAAA,WAAU,KACF,MAAAC,EAAoBC,IAClB,MAAAC,EAAOD,EAAME,QAAQD,KAC3BV,EAA+B,kBAATU,EAAwB,EAKhD,OAFOE,OAAAC,iBAAiB,oBAAqBL,GAEtC,KACEI,OAAAE,oBAAoB,oBAAqBN,EAAiC,CACnF,GACC,IAGH,MAAMO,GAAc,CAACC,EAAcC,EAAcC,EAAcC,KAC7D,MAAMC,EAASC,GAAeA,EAAIC,KAAKC,GAAM,IAEvCC,EAAOJ,EAAMF,EAAOF,GACpBS,EAAOL,EAAMD,EAAOF,GACpBS,EACJJ,KAAKK,IAAIH,EAAO,GAAKF,KAAKK,IAAIH,EAAO,GACrCF,KAAKM,IAAIR,EAAMJ,IAASM,KAAKM,IAAIR,EAAMF,IACvCI,KAAKK,IAAIF,EAAO,GAAKH,KAAKK,IAAIF,EAAO,GAEvC,OARU,MAOA,EAAIH,KAAKO,MAAMP,KAAKQ,KAAKJ,GAAIJ,KAAKQ,KAAK,EAAIJ,IAC1C,EAoBPK,GAAyB,CAACC,EAAgCC,GAAa,KACrE,MAAAC,EAAO,IAAIpD,kBACjB,GAAImD,GAAcD,EAAOG,QAAUH,EAAOI,aAAeJ,EAAOK,cAAe,CAE7E,MAAMC,EAAMN,EAAOG,OAAOI,MAAM,EAAG,GAAGC,cAChCC,EAAMT,EAAOI,YAAYG,MAAM,EAAG,GAAGC,cACrCE,EAAOV,EAAOK,cAAcM,QAAQ,KAAM,IAAIJ,MAAM,EAAG,GAAKP,EAAOK,cAAcM,QAAQ,KAAM,IAAIJ,MAAM,EAAG,GAC5GK,EAAMC,OAAOvB,KAAKwB,IAAI,EAAGxB,KAAKyB,IAAI,EAAGC,SAAShB,EAAOiB,QAAU,IAAK,OACtE,IAAAC,EAAU,GAAGZ,IAAMI,IAAOD,IAAMG,IACpC,GAAIZ,EAAOmB,WAAY,CACrB,MAAMC,EAAIpB,EAAOmB,WAAWR,QAAQ,KAAM,IAEhCO,EAAA,GAAGZ,IAAMI,IAAOD,IADZW,EAAEb,MAAM,EAAG,GAAKa,EAAEb,MAAM,EAAG,KACDK,GAAG,CAG7C,YADAhC,OAAOyC,SAASC,KAAO,GAAGpB,kBAAqBgB,IAC/C,CAEF,MAAMK,EAAS,IAAIC,gBAAgBxB,GAAQyB,WAC3C7C,OAAOyC,SAASC,KAAO,GAAGpB,KAAQqB,GAAM,GAyCnCG,GAAiBC,IAAsBzE,EAAAA,UAAkB,GAEhEqB,EAAAA,WAAU,KACF,MAAAqD,EAAahD,OAAOiD,WAAW,sBAC/BC,GAAuD,IAA3CC,UAAkBC,YAAYF,SAC1CG,EAAeH,GAAYF,EAAWM,QAC5CP,IAAoBM,GAEpB,MAAME,EAAW,IAAMR,KAAqBG,GAAYF,EAAWM,UAGnE,OAFWN,EAAA/C,mBAAmB,SAAUsD,GACxCvD,OAAOC,iBAAiB,oBAAqBsD,EAAU,CAAEC,SAAS,IAC3D,KACMR,EAAA9C,sBAAsB,SAAUqD,GACpCvD,OAAAE,oBAAoB,oBAAqBqD,EAAyB,CAC3E,GACC,IAGH5D,EAAAA,WAAU,KACR,IAAKmD,GAEH,YADAW,SAASC,gBAAgBC,MAAMC,YAAY,oBAAqB,OAIlE,IAAIC,GAAU,EACd,MAAMC,EAAS,KACb,MACMC,EAA4B,KADjB/D,OAAOgE,aAAeP,SAASC,gBAAgBO,WAAa,GAE7ER,SAASC,gBAAgBC,MAAMC,YAAY,oBAAqB,GAAGG,OACzDF,GAAA,CAAA,EAGNK,EAAW,KACVL,IACH7D,OAAOmE,sBAAsBL,GACnBD,GAAA,EAAA,EAOd,OAFOC,IACP9D,OAAOC,iBAAiB,SAAUiE,EAAU,CAAEV,SAAS,IAChD,IAAMxD,OAAOE,oBAAoB,SAAUgE,EAAyB,GAC1E,CAACpB,KAGJnD,EAAAA,WAAU,KACHvB,IAEgBM,EAAAN,EAAgBgG,iBAAiBC,QAC/B7F,EAAAJ,EAAgBkG,qBAAuB,GAE9ClG,EAAAmG,GAAG,UAAU,KACJ/F,EAAAJ,EAAgBkG,qBAAuB,EAAC,IAChE,GACA,CAAClG,IAEJuB,EAAAA,WAAU,KACR,IAAKvB,EAAiB,OAEhB,MAAAoG,EAAWC,aAAY,KAC3BrG,EAAgBsG,YAAW,GAC1B,KAEI,MAAA,IAAMC,cAAcH,EAAQ,GAClC,CAACpG,IAEJuB,EAAAA,WAAU,KACR,IAAIiF,GAAS,EAeb,MAdA,WACM,IACF5F,GAAmB,GACb,MAAA6F,QCnPdC,eAAgDC,GAExC,MAAAC,KAAEA,QAAMC,SAAgBC,EAC3BC,KAAK,yBACLC,OAAO,4QAMPC,GAAG,aAAa,GAChBC,MAAM,aAAc,CAAEC,WAAW,IACjCD,MAAM,aAAc,CAAEC,WAAW,IAEpC,GAAIN,EAAa,MAAAA,EAwBV,OAtBoCD,EACxCQ,KAAKC,IACJ,MAAMC,EAAKC,MAAMC,QAAQH,EAAII,mCACzBJ,EAAII,kCAAkCC,MAAMtD,GAAWA,EAAEuC,SAAWA,KAAWU,EAAII,kCAAkC,GACrH,KACG,MAAA,CACLE,GAAIN,EAAIM,GACRC,KAAMP,EAAIO,KACVC,KAAMR,EAAIQ,KACVC,QAAST,EAAIS,QACbC,UAAWV,EAAIU,UACfC,mBAAoBX,EAAIW,mBACxBC,OAAQZ,EAAIY,OACZC,aAAcb,EAAIa,aAClBC,gBAAiBd,EAAIc,gBACrBC,SAAUf,EAAIe,SACdC,WAAYhB,EAAIgB,WAChBC,iBAAkBhB,GAAIiB,MAAQ,GAAGlB,EAAIQ,SAASR,EAAIS,UAClDU,kBAAmBlB,GAAImB,OAASpB,EAAIqB,WAAa,KACjDC,wBAAyBrB,GAAIsB,aAAe,KAC9C,GAGN,CD4M2BC,CAA0B/I,GAC7C,IAAK0G,EAAQ,OACb9F,EAAY+F,SACLqC,GAEP,IAAKtC,EAAQ,OACb9F,EAAY,KAAI,CAChB,QACI8F,MAA2B,EAAK,CAErC,EAbH,GAcO,KAAiBA,GAAA,CAAA,CAAO,GAC9B,CAAC1G,IAEE,MAaAiJ,GAAmB,CACvB,CAAEC,KAAMC,EAAcC,MAAOtJ,EAAE,oCAAqC,WAAYuJ,MAAO,aAAcC,MAAO,eAC5G,CAAEJ,KAAMK,EAAQH,MAAOtJ,EAAE,mCAAoC,UAAWuJ,MAAO,mBAAoBC,MAAO,gBAC1G,CAAEJ,KAAMM,EAAUJ,MAAOtJ,EAAE,uCAAwC,cAAeuJ,MAAO,mBAAoBC,MAAO,iBACpH,CAAEJ,KAAMO,EAAUL,MAAOtJ,EAAE,wCAAyC,gBAAiBuJ,MAAO,aAAcC,MAAO,iBACjH,CAAEJ,KAAMQ,EAAON,MAAOtJ,EAAE,6CAA8C,qBAAsBuJ,MAAO,gBAAiBC,MAAO,gBAIvHK,GAAQ,CACZ,CACEP,MAAOtJ,EAAE,6BAA8B,oBACvC8J,MAAO,IACPC,OAAQ,IACRX,KAAMY,EACNC,YAAajK,EAAE,iCAAkC,4CAEnD,CACEsJ,MAAOtJ,EAAE,gCAAiC,uBAC1C8J,MAAO,IACPC,OAAQ,IACRX,KAAMc,EACND,YAAajK,EAAE,oCAAqC,2CAEtD,CACEsJ,MAAOtJ,EAAE,8BAA+B,qBACxC8J,MAAO,GACPC,OAAQ,IACRX,KAAMK,EACNQ,YAAajK,EAAE,kCAAmC,0CAEpD,CACEsJ,MAAOtJ,EAAE,6BACT8J,MAAO,IACPC,OAAQ,IACRX,KAAMe,EACNF,YAAajK,EAAE,mCAIboK,GAAiF,EAAGC,KAAIN,SAAS,GAAIO,gBACnG,MAAAC,EAAMrJ,SAA+B,MACrCsJ,EAAWC,EAAUF,EAAK,CAAEG,MAAM,EAAMC,OAAQ,uBAC/CC,EAAcC,GAAmBvK,EAAAA,SAAS,GAEjDqB,EAAAA,WAAU,KACR,IAAK6I,EAAU,OACT,MAAAM,EAAWC,EAAQ,EAAGV,EAAI,CAC9BW,SAAU,IACVC,KAAM,UACNC,SAAWC,GAAMN,EAAgBM,KAE5B,MAAA,IAAML,EAASM,MAAK,GAC1B,CAACZ,EAAUH,IAEd,MAAMgB,EAAY,IAAIC,KAAKC,aAAarL,EAAU,CAChDsL,SAAU,UACVC,sBAAuB,IACtBC,OAAOhJ,KAAKiJ,MAAMf,IAErB,OACGgB,EAAAA,KAAA,OAAA,CAAKrB,MAAUD,YAAsB,YAAU,SAC7CuB,SAAA,CAAAR,EACAtB,IACH,EA2BJ,OAtBApI,EAAAA,WAAU,KAIR,IAHiB8D,SAASqG,cACxB,6DAEa,CACP,MAAAC,EAAStG,SAASuG,cAAc,UACtCD,EAAOjF,OAAQ,EACfiF,EAAOE,KAAO,SACdF,EAAOG,IAAM,8CACNH,EAAAI,aAAa,iBAAkB,KAC/BJ,EAAAI,aAAa,eAAgB,SAC7BJ,EAAAI,aAAa,mBAAoB,SAC/B1G,SAAA2G,KAAKC,YAAYN,GAGzB/J,OAAesK,mBAAqB,IAC/BtK,OAAesK,mBACnBC,WAAY,IAAIrM,kBAClB,IAED,CAACA,IAIA0L,EAAAA,KAAAY,WAAA,CAAAX,SAAA,CAAAY,MAACC,EACC,CAAAb,SAAAY,EAAAA,IAAC,SAAA,CACC,iBAAe,IACf,eAAa,QACb,mBAAiB,QACjBR,KAAK,kBACLJ,SAAA,8YAUoB3L,mEAKxBuM,EAAAA,IAACE,EAAA,CACCC,MAAO5M,EAAE,aAAc,2CACvBiK,YAAajK,EACX,mBACA,+FAEF6M,SAAS,sFACTC,IAAK,IAAI5M,KACT6G,OAAqB,OAAb7G,EAAoB,QAAuB,OAAbA,EAAoB,QAAU,QACpE6M,eAlIoB,CACxB,WAAY,qBACZ,QAAS,UACTC,WAAc,MAqIZpB,EAAAA,KAAC,UAAQ,CAAAtB,UAAU,wCAEjBuB,SAAA,CAAAY,EAAAA,IAAC,MAAA,CACCP,IAAI,sCACJe,IAAI,qCACJC,QAAQ,QACRC,cAAc,OACdC,SAAS,QACT9C,UAAU,kFACV3E,MAAOb,GAAkB,CAAEuI,UAAW,uDAAqD,UAI5F,MAAI,CAAA/C,UAAW,iDACdnJ,EAAqB,cAAgB,uBAItC,MAAI,CAAAmJ,UAAW,wZACdnJ,EAAqB,aAAe,gBAItCsL,EAAAA,IAAC,MAAA,CACCnC,UAAW,oMACTnJ,EAAqB,aAAe,eAEtCwE,MAAOb,GAAkB,CAAEuI,UAAW,mEAAiE,IAEzGZ,EAAAA,IAAC,MAAA,CACCnC,UAAW,iNACTnJ,EAAqB,aAAe,eAEtCwE,MAAOb,GAAkB,CAAEuI,UAAW,mEAAiE,IAEzGZ,EAAAA,IAAC,MAAA,CACCnC,UAAW,kNACTnJ,EAAqB,aAAe,eAEtCwE,MAAOb,GAAkB,CAAEuI,UAAW,mEAAiE,UAGxG,MAAI,CAAA/C,UAAU,mDACbuB,SAACD,EAAAA,KAAA,MAAA,CAAItB,UAAU,gCAEbuB,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAItB,UAAU,OACbuB,SAAA,CAAAD,EAAAA,KAAC0B,EAAM,CAAAC,QAAQ,YAAYjD,UAAU,0DACnCuB,SAAA,CAACY,EAAAA,IAAAe,EAAA,CAAIlD,UAAU,iBACdtK,EAAE,aAAc,iCAGnB4L,EAAAA,KAAC,KAAG,CAAAtB,UAAU,2EACZuB,SAAA,CAAAY,MAAC,QAAKnC,UAAU,wEACbuB,SAAE7L,EAAA,eAAgB,8BAEpB,KAAG,UACH,OAAK,CAAAsK,UAAU,6EACbuB,SAAE7L,EAAA,gBAAiB,kBAIxByM,EAAAA,IAAC,IAAE,CAAAnC,UAAU,2EACVuB,SAAA7L,EACC,kBACA,gHAMLyM,EAAAA,IAAA,MAAA,CAAInC,UAAU,OACbuB,SAACY,EAAAA,IAAA,MAAA,CAAIlC,IAAKtJ,EACR4K,SAACY,MAAAgB,EAAA,CAAqB3N,gBAK1B8L,EAAAA,KAAC,MAAI,CAAAtB,UAAU,iEACbuB,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAItB,UAAU,0BACbuB,SAAA,CAACY,EAAAA,IAAAiB,EAAA,CAAOpD,UAAU,iCACH,OAAK,CAAAA,UAAU,UAAWuB,SAAE7L,EAAA,qCAAsC,uBAErF4L,EAAAA,KAAC,MAAI,CAAAtB,UAAU,0BACbuB,SAAA,CAACY,EAAAA,IAAAkB,EAAA,CAAMrD,UAAU,iCAChB,OAAK,CAAAA,UAAU,UAAWuB,SAAE7L,EAAA,4CAA6C,+BAE5E4L,EAAAA,KAAC,MAAI,CAAAtB,UAAU,0BACbuB,SAAA,CAACY,EAAAA,IAAAmB,EAAA,CAAWtD,UAAU,iCACrB,OAAK,CAAAA,UAAU,UAAWuB,SAAE7L,EAAA,kCAAmC,qCAUvE,UAAQ,CAAAsK,UAAU,iBACjBuB,SAACD,EAAAA,KAAA,MAAA,CAAItB,UAAU,yBACbuB,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAItB,UAAU,oBACbuB,SAAA,CAACD,EAAAA,KAAA,KAAA,CAAGtB,UAAU,4FACZuB,SAAA,CAACY,EAAAA,IAAAoB,EAAA,CAAMvD,UAAU,6BAChBtK,EAAE,0BAA2B,oCAE/B,IAAE,CAAAsK,UAAU,2CACVuB,SAAE7L,EAAA,gCAAiC,6EAIvC,MAAI,CAAAsK,UAAU,oBAEbuB,SAACD,EAAAA,KAAA,MAAA,CAAItB,UAAU,WAEbuB,SAAA,CAACY,EAAAA,IAAA,MAAA,CAAInC,UAAU,2HACfmC,EAAAA,IAAC,MAAI,CAAAnC,UAAU,2HAGfsB,EAAAA,KAAC,MAAI,CAAAtB,UAAU,oKAEbuB,SAAA,CAACY,EAAAA,IAAA,MAAA,CAAInC,UAAU,kFAGfmC,EAAAA,IAAC,OAAInC,UAAU,gBACbuB,eAAC,MAAI,CAAA9D,GAAG,kBAIV0E,EAAAA,IAAC,MAAI,CAAAnC,UAAU,2FACfmC,EAAAA,IAAC,MAAI,CAAAnC,UAAU,4FACfmC,EAAAA,IAAC,MAAI,CAAAnC,UAAU,8FACfmC,EAAAA,IAAC,MAAI,CAAAnC,UAAU,4GAUzBmC,EAAAA,IAACqB,EAAA,CACCjN,WACAqM,QAASnM,EACTb,WACA6N,UA3ZiBC,IACf,MAGAC,EAAqC,CACzCzK,YAlCuB,CAAC0K,IACpB,MAAA5I,EAAU6I,EAAkBD,GAClC,GAAI5I,GAAWA,EAAQe,OAAS,EAAU,OAAAf,EAAQ,GAAG8I,UAE/C,MAAAC,EAASC,EAASxG,MAAUhF,GAAAA,EAAEmF,KAAKsG,gBAAkBL,EAASK,gBAC7D,OAAAF,GAAQD,WAAaF,EAAStK,aAAY,EAyBhC4K,CAAmBR,GAKlCS,SAAU,YACVpK,OAAQ,IACRwH,SAAU,IACV6C,cAAe,IACfC,aAAc,IACdC,WAAY,WAIRC,MAASC,KACfD,EAAGE,QAAQF,EAAGG,UAAY,IAC1Bf,EAAWxK,cAAgBoL,EAAGI,cAAcC,MAAM,KAAK,GAGnD/J,UAAUgK,YACZhK,UAAUgK,YAAYC,oBACnBC,IACC,MAAMC,EA7DiB,EAACC,EAAaC,KAC3C,IAAIC,EAA4C,KAChD,IAAA,MAAWC,KAAMpB,EAAU,CACzB,MAAMqB,EAAKxN,GAAYoN,EAAKC,EAAKE,EAAGE,SAAUF,EAAGG,aAC5CJ,GAAQE,EAAKF,EAAKE,QAAW,CAAEG,KAAMJ,EAAGtB,UAAWuB,MAAG,CAE7D,OAAOF,GAAMK,MAAQ,KAAA,EAuDIC,CAAuBV,EAAIW,OAAOJ,SAAUP,EAAIW,OAAOH,WAC1E1M,GAAuB,IAAK8K,EAAY1K,OAAQ+L,GAAY,IAE9D,KAEEnM,GAAuB,IAAK8K,EAAY1K,OAAQ,OAAO,GAEzD,CAAE0M,oBAAoB,EAAOC,QAAS,IAAMC,WAAY,MAG1DhN,GAAuB,IAAK8K,EAAY1K,OAAQ,OAAO,EA2XrD6M,cAhSiB3I,GACjBA,EAAIU,UAAkBV,EAAIU,UAEvB,8CAmSJkI,EAAmB,IAUpBzE,EAAAA,KAAC0E,EAAOC,QAAP,CACCjG,UAAU,8CACVkG,QAAS,CAAEC,QAAS,EAAGC,MAAO,KAC9BC,YAAa,CAAEF,QAAS,EAAGC,MAAO,GAClCE,WAAY,CAAE5F,SAAU,IAAKC,KAAM,CAAC,IAAM,IAAM,IAAM,MACtD4F,SAAU,CAAEnG,MAAM,EAAMoG,OAAQ,IAGhCjF,SAAA,CAAAY,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,6BACVS,QAAS,CACPiG,WAAY,CACV,kEACA,kEACA,oEAGJJ,WAAY,CACV5F,SAAU,EACViG,OAAQC,IACRjG,KAAM,eAIVW,EAAAA,KAAC,MAAI,CAAAtB,UAAU,uCACbuB,SAAA,CAAAD,EAAAA,KAAC0E,EAAOS,IAAP,CACCzG,UAAU,oBACVkG,QAAS,CAAEC,QAAS,EAAGU,EAAG,IAC1BR,YAAa,CAAEF,QAAS,EAAGU,EAAG,GAC9BP,WAAY,CAAE5F,SAAU,IACxB6F,SAAU,CAAEnG,MAAM,GAElBmB,SAAA,CAAAY,MAAC,MAAGnC,UAAU,qDACXuB,SAAE7L,EAAA,wBAAyB,+BAE7B,IAAE,CAAAsK,UAAU,2CACVuB,SAAE7L,EAAA,4BAA6B,0EAIpCyM,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,yEACVkG,QAAS,CAAEC,QAAS,GACpBE,YAAa,CAAEF,QAAS,GACxBG,WAAY,CAAE5F,SAAU,GAAKoG,gBAAiB,KAC9CP,SAAU,CAAEnG,MAAM,EAAMoG,OAAQ,IAE/BjF,SAAiB1C,GAAA3B,KAAI,CAAC6J,EAAUC,IAC/B7E,EAAAA,IAAC6D,EAAOS,IAAP,CAECP,QAAS,CAAEC,QAAS,EAAGU,EAAG,GAAIT,MAAO,GAAKa,aAC1CZ,YAAa,CAAEF,QAAS,EAAGU,EAAG,EAAGT,MAAO,EAAGa,QAAS,GACpDX,WAAY,CACV5F,SAAU,GACVwG,MAAe,IAARF,EACPrG,KAAM,CAAC,IAAM,IAAM,IAAM,MAE3B4F,SAAU,CAAEnG,MAAM,EAAMoG,OAAQ,IAChCW,WAAY,CACVN,GAAG,GACHT,MAAO,KACPE,WAAY,CAAE5F,SAAU,GAAKC,KAAM,YAErCX,UAAU,gBAEVuB,eAAC6F,EAAK,CAAApH,UAAU,iGACduB,SAACD,EAAAA,KAAA+F,EAAA,CAAYrH,UAAU,MACrBuB,SAAA,CAAAY,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAW,aAAa+G,EAAS7H,0HACjCiI,WAAY,CACVf,MAAO,IACPE,WAAY,CAAE5F,SAAU,KAE1BD,QAAS,CACPoG,EAAG,CAAC,GAAG,EAAI,IAEbP,WAAY,CACV5F,SAAU,EACViG,OAAQC,IACRU,WAAY,UACZ3G,KAAM,YACNuG,MAAe,GAARF,GAGTzF,SAACY,EAAAA,IAAA4E,EAASjI,KAAT,CAAckB,UAAU,yBAE1BmC,EAAAA,IAAA,KAAA,CAAGnC,UAAU,4CAA6CuB,WAASvC,QACnEmD,EAAAA,IAAA,IAAA,CAAEnC,UAAU,yBAA0BuB,WAAStC,cAtC/C+H,OA8CX7E,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,oBACVkG,QAAS,CAAEC,QAAS,EAAGU,EAAG,IAC1BR,YAAa,CAAEF,QAAS,EAAGU,EAAG,GAC9BP,WAAY,CAAE5F,SAAU,GAAKwG,MAAO,IACpCX,SAAU,CAAEnG,MAAM,GAElBmB,SAAAY,EAAAA,IAACoF,EAAA,CACCC,QAASzQ,EACTiJ,UAAU,8NAEVuB,SAAAD,EAAAA,KAAC,OAAK,CAAAtB,UAAU,0BACduB,SAAA,CAACY,EAAAA,IAAAe,EAAA,CAAIlD,UAAU,YACdtK,EAAE,iCAAkC,mCAU/C4L,EAAAA,KAAC0E,EAAOC,QAAP,CACCjG,UAAU,8CACVkG,QAAS,CAAEC,QAAS,GACpBE,YAAa,CAAEF,QAAS,GACxBG,WAAY,CAAE5F,SAAU,IAAKC,KAAM,CAAC,GAAK,IAAM,IAAM,MACrD4F,SAAU,CAAEnG,MAAM,EAAMoG,OAAQ,IAGhCjF,SAAA,CAAAY,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,4EACVS,QAAS,CACPgH,OAAQ,CAAC,EAAG,KACZrB,MAAO,CAAC,EAAG,IAAK,GAChBD,QAAS,CAAC,GAAK,GAAK,KAEtBG,WAAY,CACV5F,SAAU,GACViG,OAAQC,IACRjG,KAAM,YAGVwB,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,gFACVS,QAAS,CACPgH,OAAQ,CAAC,IAAK,GACdrB,MAAO,CAAC,EAAG,GAAK,GAChBD,QAAS,CAAC,GAAK,IAAM,KAEvBG,WAAY,CACV5F,SAAU,GACViG,OAAQC,IACRjG,KAAM,YAIVW,EAAAA,KAAC,MAAI,CAAAtB,UAAU,uCACbuB,SAAA,CAAAD,EAAAA,KAAC0E,EAAOS,IAAP,CACCzG,UAAU,oBACVkG,QAAS,CAAEC,QAAS,EAAGU,EAAG,GAAIT,MAAO,IACrCC,YAAa,CAAEF,QAAS,EAAGU,EAAG,EAAGT,MAAO,GACxCE,WAAY,CACV5F,SAAU,EACVC,KAAM,CAAC,GAAK,IAAM,IAAM,KACxBuG,MAAO,IAETX,SAAU,CAAEnG,MAAM,GAElBmB,SAAA,CAAAY,EAAAA,IAAC6D,EAAO0B,GAAP,CACC1H,UAAU,qDACVkG,QAAS,CAAEC,QAAS,EAAGwB,GAAG,KAC1BtB,YAAa,CAAEF,QAAS,EAAGwB,EAAG,GAC9BrB,WAAY,CAAE5F,SAAU,GAAKwG,MAAO,IACpCX,SAAU,CAAEnG,MAAM,GAEjBmB,SAAA7L,EAAE,mBAAoB,2BAEzByM,EAAAA,IAAC6D,EAAO4B,EAAP,CACC5H,UAAU,2CACVkG,QAAS,CAAEC,QAAS,EAAGwB,EAAG,KAC1BtB,YAAa,CAAEF,QAAS,EAAGwB,EAAG,GAC9BrB,WAAY,CAAE5F,SAAU,GAAKwG,MAAO,IACpCX,SAAU,CAAEnG,MAAM,GAEjBmB,SAAA7L,EAAE,uBAAwB,8EAI/B4L,EAAAA,KAAC0E,EAAOS,IAAP,CACCzG,UAAU,yEACVkG,QAAS,CAAEC,QAAS,GACpBE,YAAa,CAAEF,QAAS,GACxBG,WAAY,CAAE5F,SAAU,EAAGoG,gBAAiB,IAC5CP,SAAU,CAAEnG,MAAM,EAAMoG,OAAQ,IAGhCjF,SAAA,CAAAY,EAAAA,IAAC6D,EAAOS,IAAP,CACCP,QAAS,CAAEC,QAAS,EAAGwB,GAAG,GAAKV,QAAS,IACxCZ,YAAa,CAAEF,QAAS,EAAGwB,EAAG,EAAGV,QAAS,GAC1CX,WAAY,CACV5F,SAAU,IACVC,KAAM,CAAC,GAAK,IAAM,IAAM,MAE1B4F,SAAU,CAAEnG,MAAM,EAAMoG,OAAQ,IAChCW,WAAY,CACVF,QAAS,EACTb,MAAO,KACPE,WAAY,CAAE5F,SAAU,GAAKC,KAAM,YAErCX,UAAU,iCAEVuB,SAAAD,EAAAA,KAAC8F,EAAK,CAAApH,UAAU,mGACduB,SAAA,CAAAY,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,gFACVkG,QAAS,CAAE2B,OAAQ,GACnBxB,YAAa,CAAEwB,OAAQ,GACvBvB,WAAY,CAAE5F,SAAU,GAAKwG,MAAO,IACpCX,SAAU,CAAEnG,MAAM,KAEpBkB,EAAAA,KAAC+F,EAAY,CAAArH,UAAU,MACrBuB,SAAA,CAAAY,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,8EACVmH,WAAY,CACVM,OAAQ,IACRrB,MAAO,IACPE,WAAY,CAAE5F,SAAU,GAAKC,KAAM,cAGrCY,SAAAY,EAAAA,IAACe,EAAI,CAAAlD,UAAU,mCAEhB,KAAG,CAAAA,UAAU,yCACXuB,SAAE7L,EAAA,2BAA4B,+BAEhC,IAAE,CAAAsK,UAAU,iCACVuB,SAAE7L,EAAA,+BAAgC,sHAO3CyM,EAAAA,IAAC6D,EAAOS,IAAP,CACCP,QAAS,CAAEC,QAAS,EAAGU,EAAG,GAAIiB,QAAS,IACvCzB,YAAa,CAAEF,QAAS,EAAGU,EAAG,EAAGiB,QAAS,GAC1CxB,WAAY,CACV5F,SAAU,IACVC,KAAM,CAAC,GAAK,IAAM,IAAM,KACxBuG,MAAO,IAETX,SAAU,CAAEnG,MAAM,EAAMoG,OAAQ,IAChCW,WAAY,CACVW,QAAS,EACT1B,MAAO,KACPE,WAAY,CAAE5F,SAAU,GAAKC,KAAM,YAErCX,UAAU,iCAEVuB,SAAAD,EAAAA,KAAC8F,EAAK,CAAApH,UAAU,mGACduB,SAAA,CAAAY,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,gFACVkG,QAAS,CAAE2B,OAAQ,GACnBxB,YAAa,CAAEwB,OAAQ,GACvBvB,WAAY,CAAE5F,SAAU,GAAKwG,MAAO,IACpCX,SAAU,CAAEnG,MAAM,KAEpBkB,EAAAA,KAAC+F,EAAY,CAAArH,UAAU,MACrBuB,SAAA,CAAAY,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,8EACVmH,WAAY,CACVM,QAAQ,IACRrB,MAAO,IACPE,WAAY,CAAE5F,SAAU,GAAKC,KAAM,cAGrCY,SAAAY,EAAAA,IAAChD,EAAO,CAAAa,UAAU,mCAEnB,KAAG,CAAAA,UAAU,yCACXuB,SAAE7L,EAAA,8BAA+B,0BAEnC,IAAE,CAAAsK,UAAU,iCACVuB,SAAE7L,EAAA,kCAAmC,kGAO9CyM,EAAAA,IAAC6D,EAAOS,IAAP,CACCP,QAAS,CAAEC,QAAS,EAAGwB,EAAG,GAAIV,aAC9BZ,YAAa,CAAEF,QAAS,EAAGwB,EAAG,EAAGV,QAAS,GAC1CX,WAAY,CACV5F,SAAU,IACVC,KAAM,CAAC,GAAK,IAAM,IAAM,KACxBuG,MAAO,IAETX,SAAU,CAAEnG,MAAM,EAAMoG,OAAQ,IAChCW,WAAY,CACVF,SAAS,EACTb,MAAO,KACPE,WAAY,CAAE5F,SAAU,GAAKC,KAAM,YAErCX,UAAU,iCAEVuB,SAAAD,EAAAA,KAAC8F,EAAK,CAAApH,UAAU,mGACduB,SAAA,CAAAY,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,gFACVkG,QAAS,CAAE2B,OAAQ,GACnBxB,YAAa,CAAEwB,OAAQ,GACvBvB,WAAY,CAAE5F,SAAU,GAAKwG,MAAO,KACpCX,SAAU,CAAEnG,MAAM,KAEpBkB,EAAAA,KAAC+F,EAAY,CAAArH,UAAU,MACrBuB,SAAA,CAAAY,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,8EACVmH,WAAY,CACVM,OAAQ,IACRrB,MAAO,IACPE,WAAY,CAAE5F,SAAU,GAAKC,KAAM,cAGrCY,SAAAY,EAAAA,IAAC9C,EAAS,CAAAW,UAAU,mCAErB,KAAG,CAAAA,UAAU,yCACXuB,SAAE7L,EAAA,gCAAiC,4BAErC,IAAE,CAAAsK,UAAU,iCACVuB,SAAE7L,EAAA,oCAAqC,wGAQlDyM,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,oBACVkG,QAAS,CAAEC,QAAS,EAAGC,MAAO,GAAKqB,WACnCpB,YAAa,CAAEF,QAAS,EAAGC,MAAO,EAAGqB,OAAQ,GAC7CnB,WAAY,CACV5F,SAAU,EACVwG,MAAO,IACPvG,KAAM,CAAC,GAAK,IAAM,IAAM,MAE1B4F,SAAU,CAAEnG,MAAM,GAClB+G,WAAY,CACVf,MAAO,KACPqB,OAAQ,EACRnB,WAAY,CAAE5F,SAAU,KAG1Ba,SAAAY,EAAAA,IAACoF,EAAA,CACCC,QAASzQ,EACTiJ,UAAU,8NAEVuB,SAAAD,EAAAA,KAAC,OAAK,CAAAtB,UAAU,0BACduB,SAAA,CAACY,EAAAA,IAAAe,EAAA,CAAIlD,UAAU,YACdtK,EAAE,6BAA8B,qDAU3C4L,EAAAA,KAAC0E,EAAOC,QAAP,CACCjG,UAAU,wGACVkG,QAAS,CAAEC,QAAS,EAAGU,EAAG,IAC1BR,YAAa,CAAEF,QAAS,EAAGU,EAAG,GAC9BP,WAAY,CAAE5F,SAAU,GAAKC,KAAM,CAAC,IAAM,IAAM,IAAM,MACtD4F,SAAU,CAAEnG,MAAM,EAAMoG,OAAQ,IAGhCjF,SAAA,CAACY,EAAAA,IAAA,MAAA,CAAInC,UAAU,sYAGfmC,EAAAA,IAAC,MAAI,CAAAnC,UAAU,qFACfmC,EAAAA,IAAC,MAAI,CAAAnC,UAAU,oGAEfsB,EAAAA,KAAC,MAAI,CAAAtB,UAAU,uCACbuB,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAItB,UAAU,oBACbuB,SAAA,CAAAY,EAAAA,IAAC6D,EAAO0B,GAAP,CACC1H,UAAU,iDACVkG,QAAS,CAAEC,QAAS,EAAGU,EAAG,IAC1BR,YAAa,CAAEF,QAAS,EAAGU,EAAG,GAC9BP,WAAY,CAAE5F,SAAU,IACxB6F,SAAU,CAAEnG,MAAM,GAEjBmB,SAAA7L,EAAE,mBAAoB,oCAEzByM,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,yCACV3E,MAAO,CAAEqL,WAAY,WACrBR,QAAS,CAAE2B,OAAQ,GACnBxB,YAAa,CAAEwB,OAAQ,GACvBvB,WAAY,CAAE5F,SAAU,GAAKC,KAAM,WACnC4F,SAAU,CAAEnG,MAAM,KAEpB+B,EAAAA,IAAC6D,EAAO4B,EAAP,CACC5H,UAAU,0CACVkG,QAAS,CAAEC,QAAS,EAAGU,EAAG,IAC1BR,YAAa,CAAEF,QAAS,EAAGU,EAAG,GAC9BP,WAAY,CAAE5F,SAAU,GAAKwG,MAAO,IACpCX,SAAU,CAAEnG,MAAM,GAEjBmB,SAAA7L,EAAE,sBAAuB,4EAI9ByM,EAAAA,IAAC6D,EAAOS,IAAP,CACCzG,UAAU,0DACVkG,QAAQ,SACRG,YAAY,UACZE,SAAU,CAAEnG,MAAM,EAAMoG,OAAQ,IAE/BjF,SAAMhC,GAAArC,KAAI,CAAC6K,EAAMf,IAChB7E,EAAAA,IAAC6D,EAAOS,IAAP,CAECzG,UAAU,oBACVkG,QAAS,CAAEC,QAAS,EAAGU,EAAG,GAAIiB,SAAS,GAAK1B,MAAO,KACnDC,YAAa,CAAEF,QAAS,EAAGU,EAAG,EAAGiB,QAAS,EAAG1B,MAAO,GACpDE,WAAY,CAAE5F,SAAU,GAAKwG,MAAe,IAARF,EAAcrG,KAAM,CAAC,IAAM,IAAM,IAAM,MAC3E4F,SAAU,CAAEnG,MAAM,EAAMoG,OAAQ,IAChCW,WAAY,CAAEN,MAEdtF,SAAAD,EAAAA,KAAC,MAAI,CAAAtB,UAAU,oIACbuB,SAAA,CAACY,EAAAA,IAAA,MAAA,CAAInC,UAAU,sIACbuB,SAAAY,EAAAA,IAAC4F,EAAKjJ,KAAL,CAAUkB,UAAU,yBAEvBmC,EAAAA,IAACrC,IAAgBC,GAAIgI,EAAKvI,MAAOC,OAAQsI,EAAKtI,OAAQO,UAAU,mDAC/DmC,EAAAA,IAAA,MAAA,CAAInC,UAAU,mCAAoCuB,WAAKvC,QACvDmD,EAAAA,IAAA,MAAA,CAAInC,UAAU,wCAAyCuB,WAAK5B,kBAd1DqH,OAqBX7E,EAAAA,IAAC,MAAI,CAAAnC,UAAU,oBACbuB,SAAAY,EAAAA,IAACoF,EAAA,CACCC,QAASzQ,EACTiJ,UAAU,sLAEVuB,SAAAD,EAAAA,KAAC,OAAK,CAAAtB,UAAU,0BACduB,SAAA,CAACY,EAAAA,IAAAe,EAAA,CAAIlD,UAAU,YACdtK,EAAE,sBAAuB,wCAUpCyM,EAAAA,IAAC,WAAQnC,UAAU,oCAAoC,kBAAgB,uBACrEuB,SAAAD,EAAAA,KAAC,MAAI,CAAAtB,UAAU,mCACbuB,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAItB,UAAU,oBACbuB,SAAA,CAACY,EAAAA,IAAA,KAAA,CAAG1E,GAAG,uBAAuBuC,UAAU,qDACrCuB,SAAE7L,EAAA,mBAAoB,8BAExB,IAAE,CAAAsK,UAAU,2CACVuB,SAAE7L,EAAA,uBAAwB,4FAG9BsS,EAAgB,IAGjB7F,EAAAA,IAAC,MAAI,CAAAnC,UAAU,oBACbuB,SAAAY,EAAAA,IAACoF,EAAA,CACCC,QAASzQ,EACTiJ,UAAU,8NAEVuB,SAAAD,EAAAA,KAAC,OAAK,CAAAtB,UAAU,0BACduB,SAAA,CAACY,EAAAA,IAAAe,EAAA,CAAIlD,UAAU,YACdtK,EAAE,6BAA8B,8CAU3CyM,EAAAA,IAAC8F,EAAA,CACC5R,cACA6R,WAAY,EACZC,aAAc7R,MAElB"}