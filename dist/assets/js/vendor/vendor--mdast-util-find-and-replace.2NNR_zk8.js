import{c as e}from"./vendor--unist-util-is.C5Jwnfs7.js";import{v as t}from"./vendor--unist-util-visit-parents.DAGCrDnu.js";function n(n,o,l){const s=e((l||{}).ignore||[]),u=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let o=-1;for(;++o<n.length;){const e=n[o];t.push([r(e[0]),i(e[1])])}return t}(o);let c=-1;for(;++c<u.length;)t(n,"text",f);function f(e,t){let n,r=-1;for(;++r<t.length;){const e=t[r],i=n?n.children:void 0;if(s(e,i?i.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],r=u[c][0],i=u[c][1];let o=0;const l=n.children.indexOf(e);let s=!1,f=[];r.lastIndex=0;let p=r.exec(e.value);for(;p;){const n=p.index,l={index:p.index,input:p.input,stack:[...t,e]};let u=i(...p,l);if("string"==typeof u&&(u=u.length>0?{type:"text",value:u}:void 0),!1===u?r.lastIndex=n+1:(o!==n&&f.push({type:"text",value:e.value.slice(o,n)}),Array.isArray(u)?f.push(...u):u&&f.push(u),o=n+p[0].length,s=!0),!r.global)break;p=r.exec(e.value)}s?(o<e.value.length&&f.push({type:"text",value:e.value.slice(o)}),n.children.splice(l,1,...f)):f=[e];return l+f.length}(e,t)}}function r(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function i(e){return"function"==typeof e?e:function(){return e}}export{n as f};
//# sourceMappingURL=vendor--mdast-util-find-and-replace.2NNR_zk8.js.map
